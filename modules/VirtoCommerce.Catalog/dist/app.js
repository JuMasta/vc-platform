!function(e){var t={};function o(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){o(1),o(2),o(3),o(4),o(5),o(6),o(7),o(8),o(9),o(10),o(11),o(12),o(13),o(14),o(15),o(16),o(17),o(18),o(19),o(20),o(21),o(22),o(23),o(24),o(25),o(26),o(27),o(28),o(29),o(30),o(31),o(32),o(33),o(34),o(35),o(36),o(37),o(38),o(39),o(40),o(41),o(42),o(43),o(44),o(45),o(46),o(47),o(48),o(49),o(50),o(51),o(52),o(53),o(54),o(55),o(56),o(57),o(58),o(59),o(60),o(61),o(62),o(63),o(64),o(65),o(66),o(67),o(68),o(69),o(70),o(71),o(72),o(73),o(74),o(75),o(76),o(77),o(78),o(79),o(80),o(81),o(82),o(83),o(84),o(85),o(86),o(87),o(88),o(89),o(90),o(91),o(92),o(93),o(94),o(95),o(96),o(97),o(98),o(99),o(100),e.exports=o(101)},function(e,t){null!=AppDependencies&&AppDependencies.push("virtoCommerce.catalogModule"),angular.module("virtoCommerce.catalogModule",["ui.grid.validate","ui.grid.infiniteScroll"]).config(["$stateProvider",function(e){e.state("workspace.catalog",{url:"/catalog",templateUrl:"$(Platform)/Scripts/common/templates/home.tpl.html",controller:["$scope","platformWebApp.bladeNavigationService",function(e,t){t.showBlade({id:"categories",title:"catalog.blades.catalogs-list.title",breadcrumbs:[],subtitle:"catalog.blades.catalogs-list.subtitle",controller:"virtoCommerce.catalogModule.catalogsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/catalogs-list.tpl.html",isClosingDisabled:!0}),e.moduleName="vc-catalog"}]})}]).factory("virtoCommerce.catalogModule.predefinedSearchFilters",["$localStorage",function(e){return e.catalogSearchFilters=e.catalogSearchFilters||[],{register:function(t,o,a){_.each(a,(function(a){var r=_.find(e.catalogSearchFilters,(function(e){return e.id===a.id}));r?(!r.lastUpdateTime||r.lastUpdateTime<t)&&angular.copy(a,r):(!e[o]||e[o]<t)&&e.catalogSearchFilters.splice(0,0,a)})),e[o]=t}}}]).factory("virtoCommerce.catalogModule.itemTypesResolverService",(function(){return{objects:[],registerType:function(e){this.objects.push(e)},resolve:function(e){return _.findWhere(this.objects,{productType:e})}}})).factory("virtoCommerce.catalogModule.catalogImagesFolderPathHelper",[function(){return{getImagesFolderPath:function(e,t){return(e.length>5?e.substring(0,5):e)+"/"+t}}}]).run(["platformWebApp.mainMenuService","platformWebApp.widgetService","$state","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.catalogExportService","platformWebApp.permissionScopeResolver","virtoCommerce.catalogModule.catalogs","virtoCommerce.catalogModule.predefinedSearchFilters","platformWebApp.metaFormsService","virtoCommerce.catalogModule.itemTypesResolverService","$http","$compile","virtoCommerce.exportModule.genericViewerItemService","platformWebApp.toolbarService","platformWebApp.breadcrumbHistoryService",function(e,t,o,a,r,i,l,n,c,s,d,u,g,m,p){var f={path:"browse/catalog",icon:"fa fa-folder",title:"catalog.main-menu-title",priority:20,action:function(){o.go("workspace.catalog")},permission:"catalog:access"};e.addMenuItem(f),m.register(p.getBackButtonInstance(),"virtoCommerce.catalogModule.categoriesItemsListController"),m.register(p.getBackButtonInstance(),"virtoCommerce.catalogModule.catalogItemSelectController");var y={controller:"virtoCommerce.catalogModule.catalogEntryImageWidgetController",size:[2,2],template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/catalogEntryImageWidget.tpl.html"};t.registerWidget(y,"itemDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.videoWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/videoWidget.tpl.html"},"itemDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.itemPropertyWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/itemPropertyWidget.tpl.html"},"itemDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.itemAssociationsWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/itemAssociationsWidget.tpl.html"},"itemDetail");var C={controller:"virtoCommerce.coreModule.seo.seoWidgetController",template:"Modules/$(VirtoCommerce.Core)/Scripts/SEO/widgets/seoWidget.tpl.html",objectType:"CatalogProduct",getDefaultContainerId:function(e){},getLanguages:function(e){return _.pluck(e.catalog.languages,"languageCode")}};t.registerWidget(C,"itemDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.itemDimensionWidgetController",isVisible:function(e){return"Physical"===e.productType},size:[2,1],template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/itemDimensionWidget.tpl.html"},"itemDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.editorialReviewWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/editorialReviewWidget.tpl.html"},"itemDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.itemVariationWidgetController",isVisible:function(e){return"variationDetail"!==e.id},size:[1,1],template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/itemVariationWidget.tpl.html"},"itemDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.itemAssetWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/itemAssetWidget.tpl.html"},"itemDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.billOfMaterialsWidgetController",isVisible:function(e){return"BillOfMaterials"===e.productType},template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/billOfMaterialsWidget.tpl.html"},"itemDetail"),t.registerWidget(y,"categoryDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.categoryPropertyWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/categoryPropertyWidget.tpl.html"},"categoryDetail");var v={controller:"virtoCommerce.coreModule.seo.seoWidgetController",template:"Modules/$(VirtoCommerce.Core)/Scripts/SEO/widgets/seoWidget.tpl.html",objectType:"Category",getDefaultContainerId:function(e){},getLanguages:function(e){return _.pluck(e.catalog.languages,"languageCode")}};t.registerWidget(v,"categoryDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.categoryDescriptionWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/categoryDescriptionWidget.tpl.html"},"categoryDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.catalogLanguagesWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/catalogLanguagesWidget.tpl.html"},"catalogDetail");t.registerWidget({isVisible:function(e){return!e.isNew},controller:"virtoCommerce.catalogModule.catalogPropertyWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/catalogPropertyWidget.tpl.html"},"catalogDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.linksWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/linksWidget.tpl.html"},"categoryDetail");t.registerWidget({controller:"virtoCommerce.catalogModule.linksWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/linksWidget.tpl.html"},"itemDetail");var h={type:"SelectedCatalogScope",title:"catalog.permissions.catalog-scope.title",selectFn:function(e,t){var o={id:"catalog-pick",title:this.title,subtitle:"catalog.permissions.catalog-scope.blade.subtitle",currentEntity:this,onChangesConfirmedFn:t,dataService:l,controller:"platformWebApp.security.scopeValuePickFromSimpleListController",template:"$(Platform)/Scripts/app/security/blades/common/scope-value-pick-from-simple-list.tpl.html"};a.showBlade(o,e)}};i.register(h);var b={type:"CatalogSelectedCategoryScope",title:"catalog.permissions.category-scope.title",selectFn:function(e,t){var o=_.map(this.assignedScopes,(function(e){return{id:e.scope,name:e.label}})),r={showCheckingMultiple:!1,allowCheckingItem:!1,allowCheckingCategory:!0,selectedItemIds:_.map(this.assignedScopes,(function(e){return e.scope})),checkItemFn:function(e,t){t?_.all(o,(function(t){return t.id!==e.id}))&&o.push(e):o=_.reject(o,(function(t){return t.id===e.id}))}},i=this.scopeOriginal,l={id:"CatalogItemsSelect",title:"catalog.blades.catalog-items-select.title",controller:"virtoCommerce.catalogModule.catalogItemSelectController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/common/catalog-items-select.tpl.html",options:r,breadcrumbs:[],toolbarCommands:[{name:"platform.commands.confirm",icon:"fas fa-plus",executeMethod:function(e){var r=_.map(o,(function(e){return angular.extend({scope:e.id,label:e.name},i)}));t(r),a.closeBlade(e)},canExecuteMethod:function(){return o.length>0}}]};a.showBlade(l,e)}};i.register(b);var M={controller:"virtoCommerce.searchModule.indexWidgetController",template:"Modules/$(VirtoCommerce.Search)/Scripts/widgets/index-widget.tpl.html"},E=angular.extend({},M,{documentType:"Product"});t.registerWidget(E,"itemDetail"),E=angular.extend({},M,{documentType:"Category"}),t.registerWidget(E,"categoryDetail"),t.registerWidget({controller:"virtoCommerce.catalogModule.aggregationPropertiesWidgetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/widgets/aggregationPropertiesWidget.tpl.html"},"storeDetail"),n.register(1477584e6,"catalogSearchFiltersDate",[{name:"catalog.blades.categories-items-list.labels.filter-new"},{keyword:"",searchInVariations:!0,id:5,name:"catalog.blades.categories-items-list.labels.filter-display-variations"},{keyword:"is:hidden",id:4,name:"catalog.blades.categories-items-list.labels.filter-notActive"},{keyword:"price_usd:[100 TO 200]",id:3,name:"catalog.blades.categories-items-list.labels.filter-priceRange"},{keyword:"is:priced",id:2,name:"catalog.blades.categories-items-list.labels.filter-withPrice"},{keyword:"is:unpriced",id:1,name:"catalog.blades.categories-items-list.labels.filter-priceless"}]),s.registerType({itemType:"catalog.blades.categories-items-add.menu.physical-product.title",description:"catalog.blades.categories-items-add.menu.physical-product.description",productType:"Physical",icon:"fas fa-box"}),s.registerType({itemType:"catalog.blades.categories-items-add.menu.digital-product.title",description:"catalog.blades.categories-items-add.menu.digital-product.description",productType:"Digital",icon:"fas fa-file-download"}),s.registerType({itemType:"catalog.blades.categories-items-add.menu.bill-of-materials-product.title",description:"catalog.blades.categories-items-add.menu.bill-of-materials-product.description",productType:"BillOfMaterials",icon:"far fa-list-alt"}),c.registerMetaFields("catalogDetail",[{name:"name",title:"catalog.blades.catalog-detail.labels.catalog-name",placeholder:"catalog.blades.catalog-detail.placeholders.enter-name",colSpan:2,isRequired:!0,valueType:"ShortText"}]),c.registerMetaFields("categoryDetail",[{name:"isActive",title:"catalog.blades.category-detail.labels.is-active",colSpan:2,valueType:"Boolean"},{name:"name",title:"catalog.blades.category-detail.labels.name",placeholder:"catalog.blades.category-detail.placeholders.name",colSpan:2,isRequired:!0,valueType:"ShortText"},{title:"catalog.blades.category-detail.labels.code",templateUrl:"code.html"},{colSpan:1,spanAllColumns:!0,templateUrl:"taxType.html"},{name:"priority",title:"catalog.blades.category-detail.labels.priority",placeholder:"catalog.blades.category-detail.placeholders.priority",colSpan:2,valueType:"Integer"}]),c.registerMetaFields("productDetail",[{title:"catalog.blades.item-detail.labels.name",colSpan:6,templateUrl:"name.html"}]),c.registerMetaFields("productDetail1",[{name:"id",title:"catalog.blades.item-detail.labels.id",colSpan:3,isReadOnly:!0,valueType:"ShortText"},{name:"outerId",title:"catalog.blades.item-detail.labels.outer-id",colSpan:3,placeholder:" ",isReadOnly:!0,valueType:"ShortText"},{title:"catalog.blades.item-detail.labels.sku",colSpan:3,templateUrl:"sku.html"},{name:"_priority",title:"catalog.blades.item-detail.labels.priority",placeholder:"catalog.blades.item-detail.placeholders.priority",colSpan:3,valueType:"Integer"},{title:"catalog.blades.item-detail.labels.gtin",colSpan:6,templateUrl:"gtin.html"}]),c.registerMetaFields("productDetail2",[{title:"catalog.blades.item-detail.labels.start-date",colSpan:3,templateUrl:"startDate.html"},{title:"catalog.blades.item-detail.labels.end-date",colSpan:3,templateUrl:"endDate.html"},{name:"isBuyable",title:"catalog.blades.item-detail.labels.can-be-purchased",colSpan:2,valueType:"Boolean"},{name:"isActive",title:"catalog.blades.item-detail.labels.store-visible",colSpan:2,valueType:"Boolean"},{name:"trackInventory",title:"catalog.blades.item-detail.labels.track-inventory",isVisibleFn:e=>"Digital"!==e.item.productType,colSpan:2,valueType:"Boolean"},{name:"hasUserAgreement",title:"catalog.blades.item-detail.labels.has-user-agreement",isVisibleFn:e=>"Digital"===e.item.productType,colSpan:2,valueType:"Boolean"},{name:"minQuantity",title:"catalog.blades.item-detail.labels.min-quantity",isVisibleFn:e=>"Digital"!==e.item.productType,colSpan:3,valueType:"Integer"},{name:"maxQuantity",title:"catalog.blades.item-detail.labels.max-quantity",isVisibleFn:e=>"Digital"!==e.item.productType,colSpan:3,valueType:"Integer"},{colSpan:2,title:"catalog.blades.item-detail.labels.download-type",isVisibleFn:e=>"Digital"===e.item.productType,templateUrl:"downloadType.html"},{name:"maxNumberOfDownload",title:"catalog.blades.item-detail.labels.max-downloads",isVisibleFn:e=>"Digital"===e.item.productType,colSpan:2,valueType:"Integer"},{name:"downloadExpiration",title:"catalog.blades.item-detail.labels.expiration-date",placeholder:"catalog.blades.item-detail.placeholders.expiration-date",isVisibleFn:e=>"Digital"===e.item.productType,colSpan:2,valueType:"DateTime"},{colSpan:3,spanAllColumns:!0,templateUrl:"vendor.html"},{colSpan:3,spanAllColumns:!0,templateUrl:"taxType.html"}]),c.registerMetaFields("VirtoCommerce.CatalogModule.Core.Model.Export.ExportableProductExportFilter",[{name:"catalogSelector",title:"catalog.selectors.titles.catalogs",templateUrl:"Modules/$(VirtoCommerce.Catalog)/Scripts/selectors/catalog-selector.tpl.html"},{name:"categorySelector",title:"catalog.selectors.titles.categories",templateUrl:"Modules/$(VirtoCommerce.Catalog)/Scripts/selectors/category-selector.tpl.html"},{name:"searchInVariations",title:"catalog.selectors.titles.search-in-variations",valueType:"Boolean"},{name:"searchInChildren",title:"catalog.selectors.titles.search-in-children",valueType:"Boolean"}]),c.registerMetaFields("VirtoCommerce.CatalogModule.Core.Model.Export.ExportableCatalogFullExportFilter",[{name:"catalogSelector",title:"catalog.selectors.titles.catalogs",templateUrl:"Modules/$(VirtoCommerce.Catalog)/Scripts/selectors/catalog-selector.tpl.html"}]),g.registerViewer("CatalogProduct",(function(e){var t=angular.copy(e);return{id:"itemmDetail",itemId:t.id,productType:t.productType,title:t.name,controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"}})),d.get("Modules/$(VirtoCommerce.Catalog)/Scripts/directives/itemSearch.tpl.html").then((function(e){u(e.data)})),r.register({name:"Generic Export",description:"Export products filtered by catalogs or categories to JSON or CSV",icon:"fa-fw fa fa-database",controller:"virtoCommerce.exportModule.exportSettingsController",template:"Modules/$(VirtoCommerce.Export)/Scripts/blades/export-settings.tpl.html",id:"catalogGenericExport",title:"catalog.blades.exporter.productTitle",subtitle:"catalog.blades.exporter.productSubtitle",onInitialize:function(e){var t={exportTypeName:"VirtoCommerce.CatalogModule.Core.Model.Export.ExportableProduct",dataQuery:{exportTypeName:"ProductExportDataQuery",categoryIds:_.pluck(e.selectedCategories,"id"),objectIds:_.pluck(e.selectedProducts,"id"),catalogIds:[e.catalog.id],searchInChildren:!0,isAllSelected:!0}};e.exportDataRequest=t,e.totalItemsCount=(e.selectedProducts||[]).length}})}])},function(e,t){var o="virtoCommerce.catalogBulkActionsModule";void 0!==AppDependencies&&AppDependencies.push(o),angular.module(o,[]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("workspace.virtoCommerceCatalogBulkActionsModuleState",{url:"/virtoCommerce.catalogBulkActionsModule",templateUrl:"$(Platform)/Scripts/common/templates/home.tpl.html",controller:["$scope","platformWebApp.bladeNavigationService",function(e,t){t.showBlade({id:"blade1",controller:"virtoCommerce.catalogBulkActionsModule.helloWorldController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/hello-world.html",isClosingDisabled:!0})}]})}]).run(["$rootScope","platformWebApp.mainMenuService","platformWebApp.widgetService","$state","platformWebApp.toolbarService","platformWebApp.bladeUtils","virtoCommerce.catalogModule.catalogBulkActionService","platformWebApp.bladeNavigationService",function(e,t,o,a,r,i,l,n){l.register({name:"CategoryChangeBulkAction",controller:"virtoCommerce.catalogModule.changeCategoryActionStepsController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/action-change-category.tpl.html"}),l.register({name:"PropertiesUpdateBulkAction",controller:"virtoCommerce.catalogModule.editPropertiesActionController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/action-edit-properties.tpl.html"}),r.register({name:"Bulk Actions",icon:"fa fa-cubes",executeMethod:function(e){var t=e.$scope.gridApi,o=e.filter,a={id:"catalogBulkActions",title:"catalogBulkActions.blades.exporter-list.title",subtitle:"catalogBulkActions.blades.exporter-list.subtitle",catalog:e.catalog,controller:"virtoCommerce.catalogModule.actionListController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/action-list.tpl.html",selectedProducts:_.filter(t.selection.getSelectedRows(),(function(e){return"product"===e.type})),selectedCategories:_.filter(t.selection.getSelectedRows(),(function(e){return"category"===e.type})),dataQuery:{}};if(t.selection.getSelectAllState()){var r={searchCriteria:{catalogId:e.catalogId,categoryId:e.categoryId,keyword:o.keyword?o.keyword:void 0,searchInVariations:!!o.searchInVariations&&o.searchInVariations,responseGroup:"withCategories, withProducts",skip:void 0,take:void 0}};angular.extend(a.dataQuery,r)}else{var i={listEntries:t.selection.getSelectedRows()};angular.extend(a.dataQuery,i)}n.showBlade(a)},canExecuteMethod:function(e){var t=e.$scope.gridApi;return t&&_.any(t.selection.getSelectedRows())},index:20},"virtoCommerce.catalogModule.categoriesItemsListController")}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.changeCategoryActionStepsController",["$scope","$translate","platformWebApp.bladeNavigationService","$localStorage",function(e,t,o,a){var r=e.blade;r.canStartProcess=!1,r.isLoading=!0,r.selectedCategory=null,r.actionDataContext=angular.extend({categoryId:null,catalogId:null},r.actionDataContext),e.startAction=function(){var e={id:"actionProgress",title:"virtoCommerce.catalogBulkActionsModule.blades.action-progress.title",controller:"virtoCommerce.catalogModule.bulkActionProgressController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/bulk-action-progress.tpl.html",actionDataContext:r.actionDataContext,onCompleted:function(){r.isProcessing=!1}};o.showBlade(e,r)},e.selectCategory=function(){var t=[r.actionDataContext.categoryId],a={id:"CatalogItemsSelect",controller:"virtoCommerce.catalogModule.catalogItemSelectController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/common/catalog-items-select.tpl.html",title:"catalog.selectors.blades.titles.select-categories",options:{showCheckingMultiple:!1,allowCheckingCategory:!0,allowCheckingItem:!1,selectedItemIds:t,checkItemFn:function(e,o){o?_.find(t,(function(t){return t===e.id}))||(t.push(e.id),r.selectedCategory=e,r.actionDataContext.categoryId=e.id,r.actionDataContext.catalogId=e.catalogId):t=_.reject(t,(function(t){return t===e.id}))}},breadcrumbs:[],toolbarCommands:[{name:"platform.commands.confirm",icon:"fa fa-check",executeMethod:function(e){r.canStartProcess=!0,o.closeBlade(e)},canExecuteMethod:function(){return _.any(t)}},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(a){t=[],r.categoryId="",e.selectedCount=0,o.closeBlade(a)},canExecuteMethod:function(){return _.any(t)}}]};o.showBlade(a,r)},e.validateActionParameters=function(){return!0},e.blade.headIcon="fa fa-upload",r.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.editPropertiesActionController",["$scope","$translate","platformWebApp.bladeNavigationService","$localStorage","virtoCommerce.catalogBulkActionsModule.webApi",function(e,t,o,a,r){var i=e.blade;i.canStartProcess=!1,i.isLoading=!0,i.isPropertiesSelected=!1,i.properties=[],i.includedProperties=[],i.propertySelected=0,i.actionDataContext=angular.extend({editedProperties:{}},i.actionDataContext),e.startAction=function(){var e={id:"actionProgress",title:"virtoCommerce.catalogBulkActionsModule.blades.action-progress.title",controller:"virtoCommerce.catalogModule.bulkActionProgressController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/bulk-action-progress.tpl.html",actionDataContext:i.actionDataContext,onCompleted:function(){i.isProcessing=!1}};o.showBlade(e,i)},e.selectProperties=function(){var t={id:"propertiesSelector",controller:"virtoCommerce.catalogModule.propertiesSelectorController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/step-select-properties.tpl.html",properties:i.properties,includedProperties:i.includedProperties,onSelected:function(t){i.includedProperties=t,i.propertySelected=t.length,i.isPropertiesSelected=!0,e.editProperties()}};o.showBlade(t,i)},e.editProperties=function(){var e={id:"propertiesEditor",controller:"virtoCommerce.catalogModule.editPropertiesActionStepController",template:"Modules/$(virtoCommerce.catalog)/Scripts/blades/step-edit-properties.tpl.html",properties:i.includedProperties,propGroups:[{title:"catalog.properties.product",type:"Product"},{title:"catalog.properties.variation",type:"Variation"}],onSelected:function(e){i.canStartProcess=!0,i.actionDataContext.properties=e}};o.showBlade(e,i)},e.validateActionParameters=function(){return!0},e.blade.headIcon="fa fa-upload",r.getActionData(i.actionDataContext,(function(e){i.properties=e.properties,i.propertyTotal=e.properties.length,_.each(i.properties,(function(e){e.id||"Vendor"!==e.name&&"TaxType"!==e.name&&"MeasureUnit"!==e.name&&"PackageType"!==e.name&&"WeightUnit"!==e.name?e.UseDefaultUIForEdit=!0:e.UseDefaultUIForEdit=!1,e.values=[],"Native properties"===e.ownerName?e.group="Native product properties":e.group="Extended properties"})),i.isLoading=!1}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.actionListController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.catalogBulkActionService","virtoCommerce.catalogBulkActionsModule.webApi",function(e,t,o,a){var r=e.blade;e.selectedNodeId=null,e.openBlade=function(e){var a={};angular.copy(e,a);var i=o.getByName(e.name);i?(a.controller=i.controller,a.template=i.template,t.showBlade(a,r)):t.setError("Can't find controller for action "+e.name,r)},e.blade.headIcon="fa fa-upload",e.blade.title="Bulk action list",e.blade.subtitle="Select action for bulk operation",r.initializeAction=function(e){e.title="virtoCommerce.catalogBulkActionsModule.actions.types."+e.name+".title",e.subtitle="virtoCommerce.catalogBulkActionsModule.actions.types."+e.name+".subtitle",e.id=e.name,e.icon="fa fa-cogs",e.actionDataContext={actionName:e.name,contextTypeName:e.contextTypeName,dataQuery:r.dataQuery}},a.getActions((function(e){e&&(r.actions=_.each(e,(function(e){r.initializeAction(e)})))})),r.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.advancedSearchResultsController",["$rootScope","$scope","$filter","virtoCommerce.catalogModule.categories","virtoCommerce.catalogModule.items","virtoCommerce.catalogModule.listEntries","platformWebApp.bladeNavigationService","platformWebApp.dialogService",function(e,t,o,a,r,i,l,n){t.blade.refresh=function(){t.blade.isLoading=!0;var e=(t.pageSettings.currentPage-1)*t.pageSettings.itemsPerPageCount;i.listitemssearch({catalogId:t.blade.catalogId,categoryId:t.blade.categoryId,responseGroup:"withProducts",skip:e,take:t.pageSettings.itemsPerPageCount},(function(e,o){t.blade.isLoading=!1,t.pageSettings.totalItems=e.totalCount,t.items=e.listEntries}),(function(e){l.setError("Error "+e.status,t.blade)}))},t.selectItem=function(e){t.selectedItem=e},t.blade.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:blade.refresh,canExecuteMethod:function(){return!0}}]}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.advancedSearchController",["$scope","$filter","virtoCommerce.catalogModule.listEntries","platformWebApp.bladeNavigationService",function(e,t,o,a){var r=void 0;function i(e){var t=[];return angular.forEach(e,(function(e){e.isChecked&&t.push(e)})),t}e.filter={searchKeyword:void 0},e.blade.refresh=function(){e.blade.isLoading=!0;var l=o.listitemssearch({categoryId:e.filter.categoryId,catalogId:e.filter.catalogId,keyword:e.filter.searchKeyword,propertyValues:e.filter.propValues,responseGroup:"withCatalogs, withCategories, withProperties",skip:0,take:0},(function(){e.blade.isLoading=!1;var o,a,n,c,s={children:l.treeNodes};e.tree=[s],e.propertyValueGroups=(o=r,a=l.propertyValues,n={},c=i(o),angular.forEach(a,(function(e){angular.isUndefined(n[e.propertyName])&&(n[e.propertyName]={propValues:[],showAll:!1}),n[e.propertyName].propValues.push(e),e.isChecked=t("filter")(c,(function(t){return t.propertyName==e.propertyName&&t.value==e.value})).length>0})),n),r=l.propertyValues,e.checkedPropValues=i(r)}),(function(t){a.setError("Error "+t.status,e.blade)}))},e.refreshItems=function(){var t={id:"searchResults",title:"catalog.blades.advanced-search-results.title",subtitle:"",filter:e.filter,controller:"virtoCommerce.catalogModule.advancedSearchResultsController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/advanced-search-results.tpl.html"};a.showBlade(t,e.blade)},e.uncheckAllProp=function(){angular.forEach(e.checkedPropValues,(function(e){e.isChecked=!1})),e.updateSelectedPropValues(),e.refreshItems()},e.updateSelectedPropValues=function(){e.checkedPropValues=i(r)},e.blade.refresh(),e.refreshItems()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.aggregationPropertyDetailsController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.aggregationProperties",function(e,t,o){var a=e.blade;a.updatePermission="store:update",a.headIcon="fa fa-gear";a.propertyTypes=["Attribute","Range"],a.isRange=function(){return"Attribute"!==a.property.type},a.canChangeType=function(){return"PriceRange"!==a.property.type},a.canChangeSize=function(){return!a.isRange()},a.getValues=function(e){var t;return a.isRange()?(t=[],e&&!isNaN(e)&&angular.isNumber(+e)&&t.unshift(e)):(t=a.values,e&&-1===t.indexOf(e)&&(t=a.values.slice()).unshift(e)),t},a.onClose=function(o){t.showConfirmationIfNeeded(!angular.equals(a.property,a.originalProperty)&&a.hasUpdatePermission(),!0,a,e.saveChanges,o,"Save changes","The property settings have been modified. Do you want to save changes?")},e.saveChanges=function(){angular.copy(a.property,a.originalProperty),e.bladeClose()},e.isValid=!0,a.originalProperty=a.property,a.property=angular.copy(a.property),a.values=[],o.getValues({storeId:a.storeId,propertyName:a.originalProperty.name},(function(e){a.values=e,a.isLoading=!1}),(function(e){t.setError("Error: "+e.status,a)})),a.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.aggregationPropertiesController",["$scope","platformWebApp.dialogService","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.aggregationProperties",function(e,t,o,a){var r=e.blade;function i(){return!angular.equals(r.selectedEntities,r.origSelected)&&r.hasUpdatePermission()}r.updatePermission="store:update",r.edit=function(e){var t={id:"aggregationPropertyDetails",controller:"virtoCommerce.catalogModule.aggregationPropertyDetailsController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/aggregation-properties-details.tpl.html",title:e.name,storeId:r.storeId,property:e};o.showBlade(t,r)},r.select=function(e){e.isSelected=!0,r.selectedEntities.push(e)},r.unselect=function(e){e.isSelected=!1,r.selectedEntities.splice(r.selectedEntities.indexOf(e),1)},r.onClose=function(t){o.showConfirmationIfNeeded(i(),!0,r,e.saveChanges,t,"Save changes","The properties selection has been modified. Do you want to confirm changes?")},e.saveChanges=function(){r.isLoading=!0,a.setProperties({storeId:r.storeId},r.selectedEntities,(function(e){angular.copy(r.currentEntities,r.origEntity),angular.copy(r.selectedEntities,r.origSelected),r.isLoading=!1,r.parentBlade.refresh()}),(function(e){o.setError("Error: "+e.status,r)}))},r.toolbarCommands=[{name:"Save",icon:"fas fa-save",executeMethod:e.saveChanges,canExecuteMethod:i},{name:"Reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(r.origEntity,r.currentEntities),r.selectedEntities=_.where(r.currentEntities,{isSelected:!0}),angular.copy(r.selectedEntities,r.origSelected)},canExecuteMethod:i}],e.sortableOptions={axis:"y",cursor:"move"},r.headIcon="fa fa-gear",a.getProperties({storeId:r.storeId},(function(e){r.currentEntities=angular.copy(e),r.origEntity=e,r.selectedEntities=_.where(r.currentEntities,{isSelected:!0}),r.origSelected=angular.copy(r.selectedEntities),r.isLoading=!1}),(function(e){o.setError("Error "+e.status,r)}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.billOfMaterialsListController",["$scope","$timeout","platformWebApp.bladeNavigationService","platformWebApp.uiGridHelper","platformWebApp.bladeUtils","platformWebApp.dialogService","virtoCommerce.catalogModule.items","virtoCommerce.catalogModule.categories","virtoCommerce.catalogModule.associations",function(e,t,o,a,r,i,l,n,c){e.uiGridConstants=a.uiGridConstants,e.hasMore=!0;var s=null,d=e.blade;function u(){e.hasMore&&(d.isLoading=!0,++e.pageSettings.currentPage,e.gridApi.infiniteScroll.saveScrollPercentage(),c.search(g(),(function(t){d.isLoading=!1,m(t.results),d.currentEntities=d.currentEntities.concat(t.results),e.pageSettings.totalItems=t.totalCount,e.hasMore=t.results.length===e.pageSettings.itemsPerPageCount,e.gridApi.infiniteScroll.dataLoaded()})))}function g(){return{keyword:d.filter.keyword,skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount,objectIds:[d.item.id],group:d.associationType}}function m(e){if(_.some(e)){d.isLoading=!0;var t=_.pluck(e,"associatedObjectId");l.plenty({respGroup:"WithImages"},t,(function(t){var o=_.uniq(_.pluck(t,"categoryId"));n.plenty({respGroup:"Info"},o,(function(o){!function(e,t,o){_.each(e,(function(e){e.$$quantity=e.quantity,e.associatedObjectType=d.associatedObjectType;var a=_.find(t,(function(t){return t.id===e.associatedObjectId}));a&&(e.$$productName=a.name,e.$$categoryId=a.categoryId,e.$$category=_.find(o,(function(t){return t.id===e.$$categoryId})),a.images&&a.images.length&&(e.$$imageUrl=a.images[0].url),"product"===e.associatedObjectType&&(e.$$productType=a.productType))}))}(e,t,o),d.isLoading=!1}))}))}}d.headIcon="far fa-list-alt",d.title="catalog.blades.bill-of-materials-list.title",d.subtitle="catalog.blades.bill-of-materials-list.subtitle",d.cupImage="Modules/$(VirtoCommerce.Catalog)/Content/images/cup.svg",d.associationType="BillOfMaterials",d.associatedObjectType="product",d.currentEntities=[],d.filter={},d.filter.criteriaChanged=function(){d.refresh()},d.refresh=function(){e.pageSettings.currentPage>1&&(e.pageSettings.currentPage=1),d.isLoading=!0,c.search(g(),(function(t){d.isLoading=!1,m(t.results),d.currentEntities=t.results,e.pageSettings.totalItems=t.totalCount,e.hasMore=t.results.length===e.pageSettings.itemsPerPageCount,s&&(s=_.findWhere(t.results,{id:s.id}))})),e.gridApi&&(d.currentEntities=[],e.gridApi.infiniteScroll.resetScroll(!0,!0),e.gridApi.infiniteScroll.dataLoaded())},e.openProduct=function(t){e.selectedNodeId=t.associatedObjectId;var a={id:"billOfMaterialsDetail",itemId:t.associatedObjectId,productType:t.$$productType,catalog:d.catalog,controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"};o.showBlade(a,d)},e.isValidQuantity=function(e){return e.quantity&&e.quantity>0},e.updateQuantity=function(t){t.$$quantity!==t.quantity&&e.isValidQuantity(t)&&(d.isLoading=!0,c.update([t],(function(){t.$$quantity=t.quantity,d.isLoading=!1})))},e.deleteList=function(e){o.closeChildrenBlades(d,(function(){var t={id:"confirmDeleteBomAssociaitonItem",title:"catalog.dialogs.bill-or-materials-associations-delete.title",message:"catalog.dialogs.bill-or-materials-associations-delete.message",callback:function(t){t&&o.closeChildrenBlades(d,(function(){d.isLoading=!0;var t=_.pluck(e,"id");c.delete({ids:t},(function(){d.refresh()}))}))}};i.showConfirmationDialog(t)}))},e.openAddItemBlade=function(){var e=[],t={id:"CatalogItemsSelect",controller:"virtoCommerce.catalogModule.catalogItemSelectController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/common/catalog-items-select.tpl.html",options:{allowCheckingCategory:!1,selectedItemIds:[],excludeProductType:"BillOfMaterials",checkItemFn:function(t,o){o?_.find(e,(function(e){return e.id==t.id}))||e.push(t):e=_.reject(e,(function(e){return e.id==t.id}))}},breadcrumbs:[],toolbarCommands:[{name:"platform.commands.confirm",icon:"fa fa-check",executeMethod:function(t){d.isLoading=!0,o.closeBlade(t);var a=_.pluck(e,"id"),r={take:a.length,objectIds:[d.item.id],group:d.associationType,associatedObjectIds:a};c.search(r,(function(e){if(e.totalCount&&(a=_.filter(a,(function(t){return!_.some(e.results,(function(e){return t===e.associatedObjectId}))}))),a.length){var t=_.map(a,(function(e){return{associatedObjectId:e,associatedObjectType:d.associatedObjectType,itemId:d.item.id,quantity:1,type:d.associationType}}));d.isLoading=!0,c.update(t,(function(){d.refresh()}))}d.isLoading=!1}))},canExecuteMethod:function(){return _.any(e)}}]};o.showBlade(t,d)},d.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){e.openAddItemBlade()},canExecuteMethod:function(){return!0}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){e.deleteList(e.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())}}],e.setGridOptions=function(o){r.initializePagination(e,!0),e.pageSettings.itemsPerPageCount=20,a.initialize(e,o,(function(t){e.gridApi=t,a.bindRefreshOnSortChanged(e),e.gridApi.infiniteScroll.on.needLoadMoreData(e,u)})),t((function(){d.refresh()}))}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.bulkActionProgressController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogBulkActionsModule.webApi",function(e,t,o){var a=e.blade;a.isLoading=!0,e.blade.headIcon="fa fa-upload",e.$on("new-notification-event",(function(e,o){a.notification&&o.id===a.notification.id&&(angular.copy(o,a.notification),o.errorCount>0&&t.setError("Action error",a),a.notification.finished&&a.onCompleted&&a.onCompleted())}));var r={name:"platform.commands.cancel",icon:"fa fa-times",canExecuteMethod:function(){return a.notification&&!a.notification.finished},executeMethod:function(){o.cancel({jobId:a.notification.jobId},(function(e){}))}};a.toolbarCommands=[r],a.isLoading=!1,o.runBulkAction(a.actionDataContext,(function(e){a.notification=e}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.catalogBulkActionService",(function(){var e=[];return{getByName:function(t){return _.find(e,(function(e){return e.name===t}))},register:function(t){var o=_.findIndex(e,(function(e){return e.name===t.name}));o>=0?e[o]=t:e.push(t)}}}))},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogAddController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.catalogs",function(e,t,o){e.addCatalog=function(){o.newCatalog({},(function(o){var a={id:"catalogEdit",isNew:!0,currentEntity:o,title:"catalog.blades.catalog-detail.title-new",subtitle:"catalog.blades.catalog-detail.subtitle-new",controller:"virtoCommerce.catalogModule.catalogDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/catalog-detail.tpl.html"};t.showBlade(a,e.blade.parentBlade)}),(function(o){t.setError("Error "+o.status,e.blade)}))},e.addVirtualCatalog=function(){o.newVirtualCatalog({},(function(o){var a={id:"catalogEdit",isNew:!0,currentEntity:o,title:"catalog.blades.catalog-detail.title-new-virtual",subtitle:"catalog.blades.catalog-detail.subtitle-virtual",controller:"virtoCommerce.catalogModule.virtualCatalogDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/catalog-detail.tpl.html"};t.showBlade(a,e.blade.parentBlade)}),(function(o){t.setError("Error "+o.status,e.blade)}))},e.blade.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogDetailController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.catalogs","platformWebApp.metaFormsService",function(e,t,o,a){var r,i=e.blade;function l(e){i.isNew||(i.title=e.name),i.currentEntity=angular.copy(e),i.origEntity=e,i.isLoading=!1,i.securityScopes=e.securityScopes}function n(){return!angular.equals(i.currentEntity,i.origEntity)&&i.hasUpdatePermission()}function c(){return n()&&r&&r.$valid}function s(){i.isNew||(i.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:function(){e.saveChanges()},canExecuteMethod:c,permission:i.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(i.origEntity,i.currentEntity)},canExecuteMethod:n,permission:i.updatePermission}])}i.updatePermission="catalog:update",i.metaFields=a.getMetaFields("catalogDetail"),i.refresh=function(e){i.isNew?l(i.currentEntity):o.get({id:i.currentEntityId},(function(t){l(t),i.childrenBlades&&_.each(i.childrenBlades,(function(e){e.refresh&&e.refresh(i.currentEntity)})),e&&i.parentBlade.refresh()}),(function(e){t.setError("Error "+e.status,i)}))},e.setForm=function(e){r=e},e.cancelChanges=function(){angular.copy(i.origEntity,i.currentEntity),e.bladeClose()},e.saveChanges=function(){i.isLoading=!0,i.isNew?o.save({},i.currentEntity,(function(t){i.isNew=void 0,i.currentEntityId=t.id,l(t),s(),e.gridsterOpts.maxRows=3,i.refresh(!0)}),(function(e){t.setError("Error "+e.status,i)})):o.update({},i.currentEntity,(function(){i.refresh(!0)}),(function(e){t.setError("Error "+e.status,i)}))},i.onClose=function(o){t.showConfirmationIfNeeded(n(),c(),i,e.saveChanges,o,"catalog.dialogs.catalog-save.title","catalog.dialogs.catalog-save.message")},e.gridsterOpts={columns:3},s(),i.refresh(!1)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogLanguagesController",["$scope","platformWebApp.settings","platformWebApp.bladeNavigationService",function(e,t,o){var a=e.blade;a.updatePermission="catalog:update";var r=t.getValues({id:"VirtoCommerce.Core.General.Languages"}).$promise;e.languages=[],a.onClose=function(t){o.showConfirmationIfNeeded(!angular.equals(a.currentEntity,a.origEntity)&&a.hasUpdatePermission(),!0,a,e.saveChanges,t,"catalog.dialogs.language-save.title","catalog.dialogs.language-save.message")},e.cancelChanges=function(){a.currentEntity=a.origEntity,e.bladeClose()},e.saveChanges=function(){if(a.hasUpdatePermission()){var t=_.map(a.currentEntity.selectedValues,(function(e){return{languageCode:e}})),o=_.find(t,(function(e){return e.languageCode.toLowerCase()===a.currentEntity.defaultValue.toLowerCase()}));o?o.isDefault=!0:(o={languageCode:a.currentEntity.defaultValue,isDefault:!0},t.push(o)),a.data.defaultLanguage=o,a.data.languages=t,angular.copy(a.currentEntity,a.origEntity),e.bladeClose()}},a.headIcon="fa fa-language",e.openDictionarySettingManagement=function(){var t={id:"settingDetailChild",isApiSave:!0,currentEntityId:"VirtoCommerce.Core.General.Languages",parentRefresh:function(t){e.languages=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};o.showBlade(t,a)},e.$watch("blade.parentBlade.currentEntity",(function(t){a.data=t,r.then((function(o){e.languages=o;var r=_.find(o,(function(e){return e.toLowerCase()===t.defaultLanguage.languageCode.toLowerCase()})),i=_.pluck(t.languages,"languageCode"),l={defaultValue:r,selectedValues:_.without(i,r)};a.origEntity=l,a.currentEntity=angular.copy(l),a.isLoading=!1}))}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogsListController",["$scope","virtoCommerce.catalogModule.catalogs","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.authService","platformWebApp.uiGridHelper","platformWebApp.bladeUtils","$timeout",function(e,t,o,a,r,i,l,n){e.uiGridConstants=i.uiGridConstants;var c=e.blade;e.hasMore=!0,c.currentEntities=[];var s=null;function d(){e.hasMore&&(++e.pageSettings.currentPage,e.gridApi.infiniteScroll.saveScrollPercentage(),c.isLoading=!0,t.search(u(),(function(t){c.isLoading=!1,e.pageSettings.totalItems=t.totalCount,c.currentEntities=c.currentEntities.concat(t.results),e.hasMore=t.results.length===e.pageSettings.itemsPerPageCount,e.gridApi.infiniteScroll.dataLoaded()})))}function u(){return{sort:i.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount}}function g(e){var t={id:"itemsList1",level:1,breadcrumbs:c.breadcrumbs,title:"catalog.blades.categories-items-list.title",controller:"virtoCommerce.catalogModule.categoriesItemsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/categories-items-list.tpl.html"};e.id?angular.extend(t,{subtitle:"catalog.blades.categories-items-list.subtitle",subtitleValues:{name:e.name},catalogId:e.id,catalog:e,securityScopes:e.securityScopes}):angular.extend(t,{filterKeyword:m.keyword,subtitle:"catalog.blades.categories-items-list.subtitle-search",subtitleValues:{keyword:m.keyword}}),o.showBlade(t,c)}c.refresh=function(){c.isLoading=!0,1!==e.pageSettings.currentPage&&(e.pageSettings.currentPage=1),t.search(u(),(function(t){c.isLoading=!1,e.pageSettings.totalItems=t.totalCount,c.currentEntities=t.results,e.hasMore=t.results.length===e.pageSettings.itemsPerPageCount,s&&(s=_.findWhere(t.results,{id:s.id}))})),e.gridApi&&(c.currentEntities=[],e.gridApi.infiniteScroll.resetScroll(!0,!0),e.gridApi.infiniteScroll.dataLoaded())},e.selectNode=function(t){s=t,e.selectedNodeId=s.id,g(t),o.catalogsSelectedCatalog=s,o.catalogsSelectedCategoryId=void 0},e.editCatalog=function(e){var t,a,r,i;e.isVirtual?(t=e.id,a=null,r=e.name,i={currentEntityId:t,currentEntity:a,title:r,subtitle:"catalog.blades.catalog-detail.subtitle-virtual",id:"catalogEdit",controller:"virtoCommerce.catalogModule.virtualCatalogDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/catalog-detail.tpl.html"},o.showBlade(i,c)):function(e,t,a){var r={currentEntityId:e,currentEntity:t,title:a,id:"catalogEdit",subtitle:"catalog.blades.catalog-detail.subtitle",controller:"virtoCommerce.catalogModule.catalogDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/catalog-detail.tpl.html"};o.showBlade(r,c)}(e.id,null,e.name)},e.deleteCatalog=function(r){var i={id:"confirmDelete",name:r.name,callback:function(a){a&&o.closeChildrenBlades(c,(function(){s=void 0,e.selectedNodeId=void 0,c.isLoading=!0,t.delete({id:r.id},c.refresh,(function(e){o.setError("Error "+e.status,c)}))}))}};a.showDialog(i,"Modules/$(VirtoCommerce.Catalog)/Scripts/dialogs/deleteCatalog-dialog.tpl.html","platformWebApp.confirmDialogController")},c.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:c.refresh,canExecuteMethod:function(){return!0}}],r.checkPermission("catalog:create")&&c.toolbarCommands.splice(1,0,{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){s=void 0,e.selectedNodeId=void 0;o.showBlade({id:"listItemChild",title:"catalog.blades.catalog-add.title",subtitle:"catalog.blades.catalog-add.subtitle",controller:"virtoCommerce.catalogModule.catalogAddController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/catalog-add.tpl.html"},c)},canExecuteMethod:function(){return!0}});var m=c.filter={keyword:null};m.criteriaChanged=function(){m.keyword?g({}):o.closeChildrenBlades(c),s=null,e.selectedNodeId=null,o.catalogsSelectedCatalog=void 0,o.catalogsSelectedCategoryId=void 0},e.setGridOptions=function(t){l.initializePagination(e,!0),e.pageSettings.itemsPerPageCount=20,i.initialize(e,t,(function(t){e.gridApi=t,i.bindRefreshOnSortChanged(e),e.gridApi.infiniteScroll.on.needLoadMoreData(e,d)})),n((function(){c.refresh()}))}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogsSelectController",["$scope","virtoCommerce.catalogModule.catalogs","platformWebApp.bladeNavigationService",function(e,t,o){var a=e.blade;a.refresh=function(){a.isLoading=!0,t.search({take:1e3},(function(t){a.doShowAllCatalogs?e.objects=t.results:e.objects=_.where(t.results,{isVirtual:!1}),a.isLoading=!1}),(function(e){o.setError("Error "+e.status,a)}))},e.selectNode=function(t){e.bladeClose((function(){a.parentBlade.onAfterCatalogSelected(t)}))},a.refresh()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.categoriesItemsAddController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.categories","virtoCommerce.catalogModule.items","virtoCommerce.catalogModule.itemTypesResolverService",function(e,t,o,a,r){var i=e.blade,l=i.parentBlade;function n(e){e.properties=_.filter(e.properties,(function(e){return"Product"===e.type||"Variation"===e.type}));var o={id:"listItemDetail",item:e,catalog:i.catalog,title:"catalog.wizards.new-product.title",subtitle:"catalog.wizards.new-product.subtitle",controller:"virtoCommerce.catalogModule.newProductWizardController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/wizards/newProduct/new-product-wizard.tpl.html"};t.showBlade(o,l)}function c(e){"Digital"!==e.productType&&"BillOfMaterials"!==e.productType||(e.trackInventory=!1)}e.availableTypes=r.objects,e.addCategory=function(){o.newCategory({catalogId:l.catalogId,parentCategoryId:l.categoryId},(function(o){e.bladeClose((function(){var e={id:"newCategoryWizard",currentEntity:o,title:"catalog.wizards.category.title",subtitle:"catalog.wizards.category.subtitle",controller:"virtoCommerce.catalogModule.newCategoryWizardController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/wizards/newCategory/category-wizard.tpl.html"};t.showBlade(e,l)}))}),(function(o){t.setError("Error "+o.status,e.blade)}))},e.addLinkedCategory=function(){e.bladeClose((function(){t.showBlade({id:"selectCatalog",title:"catalog.blades.catalogs-select.title",subtitle:"catalog.blades.catalogs-select.subtitle",controller:"virtoCommerce.catalogModule.catalogsSelectController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/catalogs-select.tpl.html"},l)}))},e.addProduct=function(o){angular.isDefined(l.categoryId)?a.newItemInCategory({catalogId:l.catalogId,categoryId:l.categoryId},(function(t){t.productType=o,c(t),e.bladeClose((function(){n(t)}))}),(function(o){t.setError("Error "+o.status,e.blade)})):a.newItemInCatalog({catalogId:l.catalogId},(function(t){t.productType=o,c(t),e.bladeClose((function(){n(t)}))}),(function(o){t.setError("Error "+o.status,e.blade)}))},i.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.categoriesItemsListController",["$sessionStorage","$localStorage","$timeout","$scope","virtoCommerce.catalogModule.categories","virtoCommerce.catalogModule.items","virtoCommerce.catalogModule.listEntries","platformWebApp.bladeUtils","platformWebApp.dialogService","platformWebApp.authService","platformWebApp.uiGridHelper","virtoCommerce.catalogModule.catalogs",function(e,t,o,a,r,i,l,n,c,s,d,u){a.uiGridConstants=d.uiGridConstants,a.hasMore=!0,a.items=[];var g=a.blade,m=n.bladeNavigationService;function p(){if(a.hasMore){++a.pageSettings.currentPage,a.gridApi.infiniteScroll.saveScrollPercentage(),g.isLoading=!0;var e=f();l.listitemssearch(e,(function(e){M(e.listEntries),g.isLoading=!1,a.pageSettings.totalItems=e.totalCount,a.items=a.items.concat(e.listEntries),a.hasMore=e.listEntries.length===a.pageSettings.itemsPerPageCount,a.gridApi.infiniteScroll.dataLoaded(),o((function(){a.gridApi.selection.getSelectAllState()&&a.gridApi.selection.selectAllRows()}))}))}}function f(){return{catalogId:g.catalogId,categoryId:g.categoryId,keyword:b.keyword?b.keyword:void 0,searchInVariations:!!b.searchInVariations&&b.searchInVariations,responseGroup:"withCategories, withProducts",sort:d.getSortExpression(a),skip:(a.pageSettings.currentPage-1)*a.pageSettings.itemsPerPageCount,take:a.pageSettings.itemsPerPageCount}}function y(t){e.catalogClipboardContent=t}function C(){return a.gridApi&&_.any(a.gridApi.selection.getSelectedRows())}function v(e){var t=[],o=[],a=[];angular.forEach(e,(function(e){var r=!1;"category"===e.type?g.catalog&&g.catalog.isVirtual&&_.some(e.links,(function(e){return e.categoryId===g.categoryId}))?r=!0:o.push(e.id):g.catalog&&g.catalog.isVirtual?r=!0:a.push(e.id),r&&t.push({listEntryId:e.id,listEntryType:e.type,catalogId:g.catalogId,categoryId:g.categoryId})}));var r=_.where(t,{listEntryType:"category"}).length;let i=o.concat(a);var n={id:"confirmDeleteItem",categoryCount:o.length,itemCount:a.length,listCategoryLinkCount:r,listItemLinkCount:t.length-r,callback:function(e){e&&(m.closeChildrenBlades(g),g.isLoading=!0,t.length>0&&l.deletelinks(t,()=>{g.refresh(),"mappingSource"===g.mode&&g.parentBlade.refresh()}),i.length>0&&l.delete({objectIds:i},()=>g.refresh()))}};c.showDialog(n,"Modules/$(VirtoCommerce.Catalog)/Scripts/dialogs/deleteCategoryItem-dialog.tpl.html","platformWebApp.confirmDialogController")}if(g.catalogId&&(g.catalog=u.get({id:g.catalogId})),g.refresh=function(){g.isLoading=!0,1!==a.pageSettings.currentPage&&(a.pageSettings.currentPage=1);var e=f();l.listitemssearch(e,(function(e){M(e.listEntries),g.isLoading=!1,a.pageSettings.totalItems=e.totalCount,a.items=e.listEntries,a.hasMore=e.listEntries.length===a.pageSettings.itemsPerPageCount,function(){if(g.breadcrumbs=g.breadcrumbs.slice(0),!g.catalogId)return;var e={blade:g};angular.isDefined(g.category)?(e.id=g.categoryId,e.name=g.category.name):(e.id=g.catalogId,g.catalog.$promise.then(t=>{e.name=t.name}));_.some(g.breadcrumbs,(function(t){return t.id===e.id}))||g.breadcrumbs.push(e);e.navigate=function(){m.closeBlade(g,(function(){g.disableOpenAnimation=!0,m.showBlade(g,g.parentBlade)}))}}()})),a.gridApi&&(a.items=[],a.gridApi.selection.clearSelectedRows(),a.gridApi.infiniteScroll.resetScroll(!0,!0),a.gridApi.infiniteScroll.dataLoaded())},a.edit=function(e){"category"===e.type?(g.setSelectedItem(e),g.showCategoryBlade(e)):a.selectItem(null,e)},g.showCategoryBlade=function(e){var t={id:"listCategoryDetail",currentEntityId:e.id,catalog:g.catalog,title:e.name,subtitle:"catalog.blades.category-detail.subtitle",controller:"virtoCommerce.catalogModule.categoryDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/category-detail.tpl.html"};m.showBlade(t,g)},a.cut=function(e){y([e])},a.delete=function(e){v([e])},g.setSelectedItem=function(e){a.selectedNodeId=e.id},a.selectItem=function(e,t){var o;if(g.setSelectedItem(t),"category"===t.type){var r=e.ctrlKey||b.keyword;o={id:"itemsList"+(g.level+(r?1:0)),level:g.level+(r?1:0),mode:g.mode,isBrowsingLinkedCategory:g.isBrowsingLinkedCategory||a.hasLinks(t),breadcrumbs:g.breadcrumbs,title:"catalog.blades.categories-items-list.title",subtitle:"catalog.blades.categories-items-list.subtitle",subtitleValues:null!==t.name?{name:t.name}:"",catalogId:g.catalogId||t.catalogId,categoryId:t.id,category:t,catalog:g.catalog,disableOpenAnimation:!0,controller:"virtoCommerce.catalogModule.categoriesItemsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/categories-items-list.tpl.html"},r?m.showBlade(o,g):m.closeBlade(g,(function(){m.showBlade(o,g.parentBlade)}))}else o={id:"listItemDetail"+g.mode,itemId:t.id,productType:t.productType,title:t.name,catalog:g.catalog,controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"},m.showBlade(o,g),m.catalogsSelectedCategoryId=g.categoryId},a.hasLinks=function(e){return g.catalog&&g.catalog.isVirtual&&_.any(e.links,(function(e){return e.catalogId===g.catalogId&&(!g.categoryId||e.categoryId===g.categoryId)}))},g.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:g.refresh,canExecuteMethod:function(){return!0}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){v(a.gridApi.selection.getSelectedRows())},canExecuteMethod:C,permission:"catalog:delete"},{name:"platform.commands.import",icon:"fa fa-download",executeMethod:function(){var e={id:"catalogImport",title:"catalog.blades.importers-list.title",subtitle:"catalog.blades.importers-list.subtitle",catalog:g.catalog,controller:"virtoCommerce.catalogModule.importerListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/import/importers-list.tpl.html"};m.showBlade(e,g)},canExecuteMethod:function(){return g.catalogId},permission:"catalog:import"},{name:"platform.commands.export",icon:"fa fa-upload",executeMethod:function(){var e={id:"catalogExport",title:"catalog.blades.exporter-list.title",subtitle:"catalog.blades.exporter-list.subtitle",catalog:g.catalog,controller:"virtoCommerce.catalogModule.exporterListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/export/exporter-list.tpl.html",selectedProducts:_.filter(a.gridApi.selection.getSelectedRows(),(function(e){return"product"===e.type})),selectedCategories:_.filter(a.gridApi.selection.getSelectedRows(),(function(e){return"category"===e.type})),isAllSelected:a.gridApi.selection.getSelectAllState()};m.showBlade(e,g)},canExecuteMethod:function(){return a.items.length&&g.catalogId},permission:"catalog:export"},{name:"platform.commands.cut",icon:"fas fa-cut",executeMethod:function(){y(a.gridApi.selection.getSelectedRows())},canExecuteMethod:C,permission:"catalog:create"},{name:"platform.commands.paste",icon:"fas fa-paste",executeMethod:function(){g.isLoading=!0,l.move({catalog:g.catalogId,category:g.categoryId,listEntries:e.catalogClipboardContent},(function(){delete e.catalogClipboardContent,g.refresh()}),(function(e){m.setError("Error "+e.status,g)}))},canExecuteMethod:function(){return e.catalogClipboardContent&&g.catalog&&!g.catalog.isVirtual},permission:"catalog:create"}],g.isBrowsingLinkedCategory&&g.toolbarCommands.splice(1,5),angular.isDefined(g.mode)){if("mappingSource"===g.mode){var h={name:"catalog.commands.map",icon:"fas fa-link",executeMethod:function(){!function(){if(m.closeChildrenBlades(g),g.isLoading=!0,a.gridApi&&a.gridApi.selection.getSelectAllState())l.bulkcreatelinks({SearchCriteria:f(),CatalogId:g.parentBlade.catalogId,CategoryId:g.parentBlade.categoryId},(function(){g.refresh(),g.parentBlade.refresh()}),(function(e){m.setError("Error "+e.status,g)}));else{var e=a.gridApi.selection.getSelectedRows(),t=[];angular.forEach(e,(function(e){t.push({listEntryId:e.id,listEntryType:e.type,catalogId:g.parentBlade.catalogId,categoryId:g.parentBlade.categoryId})})),l.createlinks(t,(function(){g.refresh(),g.parentBlade.refresh()}),(function(e){m.setError("Error "+e.status,g)}))}}()},canExecuteMethod:C};g.toolbarCommands.splice(1,5,h)}}else!g.isBrowsingLinkedCategory&&s.checkPermission("catalog:create")&&g.toolbarCommands.splice(1,0,{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){var e={id:"listItemChild",catalog:g.catalog,title:"catalog.blades.categories-items-add.title",subtitle:"catalog.blades.categories-items-add.subtitle",controller:"virtoCommerce.catalogModule.categoriesItemsAddController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/categories-items-add.tpl.html"};m.showBlade(e,g)},canExecuteMethod:function(){return g.catalogId}});g.onAfterCatalogSelected=function(e){var t={id:"itemsList"+(g.level+1),level:g.level+1,mode:"mappingSource",breadcrumbs:[],title:"catalog.blades.categories-items-list.title-mapping",subtitle:"catalog.blades.categories-items-list.subtitle-mapping",catalogId:e.id,catalog:e,disableOpenAnimation:!0,controller:"virtoCommerce.catalogModule.categoriesItemsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/categories-items-list.tpl.html"};m.showBlade(t,g)};var b=g.filter={keyword:g.filterKeyword};function M(e){_.each(e,(function(e){e.$path=_.any(e.path)?e.path.join(" \\ "):"\\"}))}b.criteriaChanged=function(){g.catalogId||b.keyword?a.pageSettings.currentPage>1?a.pageSettings.currentPage=1:g.refresh():a.bladeClose()},a.setGridOptions=function(e){n.initializePagination(a,!0),a.pageSettings.itemsPerPageCount=50,d.initialize(a,e,(function(e){a.gridApi=e,d.bindRefreshOnSortChanged(a),a.gridApi.infiniteScroll.on.needLoadMoreData(a,p)}))}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.categoryDetailController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.settings","virtoCommerce.catalogModule.categories","virtoCommerce.catalogModule.catalogs","platformWebApp.metaFormsService",function(e,t,o,a,r,i){var l=e.blade;function n(){return!angular.equals(l.currentEntity,l.origEntity)&&l.hasUpdatePermission()}function c(){return n()&&l.formScope&&l.formScope.$valid}function s(){l.isLoading=!0,a.update({},l.currentEntity,(function(e,t){l.refresh(!0)}),(function(e){t.setError("Error "+e.status,l)}))}l.updatePermission="catalog:update",l.metaFields=i.getMetaFields("categoryDetail"),l.refresh=function(e){return a.get({id:l.currentEntityId},(function(t){l.catalog||(l.catalog=r.get({id:t.catalogId})),function(e){l.currentEntity=angular.copy(e),l.origEntity=e,l.title=e.name,l.isLoading=!1,l.securityScopes=e.securityScopes}(t),l.childrenBlades&&_.each(l.childrenBlades,(function(e){e.refresh&&e.refresh(l.currentEntity)})),e&&l.parentBlade.refresh()}),(function(e){t.setError("Error "+e.status,l)}))},l.codeValidator=function(e){return!/[$+;=%{}[\]|@~!^*&()?'<>,]/.test(e)},l.onClose=function(e){t.showConfirmationIfNeeded(n(),c(),l,s,e,"catalog.dialogs.category-save.title","catalog.dialogs.category-save.message")},l.formScope=null,e.setForm=function(e){l.formScope=e},l.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:s,canExecuteMethod:c,permission:l.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(l.origEntity,l.currentEntity)},canExecuteMethod:n,permission:l.updatePermission}],l.openDictionarySettingManagement=function(){var e={id:"settingDetailChild",isApiSave:!0,currentEntityId:"VirtoCommerce.Core.General.TaxTypes",parentRefresh:function(e){l.taxTypes=e},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};t.showBlade(e,l)},l.refresh(),l.taxTypes=o.getValues({id:"VirtoCommerce.Core.General.TaxTypes"})}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.categoryDescriptionDetailController",["$scope","platformWebApp.bladeNavigationService","FileUploader","platformWebApp.settings","$timeout",function(e,t,o,a,r){var i,l=e.blade;function n(){_.find(l.category.descriptions,(function(e){return e===l.origEntity}))||l.category.descriptions.push(l.origEntity),angular.copy(l.currentEntity,l.origEntity)}function c(){return!angular.equals(l.currentEntity,l.origEntity)}function s(){return c()&&i&&i.$valid}e.isValid=!0,e.saveChanges=function(){_.find(l.category.descriptions,(function(e){return e==l.origEntity}))||l.category.descriptions.push(l.origEntity),angular.copy(l.currentEntity,l.origEntity),e.bladeClose()},l.headIcon="fa fa-comments",l.title="catalog.blades.categoryDescription-detail.title",l.subtitle="catalog.blades.categoryDescription-detail.subtitle",l.editAsMarkdown=!0,l.hasAssetCreatePermission=t.checkPermission("platform:asset:create"),l.hasAssetCreatePermission&&(e.fileUploader=new o({url:"api/assets?folderUrl=catalog/"+l.category.code,headers:{Accept:"application/json"},autoUpload:!0,removeAfterUpload:!0,onBeforeUploadItem:function(e){l.isLoading=!0},onSuccessItem:function(t,o){e.$broadcast("filesUploaded",{items:o})},onErrorItem:function(e,o,a){t.setError(e._file.name+" failed: "+(o.message?o.message:a),l)},onCompleteAll:function(){l.isLoading=!1}})),a.getValues({id:"Catalog.CategoryDescriptionTypes"},(function(t){e.types=t,l.currentEntity.descriptionType||(l.currentEntity.descriptionType=e.types[0])})),e.openDictionarySettingManagement=function(){var o={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Catalog.CategoryDescriptionTypes",parentRefresh:function(t){e.types=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};t.showBlade(o,l)},e.setForm=function(e){i=e},l.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:n,canExecuteMethod:s},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(l.origEntity,l.currentEntity),e.$broadcast("resetContent",{body:l.currentEntity.content})},canExecuteMethod:c}],l.onClose=function(e){t.showConfirmationIfNeeded(c(),s(),l,n,e,"catalog.dialogs.review-save.title","catalog.dialogs.review-save.message")},l.category.descriptions||(l.category.descriptions=[]),l.currentEntity||(l.currentEntity={languageCode:l.catalog.defaultLanguage.languageCode}),l.origEntity=l.currentEntity,l.currentEntity=angular.copy(l.currentEntity),r((function(){e.$broadcast("resetContent",{body:l.currentEntity.content}),l.isLoading=!1}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.categoryDescriptionsListController",["$timeout","$scope","platformWebApp.bladeNavigationService","platformWebApp.uiGridHelper","platformWebApp.dialogService",function(e,t,o,a,r){var i=t.blade;function l(e){i.headIcon="fa fa-comments",i.category=e,i.title=i.category.name,i.subtitle="catalog.blades.categoryDescriptions-list.subtitle",i.selectNode=t.openBlade}function n(e){var t={id:"confirmDelete",title:"catalog.dialogs.review-delete.title",message:"catalog.dialogs.review-delete.message",callback:function(t){t&&o.closeChildrenBlades(i,(function(){_.each(e,(function(e){i.category.descriptions.splice(i.category.descriptions.indexOf(e),1)}))}))}};r.showConfirmationDialog(t)}t.selectedNodeId=null,i.isLoading=!1,i.refresh=function(e){l(e)},t.openBlade=function(e){e&&(t.selectedNodeId=e.id);var a={id:"categoryDescription",currentEntity:e,category:i.category,catalog:i.catalog,languages:i.catalog.languages,controller:"virtoCommerce.catalogModule.categoryDescriptionDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/categoryDescription-detail.tpl.html"};o.showBlade(a,t.blade)},t.delete=function(e){n([e])},i.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){t.openBlade()},canExecuteMethod:function(){return!0}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){n(t.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return t.gridApi&&_.any(t.gridApi.selection.getSelectedRows())}}],t.setGridOptions=function(e){a.initialize(t,e)},_.some(i.category.descriptions)||e(t.openBlade,60,!1),l(i.category)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.editorialReviewDetailController",["$scope","platformWebApp.bladeNavigationService","FileUploader","platformWebApp.settings","$timeout",function(e,t,o,a,r){var i,l=e.blade;function n(){_.find(l.item.reviews,(function(e){return e===l.origEntity}))||l.item.reviews.push(l.origEntity),angular.copy(l.currentEntity,l.origEntity)}function c(){return!angular.equals(l.currentEntity,l.origEntity)}function s(){return c()&&i&&i.$valid}e.isValid=!0,e.saveChanges=function(){_.find(l.item.reviews,(function(e){return e==l.origEntity}))||l.item.reviews.push(l.origEntity),angular.copy(l.currentEntity,l.origEntity),e.bladeClose()},l.headIcon="fa fa-comments",l.title="catalog.blades.editorialReview-detail.title",l.subtitle="catalog.blades.editorialReview-detail.subtitle",l.editAsMarkdown=!0,l.hasAssetCreatePermission=t.checkPermission("platform:asset:create"),l.hasAssetCreatePermission&&(e.fileUploader=new o({url:"api/assets?folderUrl=catalog/"+l.item.code,headers:{Accept:"application/json"},autoUpload:!0,removeAfterUpload:!0,onBeforeUploadItem:function(e){l.isLoading=!0},onSuccessItem:function(t,o){e.$broadcast("filesUploaded",{items:o})},onErrorItem:function(e,o,a){t.setError(e._file.name+" failed: "+(o.message?o.message:a),l)},onCompleteAll:function(){l.isLoading=!1}})),a.getValues({id:"Catalog.EditorialReviewTypes"},(function(t){e.types=t,l.currentEntity.reviewType||(l.currentEntity.reviewType=e.types[0])})),e.openDictionarySettingManagement=function(){var o={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Catalog.EditorialReviewTypes",parentRefresh:function(t){e.types=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};t.showBlade(o,l)},e.setForm=function(e){i=e},l.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:n,canExecuteMethod:s},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(l.origEntity,l.currentEntity),e.$broadcast("resetContent",{body:l.currentEntity.content})},canExecuteMethod:c}],l.onClose=function(e){t.showConfirmationIfNeeded(c(),s(),l,n,e,"catalog.dialogs.review-save.title","catalog.dialogs.review-save.message")},l.item.reviews||(l.item.reviews=[]),l.currentEntity||(l.currentEntity={languageCode:l.catalog.defaultLanguage.languageCode}),l.origEntity=l.currentEntity,l.currentEntity=angular.copy(l.currentEntity),r((function(){e.$broadcast("resetContent",{body:l.currentEntity.content}),l.isLoading=!1}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.editorialReviewsListController",["$timeout","$scope","platformWebApp.bladeNavigationService","platformWebApp.uiGridHelper","platformWebApp.dialogService",function(e,t,o,a,r){var i=t.blade;function l(e){i.headIcon="fa fa-comments",i.item=e,i.title=i.item.name,i.subtitle="catalog.blades.editorialReviews-list.subtitle",i.selectNode=t.openBlade}function n(e){var t={id:"confirmDelete",title:"catalog.dialogs.review-delete.title",message:"catalog.dialogs.review-delete.message",callback:function(t){t&&o.closeChildrenBlades(i,(function(){_.each(e,(function(e){i.item.reviews.splice(i.item.reviews.indexOf(e),1)}))}))}};r.showConfirmationDialog(t)}t.selectedNodeId=null,i.isLoading=!1,i.refresh=function(e){l(e)},t.openBlade=function(e){e&&(t.selectedNodeId=e.id);var a={id:"editorialReview",currentEntity:e,item:i.item,catalog:i.catalog,languages:i.catalog.languages,controller:"virtoCommerce.catalogModule.editorialReviewDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/editorialReview-detail.tpl.html"};o.showBlade(a,t.blade)},t.delete=function(e){n([e])},i.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){t.openBlade()},canExecuteMethod:function(){return!0}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){n(t.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return t.gridApi&&_.any(t.gridApi.selection.getSelectedRows())}}],t.setGridOptions=function(e){a.initialize(t,e)},_.some(i.item.reviews)||e(t.openBlade,60,!1),l(i.item)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.filterDetailController",["$scope","$localStorage","$translate",function(e,t,o){var a,r=e.blade;function i(e){r.currentEntity=angular.copy(e),r.origEntity=e,r.isLoading=!1,r.title=r.isNew?"catalog.blades.filter-detail.new-title":e.name,r.subtitle=r.isNew?"catalog.blades.filter-detail.new-subtitle":"catalog.blades.filter-detail.subtitle"}e.saveChanges=function(){r.currentEntity.lastUpdateTime=(new Date).getTime(),angular.copy(r.currentEntity,r.origEntity),r.isNew&&(t.catalogSearchFilters.splice(0,0,r.origEntity),t.catalogSearchFilterId=r.origEntity.id,r.parentBlade.filter.current=r.origEntity,r.isNew=!1),i(r.origEntity),r.parentBlade.filter.change(!0)},e.setForm=function(e){a=e},r.headIcon="fa fa-filter",r.toolbarCommands=[{name:"core.commands.apply-filter",icon:"fa fa-filter",executeMethod:function(){e.saveChanges()},canExecuteMethod:function(){return a&&a.$valid}},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(r.origEntity,r.currentEntity)},canExecuteMethod:function(){return!angular.equals(r.currentEntity,r.origEntity)}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){r.parentBlade.filter.current=null,t.catalogSearchFilters.splice(t.catalogSearchFilters.indexOf(r.origEntity),1),delete t.catalogSearchFilterId,r.parentBlade.filter.change()},canExecuteMethod:function(){return!r.isNew}}],r.isNew?o("catalog.blades.categories-items-list.labels.unnamed-filter").then((function(e){i({id:(new Date).getTime(),name:e})})):i(r.data)}])},function(e,t){angular.module("virtoCommerce.catalogBulkActionsModule").controller("virtoCommerce.catalogBulkActionsModule.helloWorldController",["$scope","virtoCommerce.catalogBulkActionsModule.webApi",function(e,t){var o=e.blade;o.title="VirtoCommerce.CatalogBulkActionsModule",o.refresh=function(){t.get((function(e){o.title="virtoCommerce.catalogBulkActionsModule.blades.hello-world.title",o.data=e.result,o.isLoading=!1}))},o.refresh()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.imageDetailsController",["$scope","$filter","$translate","platformWebApp.bladeNavigationService","platformWebApp.assets.api","platformWebApp.settings",function(e,t,o,a,r,i){var l=e.blade;l.currentEntity=angular.copy(l.origEntity),l.title=l.currentEntity.name,l.isLoading=!1,e.isValid=!0;var n,c=i.getValues({id:"VirtoCommerce.Core.General.Languages"}).$promise;e.languages=[],e.setForm=function(e){n=e},e.$watch("blade.currentEntity",(function(t,o){t!==o&&(e.isValid=n&&n.$valid)}),!0),e.openDictionarySettingManagement=function(){var t={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Catalog.ImageCategories",parentRefresh:function(t){e.imageTypes=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};a.showBlade(t,l)},e.saveChanges=function(){angular.copy(l.currentEntity,l.origEntity),e.bladeClose()},c.then((function(t){e.languages=t})),e.imageTypes=i.getValues({id:"Catalog.ImageCategories"})}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.imagesAddController",["$scope","$filter","$translate","FileUploader","platformWebApp.dialogService","platformWebApp.bladeNavigationService","platformWebApp.authService","platformWebApp.assets.api","platformWebApp.settings",function(e,t,o,a,r,i,l,n,c){var s=e.blade;s.hasAssetCreatePermission=i.checkPermission("platform:asset:create"),s.headIcon="fa fa-image",e.isValid=!0,s.isLoading=!1,s.useExternalUrl=!1,s.refresh=function(e){u(e)};var d=c.getValues({id:"VirtoCommerce.Core.General.Languages"}).$promise;function u(t){if(d.then((function(t){e.languages=t})),s.item=t,s.title="catalog.blades.image-upload.title",e.imageTypes=c.getValues({id:"Catalog.ImageCategories"}),!e.uploader&&s.hasAssetCreatePermission){var o=e.uploader=new a({scope:e,headers:{Accept:"application/json"},autoUpload:!0,removeAfterUpload:!0});o.url=g(s.folderPath,s.imageType).relative,o.onSuccessItem=function(e,t,o,a){angular.forEach(t,(function(e){e.isImage=!0,e.group=s.imageType,s.currentEntities.push(e)}))},o.onAfterAddingAll=function(e){i.setError(null,s)},o.onErrorItem=function(e,t,o,a){i.setError(e._file.name+" failed: "+(t.message?t.message:o),s)}}s.currentEntities=[]}function g(e,t){var o="catalog/"+e+(t?"/"+t:"");return{folderUrl:o,relative:"api/assets?folderUrl="+o}}e.languages=[],e.addImageFromUrlHandler=function(){s.useExternalUrl?e.addImageDirectlyFromUrl():e.addImageFromUrl()},e.addImageFromUrl=function(){s.newExternalImageUrl&&n.uploadFromUrl({folderUrl:g(s.folderPath,s.imageType).folderUrl,url:s.newExternalImageUrl},(function(e){_.each(e,(function(e){e.isImage=!0,e.group=s.imageType,s.currentEntities.push(e)})),s.newExternalImageUrl=void 0}))},e.addImageDirectlyFromUrl=function(){if(s.newExternalImageUrl){var e={isImage:!0,group:s.imageType,url:s.newExternalImageUrl,name:s.newExternalImageUrl.split("/").pop(),relativeUrl:s.newExternalImageUrl};s.currentEntities.push(e),s.newExternalImageUrl=void 0}},e.saveChanges=function(){s.onSelect&&(_.each(s.currentEntities,(function(e){e.languageCode=s.selectedLanguageCode})),s.onSelect(s.currentEntities)),e.bladeClose()},e.toggleImageSelect=function(e,t){1==e.ctrlKey?t.$selected=!t.$selected:t.$selected?t.$selected=!1:t.$selected=!0},e.copyUrl=function(e){o("catalog.blades.images.labels.copy-url-prompt").then((function(t){window.prompt(t,e.url)}))},e.openDictionarySettingManagement=function(){var t={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Catalog.ImageCategories",parentRefresh:function(t){e.imageTypes=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};i.showBlade(t,s)},e.changeImageCategory=function(t,o){e.uploader.url=g(s.folderPath,s.imageType).relative},u(s.item)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.imagesController",["$scope","$translate","platformWebApp.dialogService","platformWebApp.bladeNavigationService","platformWebApp.authService","platformWebApp.settings","platformWebApp.bladeUtils","platformWebApp.uiGridHelper","$timeout",function(e,t,o,a,r,i,l,n,c){var s=e.blade;s.headIcon="fa fa-image";var d=s.parentBlade.catalog.languages;function u(t){s.item=t,s.title=t.name,s.subtitle="catalog.widgets.itemImage.blade-subtitle",e.imageTypes=i.getValues({id:"Catalog.ImageCategories"}),s.currentEntities=t.images?angular.copy(t.images):[]}function g(e){var t=0;if(s.currentEntities.length){var o=_.max(s.currentEntities,(function(e){return e.sortOrder}));t=o.sortOrder}_.each(e,(function(e){if(e.isImage){t++;var o=angular.copy(e);o.sortOrder=t,o.group||(o.group="images"),s.currentEntities.push(o)}}),t)}function m(e,t){var o=-1;return t&&_.each(t.grid.renderContainers.body.visibleRowCache,(function(t,a){_.isEqual(t.entity,e)&&(o=a)})),o}s.hasAssetCreatePermission=a.checkPermission("platform:asset:create"),s.isLoading=!1,s.refresh=function(e){u(e)},e.saveChanges=function(){s.item.images=s.currentEntities,e.bladeClose()},e.toggleImageSelect=function(e,t){1===e.ctrlKey?t.$selected=!t.$selected:t.$selected?t.$selected=!1:t.$selected=!0},e.removeItem=function(e){var t=s.currentEntities.indexOf(e);t>=0&&s.currentEntities.splice(t,1)},e.copyUrl=function(e){t("catalog.blades.images.labels.copy-url-prompt").then((function(t){window.prompt(t,e.url)}))},e.downloadUrl=function(e){window.open(e.url,"_blank")},e.removeAction=function(t){void 0===t&&(t=e.gridApi.selection.getSelectedRows()),angular.forEach(t,(function(e){var t=s.currentEntities.indexOf(e);t>=0&&s.currentEntities.splice(t,1)}))},e.edit=function(e){var t={id:"imageDetailChild",origEntity:e,controller:"virtoCommerce.catalogModule.imageDetailsController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/image-detail.tpl.html"};a.showBlade(t,s)},s.toolbarCommands=[{name:"platform.commands.remove",icon:"fas fa-trash-alt",executeMethod:function(){e.removeAction()},canExecuteMethod:function(){var t=!1;return s.currentEntities&&e.gridApi&&(t=e.gridApi.selection.getSelectedRows().length>0),t}},{name:"catalog.commands.gallery",icon:"fas fa-image",executeMethod:function(){var e={images:s.currentEntities,currentImage:s.currentEntities[0]};o.showGalleryDialog(e)},canExecuteMethod:function(){return s.currentEntities&&_.any(s.currentEntities)}},{name:"Add",icon:"fas fa-plus",executeMethod:function(){var e={languages:d,item:s.item,folderPath:s.folderPath,onSelect:g,controller:"virtoCommerce.catalogModule.imagesAddController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/images-add.tpl.html"};a.showBlade(e,s)},canExecuteMethod:function(){return!0}},{name:"Link",icon:"fas fa-link",executeMethod:function(){var e={title:"catalog.blades.images-select.title",onSelect:g,controller:"virtoCommerce.assetsModule.assetSelectController"};a.showBlade(e,s)},canExecuteMethod:function(){return r.checkPermission("platform:asset:read")}}],e.openDictionarySettingManagement=function(){var t={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Catalog.ImageCategories",parentRefresh:function(t){e.imageTypes=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};a.showBlade(t,s)};var p=function(e){m(e.rowEntity,e.gridApi)!==e.index&&e.gridApi.cellNav.scrollToFocus(e.rowEntity,e.colDef)};s.selectedImages=[],e.setGridOptions=function(t){t.enableCellEditOnFocus=!1,n.initialize(e,t,(function(t){t.edit.on.afterCellEdit(e,(function(e,o){var a=m(e,t);c(p,100,!0,{rowEntity:e,colDef:o,index:a,gridApi:t})}))}))},e.priorityValid=function(e){return!_.isUndefined(e.sortOrder)&&e.sortOrder>=0},e.isValid=!0,e.$watch("blade.currentEntities",(function(t){var o=_.all(s.currentEntities,e.priorityValid);return e.isValid=o}),!0),l.initializePagination(e,!0),u(s.item)}]).run(["platformWebApp.ui-grid.extension","uiGridValidateService",function(e,t){t.setValidator("minPriorityValidator",(function(){return function(e,t,o,a){return t>=0}}),(function(){return"Priority value should be equal or more than zero"}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemAssetAddController",["$scope","$translate","platformWebApp.bladeNavigationService","$filter","FileUploader",function(e,t,o,a,r){var i=e.blade;function l(t){if(i.item=t,!e.uploader&&i.hasUpdatePermission()){var a=e.uploader=new r({scope:e,headers:{Accept:"application/json"},method:"POST",autoUpload:!0,removeAfterUpload:!0});a.url="api/assets?folderUrl=catalog/"+t.code,a.onSuccessItem=function(e,t,o,a){angular.forEach(t,(function(t){t.itemId=i.item.id,e.file&&(t.size=e.file.size),i.currentEntities.push(t)}))},a.onAfterAddingAll=function(e){o.setError(null,i)},a.onErrorItem=function(e,t,a,r){o.setError(e._file.name+" failed: "+(t.message?t.message:a),i)}}i.currentEntities=[]}i.isLoading=!1,i.refresh=function(e){l(e)},e.isValid=!0,e.saveChanges=function(){i.onSelect&&i.onSelect(i.currentEntities),e.bladeClose()},e.toggleAssetSelect=function(e,t){1==e.ctrlKey?t.selected=!t.selected:t.selected?t.selected=!1:t.selected=!0},e.removeAction=function(e){var t=i.currentEntities.indexOf(e);t>=0&&i.currentEntities.splice(t,1)},e.copyUrl=function(e){t("catalog.blades.item-asset-detail.labels.copy-url-prompt").then((function(t){window.prompt(t,e.url)}))},i.headIcon="fa fa-plus",i.toolbarCommands=[],l(i.item)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemAssetsDetailController",["$scope","$filter","$translate","platformWebApp.bladeNavigationService","platformWebApp.assets.api","platformWebApp.settings","virtoCommerce.catalogModule.catalogs",function(e,t,o,a,r,i,l){var n,c=e.blade;c.currentEntity=angular.copy(c.origEntity),c.title=c.currentEntity.name,c.isLoading=!1,e.isValid=!0,e.languages=[],e.setForm=function(e){n=e},e.$watch("blade.currentEntity",(function(t,o){t!==o&&(e.isValid=n&&n.$valid)}),!0),e.openDictionarySettingManagement=function(){var t={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Catalog.ImageCategories",parentRefresh:function(t){e.imageTypes=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};a.showBlade(t,c)},e.saveChanges=function(){angular.copy(c.currentEntity,c.origEntity),e.bladeClose()},l.get({id:c.currentEntity.catalogId},(function(t){e.languages=_.pluck(t.languages,"languageCode")})),e.imageTypes=i.getValues({id:"Catalog.ImageCategories"})}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemAssetController",["$scope","$translate","platformWebApp.bladeNavigationService","$filter","platformWebApp.uiGridHelper","$timeout",function(e,t,o,a,r,i){var l=e.blade;function n(e){_.each(e,(function(e){var t=angular.copy(e);t.mimeType=e.contentType,l.currentEntities.push(t)}))}function c(e){l.item=e,l.title=e.name,l.subtitle="catalog.widgets.itemAsset.blade-subtitle",l.currentEntities=e.assets?angular.copy(e.assets):[]}function s(e,t){var o=-1;return t&&_.each(t.grid.renderContainers.body.visibleRowCache,(t,a)=>{_.isEqual(t.entity,e)&&(o=a)}),o}l.headIcon="fa fa-chain",l.toolbarCommands=[{name:"platform.commands.remove",icon:"fas fa-trash-alt",executeMethod:function(){e.removeAction()},canExecuteMethod:function(){var t=!1;return l.currentEntities&&e.gridApi&&(t=e.gridApi.selection.getSelectedRows().length>0),t}},{name:"Add",icon:"fas fa-plus",executeMethod:function(){var e={title:"catalog.blades.asset-upload.title",item:l.item,onSelect:n,controller:"virtoCommerce.catalogModule.itemAssetAddController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-asset-add.tpl.html"};o.showBlade(e,l)},canExecuteMethod:function(){return!0}},{name:"Link",icon:"fas fa-link",executeMethod:function(){var e={title:"catalog.blades.asset-select.title",onSelect:n,controller:"virtoCommerce.assetsModule.assetSelectController"};o.showBlade(e,l)},canExecuteMethod:function(){return!0}}],l.isLoading=!1,l.refresh=function(e){c(e)},e.isValid=!0,e.saveChanges=function(){l.item.assets=l.currentEntities,e.bladeClose()},e.toggleAssetSelect=function(e,t){1===e.ctrlKey?t.selected=!t.selected:t.selected?t.selected=!1:t.selected=!0},e.removeAction=function(e){var t=l.currentEntities.indexOf(e);t>=0&&l.currentEntities.splice(t,1)},e.copyUrl=function(e){t("catalog.blades.item-asset-list.labels.copy-url-prompt").then((function(t){window.prompt(t,e.url)}))};var d=function(e){s(e.rowEntity,e.gridApi)!==e.index&&e.gridApi.cellNav.scrollToFocus(e.rowEntity,e.colDef)};e.edit=function(e){e.catalogId||(e.catalogId=l.item.catalogId);var t={id:"itemDetailChild",origEntity:e,controller:"virtoCommerce.catalogModule.itemAssetsDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-asset-detail.tpl.html"};o.showBlade(t,l)},e.setGridOptions=function(t){t.enableCellEditOnFocus=!1,r.initialize(e,t,(function(t){t.edit.on.afterCellEdit(e,(function(e,o){var a=s(e,t);i(d,100,!0,{rowEntity:e,colDef:o,index:a,gridApi:t})}))}))},e.removeItem=function(e){var t=l.currentEntities.indexOf(e);t>=0&&l.currentEntities.splice(t,1)},e.downloadUrl=function(e){window.open(e.url,"_blank")},e.removeAction=function(t){null==t&&(t=e.gridApi.selection.getSelectedRows()),angular.forEach(t,(function(e){var t=l.currentEntities.indexOf(e);t>=0&&l.currentEntities.splice(t,1)}))},c(l.item)}]).run(["platformWebApp.ui-grid.extension","uiGridValidateService",function(e,t){t.setValidator("minPriorityValidator",()=>(e,t)=>t>=0,()=>"Priority value should be equal or more than zero")}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemAssociationDetailController",["$scope","platformWebApp.dialogService","platformWebApp.bladeNavigationService","platformWebApp.settings",function(e,t,o,a){var r,i=e.blade;e.isValid=!1,e.$watch("blade.currentEntity",(function(){e.isValid=e.formScope&&e.formScope.$valid}),!0),i.toolbarCommands=[{name:"catalog.commands.open-item",icon:"fa fa-edit",executeMethod:function(){!function(){var e={id:"associationDetail",itemId:i.currentEntity.associatedObjectId,catalog:i.catalog,currentEntityId:i.currentEntity.associatedObjectId};"product"===i.currentEntity.associatedObjectType?(e.controller="virtoCommerce.catalogModule.itemDetailController",e.template="Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"):"category"===i.currentEntity.associatedObjectType&&(e.controller="virtoCommerce.catalogModule.categoryDetailController",e.template="Modules/$(VirtoCommerce.Catalog)/Scripts/blades/category-detail.tpl.html");o.showBlade(e,i)}()},canExecuteMethod:function(){return!0}}],e.openDictionarySettingManagement=function(){var t={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Catalog.AssociationGroups",parentRefresh:function(t){e.associationGroups=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};o.showBlade(t,i)},e.setForm=function(t){e.formScope=t},e.saveChanges=function(){angular.copy(i.currentEntity,i.origEntity),_.any(i.currentEntity.tags)&&(i.origEntity.tags=_.map(i.currentEntity.tags,(function(e){return e.value}))),e.bladeClose()},r=i.origEntity,e.associationGroups=a.getValues({id:"Catalog.AssociationGroups"},(function(e){e&&e.length>0&&(i.groupName=e[0])})),i.currentEntity=angular.copy(r),i.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemAssociationsListController",["$scope","platformWebApp.bladeNavigationService","uiGridConstants","platformWebApp.uiGridHelper","virtoCommerce.catalogModule.catalogs","virtoCommerce.catalogModule.items","virtoCommerce.catalogModule.categories",function(e,t,o,a,r,i,l){e.uiGridConstants=o;var n=[],c=e.blade;function s(e){c.title=e.name,c.item=e,d(e.associations)}function d(e){_.some(e)&&(c.isLoading=!0,n=[],function(e){var t=_.filter(e,(function(e){return"product"===e.associatedObjectType})),o=_.pluck(t,"associatedObjectId");return i.plenty({respGroup:"ItemSmall"},o,(function(e){g(t,e)})).$promise}(e).then(function(e){var t=_.filter(e,(function(e){return"product"!==e.associatedObjectType})),o=_.pluck(t,"associatedObjectId");return l.plenty({respGroup:"Info"},o,(function(e){g(t,e)})).$promise}(e)).then(u))}function u(){var e=_.uniq(n);return r.search({skip:0,take:e.length,catalogIds:e},(function(e){_.each(c.item.associations,(function(t){t.$$catalog=_.find(e.results,(function(e){return e.id===t.$$catalogId}))})),c.isLoading=!1})).$promise}function g(e,t){_.each(e,(function(e){var o=_.find(t,(function(t){return t.id===e.associatedObjectId}));o&&(e.$$catalogId=o.catalogId,"product"===e.associatedObjectType&&(e.$$productType=o.productType))})),n.push.apply(n,_.pluck(e,"$$catalogId"))}c.subtitle="catalog.widgets.itemAssociations.blade-subtitle",c.isLoading=!1,c.refresh=function(e){s(e)},e.selectNode=function(o){e.selectedNodeId=o.associatedObjectId;var a={id:"associationDetail",itemId:o.associatedObjectId,catalog:c.catalog,controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"};"category"===o.associatedObjectType&&(a.currentEntityId=o.associatedObjectId,a.controller="virtoCommerce.catalogModule.categoryDetailController",a.template="Modules/$(VirtoCommerce.Catalog)/Scripts/blades/category-detail.tpl.html"),"product"===o.associatedObjectType&&(a.productType=o.$$productType),t.showBlade(a,c)},e.deleteList=function(e){t.closeChildrenBlades(c,(function(){var t=_.difference(c.item.associations,e);c.item.associations=t}))},e.edit=function(e){var o={id:"associationEditDetail",title:e.associatedObjectName,subtitle:"catalog.blades.item-association-detail.subtitle",origEntity:e,catalog:c.catalog,controller:"virtoCommerce.catalogModule.itemAssociationDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-association-detail.tpl.html"};t.showBlade(o,c)},c.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){var e;e={id:"associationWizard",catalog:c.catalog,item:c.item,onSaveChanges:function(){d(c.item.associations)},controller:"virtoCommerce.catalogModule.associationWizardController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/wizards/newAssociation/association-wizard.tpl.html"},t.showBlade(e,c)},canExecuteMethod:function(){return!0}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){e.deleteList(e.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())}}],e.setGridOptions=function(t){a.initialize(e,t,(function(t){e.gridApi=t,t.draggableRows.on.rowFinishDrag(e,(function(){for(var e=0;e<c.item.associations.length;e++)c.item.associations[e].priority=e+1}))}))},s(c.item)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemDetailController",["$rootScope","$scope","$translate","platformWebApp.bladeNavigationService","platformWebApp.settings","virtoCommerce.catalogModule.items","virtoCommerce.customerModule.members","virtoCommerce.catalogModule.catalogs","platformWebApp.metaFormsService","virtoCommerce.catalogModule.categories",function(e,t,o,a,r,i,l,n,c,s){var d=t.blade;function u(e,t){d.itemId=e.id,d.title=e.code,d.securityScopes=e.securityScopes,e.productType||(e.productType="Physical"),d.subtitle="catalog.blades.item-detail.subtitle",d.subtitleValues={productTypeName:o.instant("catalog.product-types."+e.productType)};var a=f(e);e._priority=(a?a.priority:e.priority)||0,d.item=angular.copy(e),d.currentEntity=d.item,d.origItem=e,d.isLoading=!1,t&&d.parentBlade.refresh&&d.parentBlade.refresh(),d.childrenBlades&&_.each(d.childrenBlades,(function(e){e.refresh&&e.refresh(d.item)}))}function g(){return!angular.equals(d.item,d.origItem)&&d.hasUpdatePermission()}function m(){return g()&&d.formScope&&d.formScope.$valid}function p(){d.isLoading=!0;var e=f(d.item);e?e.priority=d.item._priority:d.item.priority=d.item._priority,i.update({},d.item,(function(){d.refresh(!0)}))}function f(e){var t;return a.catalogsSelectedCatalog&&a.catalogsSelectedCatalog.isVirtual&&(t=_.find(e.links,(function(e){return e.catalogId===a.catalogsSelectedCatalog.id&&(!a.catalogsSelectedCategoryId||e.categoryId===a.catalogsSelectedCategoryId)}))),t}function y(){d.vendors=l.search({memberType:"Vendor",sort:"name:asc",take:1e3})}d.updatePermission="catalog:update",d.currentEntityId=d.itemId,d.metaFields=c.getMetaFields("productDetail"),d.metaFields1=c.getMetaFields("productDetail1"),d.metaFields2=c.getMetaFields("productDetail2"),d.refresh=function(e){return d.isLoading=!0,i.get({id:d.itemId,respGroup:2015},(function(t){d.catalog?u(t,e):n.get({id:t.catalogId},(function(o){d.catalog=o,u(t,e)}))}),(function(e){a.setError("Error "+e.status,d)}))},d.codeValidator=function(e){return!/[$+;=%{}[\]|@~!^*&()?'<>,]/.test(e)},d.onClose=function(e){a.showConfirmationIfNeeded(g(),m(),d,p,e,"catalog.dialogs.item-save.title","catalog.dialogs.item-save.message")},d.formScope=null,t.setForm=function(e){d.formScope=e},d.headIcon="Digital"===d.productType?"fa fa-file-zip-o":"fa fa-dropbox",d.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:p,canExecuteMethod:m,permission:d.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(d.origItem,d.item)},canExecuteMethod:g,permission:d.updatePermission},{name:"platform.commands.clone",icon:"fas fa-clone",executeMethod:function(){d.isLoading=!0,i.cloneItem({itemId:d.itemId},(function(e){var t={id:d.id,item:e,catalog:d.catalog,title:"catalog.wizards.new-product.title",subtitle:"catalog.wizards.new-product.subtitle",controller:"virtoCommerce.catalogModule.newProductWizardController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/wizards/newProduct/new-product-wizard.tpl.html"};a.showBlade(t,d.parentBlade)}),(function(e){a.setError("Error "+e.status,d)}))},canExecuteMethod:function(){return!g()},permission:"catalog:create"}],d.datepickers={},d.open=function(e,t){e.preventDefault(),e.stopPropagation(),d.datepickers[t]=!0},d.openVendorsManagement=function(){var e={memberType:"Vendor",parentRefresh:y,id:"vendorList",currentEntity:{id:null},controller:"virtoCommerce.customerModule.memberListController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/member-list.tpl.html"};a.showBlade(e,d)},d.openDictionarySettingManagement=function(e){var t={id:"settingDetailChild",isApiSave:!0,controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};switch(e){case"TaxTypes":_.extend(t,{currentEntityId:"VirtoCommerce.Core.General.TaxTypes",parentRefresh:function(e){d.taxTypes=e}})}a.showBlade(t,d)},t.$on("refresh-entity-by-id",(function(e,t){d.currentEntityId===t&&d.refresh()})),y(),d.taxTypes=r.getValues({id:"VirtoCommerce.Core.General.TaxTypes"}),d.refresh(!1)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemDimensionController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.settings","virtoCommerce.catalogModule.items","virtoCommerce.customerModule.members","virtoCommerce.coreModule.packageType.packageTypeUtils",function(e,t,o,a,r,i){var l,n,c=e.blade;c.title="catalog.blades.item-dimensions.title",c.subtitle="catalog.blades.item-dimensions.subtitle",c.isLoading=!1,e.isValid=!1,e.setForm=function(e){l=e},e.$watch("blade.currentEntity",(function(){e.isValid=l&&l.$valid}),!0),c.refresh=function(e){e&&initialize(e)},e.saveChanges=function(){angular.extend(c.item,c.currentEntity),c.item.usePackageType&&(delete c.item.measureUnit,delete c.item.height,delete c.item.width,delete c.item.length),e.bladeClose()},e.openDictionarySettingManagement=function(o){var a={id:"settingDetailChild",isApiSave:!0,controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};switch(o){case"WeightUnits":_.extend(a,{currentEntityId:"VirtoCommerce.Core.General.WeightUnits",parentRefresh:function(t){e.weightUnits=t}});break;case"MeasureUnits":_.extend(a,{currentEntityId:"VirtoCommerce.Core.General.MeasureUnits",parentRefresh:function(t){e.measureUnits=t}})}t.showBlade(a,c)},e.$watch("blade.currentEntity.packageType",(function(e){e||(c.currentEntity.usePackageType=!1)})),e.$watch("blade.currentEntity.usePackageType",(function(t){if(!t&&!c.currentEntity.measureUnit){var o=_.find(e.packageTypes,(function(e){return e.id==c.currentEntity.packageType}));o&&(c.currentEntity.measureUnit=o.measureUnit)}})),n=c.item,e.packageTypeUtils=i,e.packageTypes=i.getPackageTypes(),c.item=n,c.currentEntity={weightUnit:n.weightUnit,packageType:n.packageType,weight:n.weight,measureUnit:n.measureUnit,height:n.height,width:n.width,length:n.length,usePackageType:n.packageType&&!(n.measureUnit&&n.height&&n.width&&n.length)},e.weightUnits=o.getValues({id:"VirtoCommerce.Core.General.WeightUnits"}),e.measureUnits=o.getValues({id:"VirtoCommerce.Core.General.MeasureUnits"})}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemPropertyDetailController",["$scope","$q","virtoCommerce.catalogModule.properties","platformWebApp.bladeNavigationService","platformWebApp.dialogService","virtoCommerce.catalogModule.valueTypes","virtoCommerce.catalogModule.propertyValidators",function(e,t,o,a,r,i,l){var n,c=e.blade;c.availableValueTypes=i.get(),e.isValid=!1,c.title="catalog.blades.item-property-detail.title",c.subtitle="catalog.blades.item-property-detail.subtitle",e.$watch("blade.currentEntity",(function(){e.isValid=e.formScope&&e.formScope.$valid}),!0),e.doValidateNameAsync=a=>a&&!l.isNameValid(a)?(e.errorData={errorMessage:"property-naming-error"},t.reject()):o.validateName({name:a,originalName:c.origEntity.name,productId:c.productId}).$promise.then(o=>o.isValid?(e.errorData=null,t.resolve()):(e.errorData=o.errors[0],t.reject())),e.openBlade=e=>{var t=angular.extend({id:"duplicateVariationDetail",title:e.code,catalog:c.catalog,controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"},e);a.showBlade(t,c)},e.saveChanges=function(){angular.copy(c.currentEntity,c.origEntity),c.isNew&&c.properties&&c.properties.push(c.origEntity),e.bladeClose()},e.setForm=function(t){e.formScope=t},c.isNew||(c.headIcon="fa fa-gear",c.toolbarCommands=[{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var t,o;t=c.origEntity,o={id:"confirmDelete",title:"platform.dialogs.delete.title",message:"catalog.dialogs.item-property-delete.message",messageValues:{name:t.name},callback:function(t){if(t){var o=c.properties.indexOf(c.origEntity);c.properties.splice(o,1),e.bladeClose()}}},r.showConfirmationDialog(o)},canExecuteMethod:function(){return!0}}]),"Number"===(n=c.origEntity).valueType&&n.dictionaryValues&&_.forEach(n.dictionaryValues,(function(e){e.value=parseFloat(e.value)})),c.currentEntity=angular.copy(n),c.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemVariationListController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.dialogService","virtoCommerce.catalogModule.items","filterFilter","uiGridConstants","platformWebApp.uiGridHelper","virtoCommerce.catalogModule.search","platformWebApp.bladeUtils",function(e,t,o,a,r,i,l,n,c){e.uiGridConstants=i;var s=e.blade;s.title=s.item.name,s.subtitle="catalog.widgets.itemVariation.blade-subtitle",s.refresh=function(t){if(t){s.isLoading=!0;var o={mainProductId:s.item.id,responseGroup:"withProducts",objectType:"CatalogProduct",sort:l.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount,withHidden:!0};n.searchProducts(o,(function(t){s.isLoading=!1,e.pageSettings.totalItems=t.totalCount,s.variations=t.results,e.hasMore=t.results.length===e.pageSettings.itemsPerPageCount}))}else s.parentBlade.refresh()},s.setSelectedItem=function(t){e.selectedNodeId=t.id},e.selectVariation=function(e){s.setSelectedItem(e);var o={id:"variationDetail",itemId:e.id,productType:e.productType,title:e.code,catalog:s.catalog,subtitle:"catalog.blades.item-detail.subtitle-variation",controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"};t.showBlade(o,s)},e.deleteList=function(e){t.closeChildrenBlades(s,(function(){var r={id:"confirmDeleteItem",title:"catalog.dialogs.variation-delete.title",message:"catalog.dialogs.variation-delete.message",callback:function(o){if(o){var r=_.pluck(e,"id");a.remove({ids:r},s.parentBlade.refresh,(function(e){t.setError("Error "+e.status,s)}))}}};o.showConfirmationDialog(r)}))},s.headIcon="fa fa-dropbox",s.toolbarCommandsAndEvents&&s.toolbarCommandsAndEvents.toolbarCommands?s.toolbarCommands=s.toolbarCommandsAndEvents.toolbarCommands:s.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:function(){s.parentBlade.refresh()},canExecuteMethod:function(){return!0}},{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){a.newVariation({itemId:s.item.id},(function(e){e.properties=_.where(e.properties,{type:"Variation"}),e.productType=s.item.productType,"Digital"!==e.productType&&"BillOfMaterials"!==e.productType||(e.trackInventory=!1);var o={id:"variationDetail",item:e,catalog:s.catalog,title:"catalog.wizards.new-variation.title",subtitle:"catalog.wizards.new-variation.subtitle",controller:"virtoCommerce.catalogModule.newProductWizardController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/wizards/newProduct/new-variation-wizard.tpl.html"};t.showBlade(o,s)}),(function(e){t.setError("Error "+e.status,s)}))},canExecuteMethod:function(){return!0},permission:"catalog:create"},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){e.deleteList(e.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())},permission:"catalog:delete"}],(e.filter={}).criteriaChanged=function(){e.pageSettings.currentPage>1?e.pageSettings.currentPage=1:s.refresh()},e.setGridOptions=function(t){l.initialize(e,t,(function(t){t.grid.registerRowsProcessor(e.singleFilter,90),l.bindRefreshOnSortChanged(e)})),c.initializePagination(e)},e.singleFilter=function(t){var o=0;return t.forEach((function(e){e.visible=_.any(r([e.entity],s.searchText)),e.visible&&o++})),e.filteredEntitiesCount=o,t}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertyAttributesController",["$scope","$filter","platformWebApp.dialogService",function(e,t,o){var a,r=e.blade.parentBlade;function i(){e.newValue={name:null,value:null}}e.pb=r,e.attributeNameValidator=function(e){return _.all(r.currentEntity.attributes,(function(t){return t.name!==e}))},e.setForm=function(e){a=e},e.add=function(){a.$valid&&(r.currentEntity.attributes.push(e.newValue),i(),a.$setPristine())},e.delete=function(t){r.currentEntity.attributes.splice(t,1),e.selectedItem=void 0},e.selectItem=function(t){e.selectedItem=t},e.blade.headIcon="fa fa-gear",e.blade.toolbarCommands=[{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var a;a={id:"confirmDeleteItem",title:"catalog.dialogs.attribut-delete.title",message:"catalog.dialogs.attribut-delete.message",callback:function(o){if(o){var a=t("filter")(r.currentEntity.attributes,{selected:!0},!0);angular.forEach(a,(function(t){e.delete(r.currentEntity.attributes.indexOf(t))}))}}},o.showConfirmationDialog(a)},canExecuteMethod:function(){return _.any(r.currentEntity.attributes,(function(e){return e.selected}))}}],e.checkAll=function(e){angular.forEach(r.currentEntity.attributes,(function(t){t.selected=e}))},i(),e.blade.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertyDetailController",["$scope","$q","virtoCommerce.catalogModule.properties","platformWebApp.bladeNavigationService","platformWebApp.dialogService","virtoCommerce.catalogModule.valueTypes","virtoCommerce.catalogModule.propertyValidators",function(e,t,o,a,r,i,l){var n,c=e.blade;function s(e){o.values({propertyId:e.id},(function(t){e.dictionaryValues=t,"Number"===e.valueType&&e.dictionaryValues&&_.forEach(e.dictionaryValues,(function(e){e.value=parseFloat(e.value)})),c.propertyType&&(e.type=c.propertyType),c.currentEntity=angular.copy(e),c.origEntity=e,c.isLoading=!1}))}function d(){return!angular.equals(c.currentEntity,c.origEntity)&&c.hasUpdatePermission()}function u(){return(c.origEntity.isNew||d())&&n&&n.$valid&&!(c.currentEntity&&e.duplicatedName===c.currentEntity.name)}function g(){c.isLoading=!0,e.doValidateNameAsync(c.currentEntity.name).then(()=>{a.closeChildrenBlades(c),delete c.currentEntity.validationRule,"ShortText"!==c.currentEntity.valueType&&"LongText"!==c.currentEntity.valueType&&delete c.currentEntity.validationRules,o.update(c.currentEntity,(function(e,t){c.currentEntityId=e.id,c.refresh(!0)}))},()=>{e.duplicatedName=angular.copy(c.currentEntity.name),c.isLoading=!1})}c.updatePermission="catalog:update",c.origEntity={},e.currentChild=void 0,c.title="catalog.blades.property-detail.title",c.subtitle="catalog.blades.property-detail.subtitle",c.availableValueTypes=i.get(),c.hasMultivalue=!0,c.hasDictionary=!0,c.hasMultilanguage=!0,c.availablePropertyTypes=c.catalogId?["Product","Variation","Category","Catalog"]:["Product","Variation","Category"],e.$watch("blade.currentEntity.valueType",(function(e,t){switch(c.hasMultivalue=!0,c.hasDictionary=!0,c.hasMultilanguage=!0,e){case"DateTime":case"Boolean":c.hasMultivalue=c.currentEntity.multivalue=!1,c.hasDictionary=c.currentEntity.dictionary=!1,c.hasMultilanguage=c.currentEntity.multilanguage=!1;break;case"Integer":case"GeoPoint":c.hasDictionary=c.currentEntity.dictionary=!1,c.hasMultilanguage=c.currentEntity.multilanguage=!1;break;case"LongText":c.hasDictionary=c.currentEntity.dictionary=!1}})),e.doValidateNameAsync=a=>a&&!l.isNameValid(a)?(e.errorData={errorMessage:"property-naming-error"},t.reject()):c.origEntity.isNew||a!==c.origEntity.name?o.validateCategoryPropertyName({propertyName:a,propertyType:c.origEntity.type,categoryId:c.origEntity.categoryId,catalogId:c.origEntity.catalogId}).$promise.then(o=>o.isValid?(e.errorData=null,t.resolve()):(e.errorData=o.errors[0],t.reject())):(e.errorData=null,t.resolve()),c.refresh=function(e){c.currentEntityId?o.get({propertyId:c.currentEntityId},(function(t){s(t),e&&c.parentBlade.refresh()}),(function(e){a.setError("Error "+e.status,c)})):c.categoryId?o.newCategoryProperty({categoryId:c.categoryId},(function(e){s(e)}),(function(e){a.setError("Error "+e.status,c)})):c.catalogId&&o.newCatalogProperty({catalogId:c.catalogId},(function(e){s(e)}),(function(e){a.setError("Error "+e.status,c)}))},e.openChild=function(t){var o={id:"propertyChild"};switch(o.property=c.currentEntity,o.languages=c.languages,o.defaultLanguage=c.defaultLanguage,t){case"attr":o.title="catalog.blades.property-attributes.title",o.titleValues={name:c.origEntity.name?c.origEntity.name:c.currentEntity.name},o.subtitle="catalog.blades.property-attributes.subtitle",o.controller="virtoCommerce.catalogModule.propertyAttributesController",o.template="Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-attributes.tpl.html";break;case"rules":o.title="catalog.blades.property-validationRule.title",o.titleValues={name:c.origEntity.name?c.origEntity.name:c.currentEntity.name},o.subtitle="catalog.blades.property-validationRule.subtitle",o.controller="virtoCommerce.catalogModule.propertyValidationRulesController",o.template="Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-validationRules.tpl.html";break;case"dict":o.title="catalog.blades.property-dictionary.title",o.titleValues={name:c.origEntity.name?c.origEntity.name:c.currentEntity.name},o.subtitle="catalog.blades.property-dictionary.subtitle",o.controller="virtoCommerce.catalogModule.propertyDictionaryListController",o.template="Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-dictionary-list.tpl.html"}a.showBlade(o,c),e.currentChild=t},c.onClose=function(e){a.showConfirmationIfNeeded(d(),u(),c,g,e,"catalog.dialogs.property-save.title","catalog.dialogs.property-save.message")},e.setForm=function(e){n=e},c.headIcon="fa fa-gear",c.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:g,canExecuteMethod:u},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(c.origEntity,c.currentEntity)},canExecuteMethod:d},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var t,a;t=c.origEntity,a={id:"confirmDelete",messageValues:{name:t.name},callback:function(a){c.isLoading=!0,o.remove({id:t.id,doDeleteValues:a},(function(){e.bladeClose(),c.parentBlade.refresh()}))}},r.showDialog(a,"Modules/$(VirtoCommerce.Catalog)/Scripts/dialogs/deleteProperty-dialog.tpl.html","platformWebApp.confirmDialogController")},canExecuteMethod:function(){return c.origEntity.isManageable&&!c.origEntity.isNew}}],c.refresh()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertyDictionaryDetailsController",["$scope","platformWebApp.dialogService","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.propDictItems",function(e,t,o,a){var r=e.blade;function i(){return!angular.equals(r.currentEntity,r.origEntity)&&r.hasUpdatePermission()}r.headIcon="fa fa-book",e.isValid=!0,e.blade.isLoading=!1,e.validationRules=r.property.validationRule,e.setForm=function(e){r.formScope=e},r.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:function(){r.currentEntity.localizedValues=[],r.languages.forEach((function(e){let t={};t.languageCode=r.property.multilanguage?e:void 0,t.value=r.currentEntity[e],r.currentEntity.localizedValues.push(t)})),a.save([r.currentEntity],(function(e){r.onSaveChanges(),angular.copy(r.currentEntity,r.origEntity)}))},canExecuteMethod:function(){return i()&&r.formScope&&r.formScope.$valid}}],r.onClose=function(t){o.showConfirmationIfNeeded(i(),e.isValid,r,e.saveChanges,t,"catalog.dialogs.property-save.title","catalog.dialogs.property-save.message")},r.currentEntity=angular.copy(r.dictionaryItem),r.origEntity=r.dictionaryItem,r.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertyDictionaryListController",["$scope","$filter","platformWebApp.dialogService","platformWebApp.settings","platformWebApp.bladeNavigationService","platformWebApp.uiGridHelper","virtoCommerce.catalogModule.propDictItems","platformWebApp.bladeUtils",function(e,t,o,a,r,i,l,n){var c=e.blade;e.blade.isLoading=!1,c.headIcon="fa fa-book",e.currentEntities=[],e.uiGridConstants=i.uiGridConstants;var s=c.filter=e.filter={};s.criteriaChanged=function(){e.pageSettings.currentPage>1?e.pageSettings.currentPage=1:c.refresh()},c.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){e.selectNode({values:[],isNew:!0,propertyId:c.property.id})},canExecuteMethod:function(){return!0}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){e.deleteList(e.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())}}],c.refresh=function(){c.languages=c.property.multilanguage?c.languages:[];var t={searchPhrase:s.keyword,propertyIds:[c.property.id],sort:i.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount};l.search(t,(function(t){e.pageSettings.totalItems=t.totalCount,e.currentEntities=t.results,e.currentEntities.forEach((function(e){c.languages.forEach((function(t){var o=_.find(e.localizedValues,(function(e){return e.languageCode===t||!e.languageCode&&t===c.defaultLanguage}));e[t]=o?o.value:void 0}))}))}))},e.setGridOptions=function(t){i.initialize(e,t,(function(t){t&&t.core&&i.bindRefreshOnSortChanged(e)})),n.initializePagination(e)},e.deleteList=function(e){var t={id:"confirmDeletePropertyValue",title:"catalog.dialogs.dictionary-values-delete.title",message:"catalog.dialogs.dictionary-values-delete.message",callback:function(t){t&&r.closeChildrenBlades(c,(function(){var t=_.pluck(e,"id");l.remove({ids:t},(function(e){c.refresh()}))}))}};o.showDialog(t,"Modules/$(VirtoCommerce.Catalog)/Scripts/dialogs/deletePropertyDictionaryItem-dialog.tpl.html","platformWebApp.confirmDialogController")},e.deleteDictItem=function(t){e.deleteList([t])},e.selectNode=function(t){t.alias&&(e.selectedNodeId=t.alias);var o={id:"propertyDictionaryDetails",title:"catalog.blades.property-dictionary.labels.dictionary-edit",controller:"virtoCommerce.catalogModule.propertyDictionaryDetailsController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-dictionary-details.tpl.html",dictionaryItem:t,property:c.property,languages:c.languages,defaultLanguage:c.defaultLanguage,onSaveChanges:function(e){c.refresh()}};r.showBlade(o,c)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertyListController",["$scope","virtoCommerce.catalogModule.properties","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.propDictItems","$localStorage","platformWebApp.authService",function(e,t,o,a,r,i){var l,n=e.blade;function c(e){n.title=e.name,n.subtitle="catalog.blades.property-list.subtitle",n.currentEntity=e,n.currentEntities=angular.copy(e.properties),n.propertiesForExclude=_.map(n.currentEntities,e=>({name:e.name})),n.filteredProperties=[],n.emptyProperties=[],r.propertyFilter&&s(r.propertyFilter[i.userName])}function s(e){e&&e.length>0&&(n.filteredProperties=e.map((function(e){return e.toLowerCase()})))}function d(e){var t={id:"editItemProperty"+n.currentEntity.id,properties:n.currentEntities,productId:n.currentEntity.id,catalog:n.catalog,controller:"virtoCommerce.catalogModule.itemPropertyDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-property-detail.tpl.html"};angular.extend(t,e),o.showBlade(t,n)}e.isValid=!1,n.refresh=function(e){e?c(e):n.parentBlade.refresh()},n.propertiesVisible=!0,n.propertyVisibleCommand={name:"catalog.blades.property-list.labels.hide-empty-values",icon:"fas fa-eye-slash",executeMethod:function(){e.switchPropertiesVisibility()},canExecuteMethod:function(){return!0}},e.isPropertyChanged=function(e){if(e){var t=_.find(n.currentEntity.properties,(function(t){return t.id===e.id}));if(t)return!angular.equals(e,t)}return!1},e.isPropertyVisible=function(e){return!(n.filteredProperties&&n.filteredProperties.length>0)||n.filteredProperties.includes(e.name.toLowerCase())},e.isPropertyHasValues=function(e){return!n.emptyProperties.includes(e)},e.resetFilter=function(){g([]),n.filteredProperties=[]},e.saveChanges=function(){n.currentEntity.properties=n.currentEntities,e.bladeClose()},e.getPropertyDisplayName=function(e){return _.first(_.map(_.filter(e.displayNames,(function(e){return e&&e.languageCode.startsWith(n.defaultLanguage)})),(function(e){return e.name})))},e.editProperty=function(e){if(e.isManageable){var t={id:"editCategoryProperty",currentEntityId:e?e.id:void 0,categoryId:n.categoryId,catalogId:n.catalogId,defaultLanguage:n.defaultLanguage,languages:n.languages,controller:"virtoCommerce.catalogModule.propertyDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-detail.tpl.html"};o.showBlade(t,n)}else d({title:"catalog.blades.item-property-detail.title",origEntity:e})},e.getPropValues=function(e,t,o,r){return a.search({propertyIds:[e],searchPhrase:t,skip:o,take:r}).$promise.then((function(e){return e}))},e.setForm=function(e){l=e};const u=()=>{e.isValid=l&&l.$valid};function g(e){var t={};t[i.userName]=e,r.propertyFilter?angular.extend(r.propertyFilter,t):r.propertyFilter=t}e.$watch("blade.currentEntities",u,!0),e.$watch("blade.currentEntity",u,!0),n.headIcon="fa fa-gear",n.addPropertyButtonNameKey=n.currentEntity.hasOwnProperty("productType")?n.currentEntity.mainProductId?"catalog.commands.add-variation-property":"catalog.commands.add-product-property":"catalog.commands.add-property",n.toolbarCommands=[{name:n.addPropertyButtonNameKey,icon:"fas fa-plus",executeMethod:function(){if("product"==n.entityType)d({isNew:!0,title:"catalog.blades.item-property-detail.title-new",origEntity:{type:"Product",valueType:"ShortText",values:[]}});else{var e={id:"propertyTypesList",currentEntityId:void 0,categoryId:n.categoryId,catalogId:n.catalogId,defaultLanguage:n.defaultLanguage,languages:n.languages,controller:"virtoCommerce.catalogModule.propertyTypeListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-type-list.tpl.html"};o.showBlade(e,n)}},canExecuteMethod:function(){return!0}},{name:"catalog.blades.property-list.labels.add-filter",icon:"fa fa-filter",executeMethod:function(){e.editPropertyFilter()},canExecuteMethod:function(){return!0}},{name:"catalog.blades.property-list.labels.reset-filter",icon:"fa fa-undo",executeMethod:function(){e.resetFilter()},canExecuteMethod:function(){return n.filteredProperties.length>0}},n.propertyVisibleCommand],e.editPropertyFilter=function(){var e={id:"propertySelector",entityType:"product",properties:n.currentEntities,selectedProperties:n.filteredProperties,controller:"virtoCommerce.catalogModule.propertySelectorController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-selector.tpl.html",onSelected:function(e){var t=e.map((function(e){return e.name}));g(t),s(t)}};o.showBlade(e,n)},e.switchPropertiesVisibility=function(){var e;n.propertiesVisible=!n.propertiesVisible,n.propertiesVisible?(n.propertyVisibleCommand.name="catalog.blades.property-list.labels.hide-empty-values",n.propertyVisibleCommand.icon="fas fa-eye-slash",_.each(n.currentEntities,(function(e){e.$$hiddenLanguages&&(e.$$hiddenLanguages=null)})),n.emptyProperties=[]):(n.propertyVisibleCommand.name="catalog.blades.property-list.labels.show-empty-values",n.propertyVisibleCommand.icon="fas fa-eye",e=_.filter(n.currentEntities,(function(e){return"product"===n.entityType.toLowerCase()&&"variation"===e.type.toLowerCase()||e.type.toLowerCase()===n.entityType.toLowerCase()})),_.each(e,(function(e){e.multilanguage&&(e.$$hiddenLanguages=[],_.each(n.languages,(function(t){_.some(e.values,(function(e){return e.value&&""!==e.value&&e.languageCode===t}))||e.$$hiddenLanguages.push(t)})))})),_.each(e,(function(e){var t;!e.required&&"Boolean"!==e.valueType&&(t=e.values,_.all(t,(function(e){return!e.value||""===e.value})))&&n.emptyProperties.push(e)})))},n.isLoading=!1,c(n.currentEntity)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertySelectorController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;o.existingFilteredProperties=[],o.isLoading=!0;const a=10;e.selectAllInGroup=function(e){o.selectedEntities[e]=o.allEntities[e]},e.clearAllInGroup=function(e){o.selectedEntities[e]=[]},e.sortSelected=function(e){o.selectedEntities[e]=_.sortBy(o.selectedEntities[e],"name")},e.cancelChanges=function(){t.closeBlade(o)},e.isValid=function(){return _.some(o.selectedEntities,(function(e){return e.length}))||e.hasChangedProperties(o.properties)},e.hasChangedProperties=function(e){return _.filter(e,(function(e){return e.isChanged})).length>0},e.saveChanges=function(){var e=_.flatten(_.map(o.selectedEntities,_.values));o.onSelected&&(o.onSelected(e),t.closeBlade(o))},function(){o.title="catalog.blades.property-selector.title",o.headIcon="fa fa-folder";var e=angular.copy(o.properties);e=_.sortBy(e,"group","name"),o.existingFilteredProperties=_.first(o.selectedProperties,a),o.existingFilteredProperties.length>=a&&o.existingFilteredProperties.push("...");var t=_.sortBy(_.filter(e,(function(e){return o.selectedProperties.includes(e.name.toLowerCase())})),"name");o.allEntities=_.groupBy(e,"group"),o.selectedEntities=_.groupBy(t,"group"),o.isLoading=!1}()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertyTypeListController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;o.title="catalog.blades.property-type-list.title",o.subtitle="catalog.blades.property-type-list.subtitle",o.selectedType=null,o.refresh=function(){o.parentBlade.refresh()},o.createProperty=function(e){o.selectedType=e;var a={id:"editCategoryProperty",currentEntityId:void 0,categoryId:o.categoryId,catalogId:o.catalogId,defaultLanguage:o.defaultLanguage,languages:o.languages,propertyType:e,controller:"virtoCommerce.catalogModule.propertyDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-detail.tpl.html"};t.showBlade(a,o)},o.toolbarCommands=[{name:"platform.commands.cancel",icon:"fas fa-ban",executeMethod:function(){t.closeBlade(o)},canExecuteMethod:function(){return!0}}],o.availablePropertyTypes=[{typeName:"Category",icon:"fas fa-folder"},{typeName:"Product",icon:"fas fa-sliders-h"},{typeName:"Variation",icon:"fas fa-box-open"}],o.catalogId&&o.availablePropertyTypes.unshift({typeName:"Catalog",icon:"fas fa-archive"}),o.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertyTypeController",["$scope",function(e){e.selectOption=function(t){e.blade.parentBlade.currentEntity.type=t,e.bladeClose()},e.blade.headIcon="fa fa-gear",e.blade.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertyValidationRulesController",["$scope",function(e){var t,o=e.blade,a=_.first(o.parentBlade.currentEntity.validationRules)||{};o.propertyValidationRule={id:a.id,required:o.parentBlade.currentEntity.required,isLimited:null!=a.charCountMin||null!=a.charCountMax,isSpecificPattern:null!=a.regExp,charCountMin:a.charCountMin,charCountMax:a.charCountMax,selectedLimit:"between",characterLimit:["between","at-least","not-more-than"],validationPatterns:[{name:"custom",pattern:""},{name:"email",pattern:"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$"},{name:"url",pattern:"https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)"},{name:"date",pattern:"(0[1-9]|[12][0-9]|3[01])[ .-](0[1-9]|1[012])[ .-](19|20|)dd"}],selectedPattern:{name:"custom",pattern:a.regExp},pattern:a.regExp},a.charCountMin&&!a.charCountMax?o.propertyValidationRule.selectedLimit="at-least":!a.charCountMin&&a.charCountMax?o.propertyValidationRule.selectedLimit="not-more-than":a.charCountMin&&a.charCountMax&&(o.propertyValidationRule.selectedLimit="between"),o.isLoading=!1,e.saveChanges=function(){o.parentBlade.currentEntity.required=o.propertyValidationRule.required,o.parentBlade.currentEntity.validationRules=[{id:o.propertyValidationRule.id,charCountMin:o.propertyValidationRule.isLimited&&"not-more-than"!==o.propertyValidationRule.selectedLimit?o.propertyValidationRule.charCountMin:null,charCountMax:o.propertyValidationRule.isLimited&&"at-least"!==o.propertyValidationRule.selectedLimit?o.propertyValidationRule.charCountMax:null,regExp:o.propertyValidationRule.isSpecificPattern?o.propertyValidationRule.selectedPattern.pattern:null}],o.parentBlade.currentEntity.validationRule=o.parentBlade.currentEntity.validationRules[0],e.bladeClose()},e.setForm=function(e){t=e},e.$watch("blade.propertyValidationRule",(function(){e.isValid=t&&t.$valid}),!0)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.editPropertiesActionStepController",["$scope","virtoCommerce.catalogModule.properties","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.propDictItems","virtoCommerce.customerModule.members","platformWebApp.settings","virtoCommerce.coreModule.packageType.packageTypeUtils",function(e,t,o,a,r,i,l){var n,c=e.blade;e.isValid=!0,c.refresh=function(){c.parentBlade.refresh()},e.saveChanges=function(){c.onSelected&&c.onSelected(c.currentEntities),e.bladeClose()},e.getPropertyDisplayName=function(e){return _.first(_.map(_.filter(e.displayNames,(function(e){return e&&e.languageCode.startsWith(c.defaultLanguage)})),(function(e){return e.name})))},e.getPropValues=function(e,t,o,r){return a.search({propertyIds:[e],searchPhrase:t,skip:o,take:r}).$promise.then((function(e){return e}))},e.setForm=function(e){n=e},e.$watch("blade.currentEntities",(function(){e.isValid=n?n.$valid:e.isValid}),!0),e.$watch("blade.vendor",(function(t){if(e.isValid=n?n.$valid:e.isValid,c.currentEntities){var o=_.find(c.vendors,(function(e){return e.id===t})),a=_.find(c.currentEntities,(function(e){return"Vendor"===e.name}));a&&o&&(a.values=[{valueId:o.id,value:o.name}])}})),e.$watch("blade.taxType",(function(t){e.isValid=n?n.$valid:e.isValid,e.updatePropertyValue("TaxType",t)})),e.$watch("blade.weightUnit",(function(t){e.isValid=n?n.$valid:e.isValid,e.updatePropertyValue("WeightUnit",t)})),e.$watch("blade.packageType",(function(t){e.isValid=n?n.$valid:e.isValid,e.updatePropertyValue("PackageType",t)})),e.$watch("blade.measureUnit",(function(t){e.isValid=n?n.$valid:e.isValid,e.updatePropertyValue("MeasureUnit",t)})),e.updatePropertyValue=function(e,t){if(c.currentEntities){var o=_.find(c.currentEntities,(function(t){return t.name===e&&!t.id}));o&&(o.values=[{value:t}])}},c.headIcon="fa fa-gear",c.toolbarCommands=c.toolbarCommands||[],c.isLoading=!1,c.subtitle="catalog.blades.property-list.subtitle",c.currentEntities=angular.copy(c.properties),_.each(c.currentEntities,(function(t){t.required&&(e.isValid=!1)})),r.search({memberType:"Vendor",sort:"name:asc",take:1e3},(function(e){c.vendors=e.results})),c.taxTypes=i.getValues({id:"VirtoCommerce.Core.General.TaxTypes"}),c.weightUnits=i.getValues({id:"VirtoCommerce.Core.General.WeightUnits"}),c.measureUnits=i.getValues({id:"VirtoCommerce.Core.General.MeasureUnits"}),c.packageTypes=l.getPackageTypes()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.propertiesSelectorController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;o.isLoading=!0,e.selectAllInGroup=function(e){o.selectedEntities[e]=o.allEntities[e]},e.clearAllInGroup=function(e){o.selectedEntities[e]=[]},e.sortSelected=function(e){o.selectedEntities[e]=_.sortBy(o.selectedEntities[e],"name")},e.cancelChanges=function(){t.closeBlade(o)},e.isValid=function(){return _.some(o.selectedEntities,(function(e){return e.length}))},e.saveChanges=function(){var e=_.flatten(_.map(o.selectedEntities,_.values));o.onSelected&&(o.onSelected(e),t.closeBlade(o))},function(){o.title="Select properties for edit",o.headIcon="fa fa-folder";var e=angular.copy(o.properties);e=_.sortBy(e,"group","name");var t=angular.copy(o.includedProperties);t=_.sortBy(t,"name"),o.allEntities=_.groupBy(e,"group"),o.selectedEntities=_.groupBy(t,"group"),o.isLoading=!1}()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.videoAddController",["$scope","$resource","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.videos",function(e,t,o,a){var r,i=e.blade,l=i.parentBlade;i.headIcon="fab fa-youtube",i.title="catalog.blades.video-add.title",i.subtitle="catalog.blades.video-add.subtitle",i.refresh=function(){i.isLoading=!1},e.setForm=function(e){r=e},i.toolbarCommands=[{name:"catalog.blades.video-add.create",icon:"fas fa-check",executeMethod:function(){i.isLoading=!0,a.create({contentUrl:i.currentEntity.contentUrl,languageCode:i.defaultLanguage.languageCode,ownerId:i.owner.id,ownerType:i.ownerType},(function(t){i.isLoading=!1,e.bladeClose((function(){var e={id:"videoDetail",isNew:!0,currentEntity:t,controller:"virtoCommerce.catalogModule.videoDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/video-detail.tpl.html"};o.showBlade(e,l)}))}),(function(e){i.isLoading=!1,!e.statusText&&e.data&&(e.statusText=e.data.message),o.setError(e,i)}))},canExecuteMethod:function(){return r&&r.$valid}}],i.refresh()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.videoDetailController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.settings","virtoCommerce.catalogModule.videos",function(e,t,o,a,r){var i=e.blade,l=i.parentBlade;i.updatePermission="catalog:update",i.headIcon="fab fa-youtube",i.title="catalog.blades.video-detail.title",i.subtitle="catalog.blades.video-detail.subtitle",e.languages=[];var n,c=a.getValues({id:"VirtoCommerce.Core.General.Languages"}).$promise;function s(){i.isLoading=!0,r.save([i.currentEntity],(function(e){i.isNew=!1,i.currentEntityId=e[0].id,i.currentEntity.Id=i.currentEntityId,i.refresh(!0)})).$promise.catch((function(e){t.setError(e,i)})).finally((function(){i.isLoading=!1}))}function d(){return(i.isNew||!angular.equals(i.currentEntity,i.origEntity))&&i.hasUpdatePermission()}function u(){return d()&&n&&n.$valid}i.refresh=function(t){var o;i.isLoading=!0,c.then((function(t){e.languages=t})),o=i.currentEntity,i.currentEntity=angular.copy(o),i.origEntity=o,i.isLoading=!1,t&&i.parentBlade&&i.parentBlade.refresh(t)},i.datepickers={},i.open=function(e,t){e.preventDefault(),e.stopPropagation(),i.datepickers[t]=!0},e.setForm=function(e){n=e},e.saveChanges=function(){t.setError(null,i),s()},i.onClose=function(o){t.showConfirmationIfNeeded(d(),u(),i,e.saveChanges,o,"catalog.dialogs.video-save.title","catalog.dialogs.video-save.message")},i.toolbarCommands=[{name:"platform.commands.save",icon:"fa fa-save",permission:i.updatePermission,executeMethod:function(){s()},canExecuteMethod:function(){return u()}},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(i.origEntity,i.currentEntity)},canExecuteMethod:d},{name:"platform.commands.delete",icon:"fa fa-trash-o",permission:i.updatePermission,executeMethod:function(){var e={id:"confirmDelete",title:"catalog.dialogs.video-delete.title",message:"catalog.dialogs.video-delete.message",callback:function(e){e&&(i.isLoading=!0,r.remove({ids:[i.currentEntityId]},(function(){t.closeBlade(i,(function(){l&&l.refresh(!0)}))})))}};o.showConfirmationDialog(e)},canExecuteMethod:function(){return!i.isNew}}],i.refresh()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.videoListController",["$scope","$translate","$timeout","platformWebApp.bladeNavigationService","platformWebApp.bladeUtils","platformWebApp.dialogService","platformWebApp.uiGridHelper","virtoCommerce.catalogModule.videos",function(e,t,o,a,r,i,l,n){var c=e.blade;c.updatePermission="catalog:update",c.headIcon="fab fa-youtube",c.title="catalog.blades.video-list.title",c.subtitle="catalog.blades.video-list.subtitle",c.getSearchCriteria=function(){return angular.extend(s,{searchPhrase:s.keyword?s.keyword:void 0,sort:l.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount})},c.refresh=function(){c.isLoading=!0,n.options(null,(function(e){c.videoOptions=e}),(function(e){a.setError(e,c)})),n.search(c.getSearchCriteria(),(function(t){c.isLoading=!1,e.pageSettings.totalItems=t.totalCount,c.currentEntities=t.results}),(function(e){a.setError(e,c)}))};var s=e.filter=c.filter||{ownerIds:[c.owner.id],ownerType:c.ownerType};function d(e,t){var o={id:"confirmDelete",title:t?"catalog.dialogs.video-delete.title":"catalog.dialogs.video-list-delete.title",message:t?"catalog.dialogs.video-delete.message":"catalog.dialogs.video-list-delete.message",callback:function(t){t&&(c.isLoading=!0,n.remove({ids:e.map(e=>e.id)},(function(){c.refresh()}),(function(e){a.setError(e,c)})))}};i.showConfirmationDialog(o)}s.criteriaChanged=function(){e.pageSettings.currentPage>1?e.pageSettings.currentPage=1:c.refresh()},e.toggleImageSelect=function(e,t){1===e.ctrlKey?t.$selected=!t.$selected:t.$selected?t.$selected=!1:t.$selected=!0},e.edit=function(e){var t={id:"videoDetail",currentEntityId:e.id,currentEntity:e,controller:"virtoCommerce.catalogModule.videoDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/video-detail.tpl.html"};a.showBlade(t,c)},c.selectNode=function(t){e.selectedNodeId=t.id},e.delete=function(e){d([e],!0)},c.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:c.refresh,canExecuteMethod:function(){return!0}},{name:"platform.commands.add",icon:"fa fa-plus",permission:c.updatePermission,executeMethod:function(){var e;e={id:"videoAdd",owner:c.owner,ownerType:c.ownerType,videoOptions:c.videoOptions,defaultLanguage:c.catalog.defaultLanguage,controller:"virtoCommerce.catalogModule.videoAddController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/video-add.tpl.html"},a.showBlade(e,c)},canExecuteMethod:function(){return c.owner&&c.ownerType}},{name:"platform.commands.delete",icon:"fa fa-trash-o",permission:c.updatePermission,executeMethod:function(){d(e.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return c.currentEntities&&e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())}}];var u=function(e){c.isLoading=!0,n.save([e.rowEntity],(function(e){c.refresh()}),(function(e){a.setError(e,c)}))};e.setGridOptions=function(t){l.initialize(e,t,(function(t){t.edit.on.afterCellEdit(e,(function(e,a,r,i){r!==i&&o(u,100,!0,{rowEntity:e,colDef:a,gridApi:t})})),l.bindRefreshOnSortChanged(e)})),r.initializePagination(e)},e.priorityValid=function(e){return!_.isUndefined(e.sortOrder)&&e.sortOrder>=0},e.isValid=!0,e.$watch("blade.currentEntities",(function(t){var o=_.all(c.currentEntities,e.priorityValid);return e.isValid=o}),!0)}]).run(["platformWebApp.ui-grid.extension","uiGridValidateService",function(e,t){t.setValidator("minPriorityValidator",()=>(e,t)=>t>=0,()=>"Priority value should be equal or more than zero")}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.virtualCatalogDetailController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.catalogs","platformWebApp.metaFormsService",function(e,t,o,a){var r,i=e.blade;function l(e){i.isNew||(i.title=e.name),i.currentEntity=angular.copy(e),i.origEntity=e,i.isLoading=!1,i.securityScopes=e.securityScopes}function n(){return!angular.equals(i.currentEntity,i.origEntity)&&i.hasUpdatePermission()}function c(){return n()&&r&&r.$valid}function s(){i.isNew||(i.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:function(){e.saveChanges()},canExecuteMethod:c,permission:i.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(i.origEntity,i.currentEntity)},canExecuteMethod:n,permission:i.updatePermission}])}i.updatePermission="catalog:update",i.metaFields=a.getMetaFields("catalogDetail"),i.refresh=function(e){i.isNew?l(i.currentEntity):o.get({id:i.currentEntityId},(function(t){l(t),i.childrenBlades&&_.each(i.childrenBlades,(function(e){e.refresh&&e.refresh(i.currentEntity)})),e&&i.parentBlade.refresh()}))},e.setForm=function(e){r=e},e.cancelChanges=function(){angular.copy(i.origEntity,i.currentEntity),e.bladeClose()},e.saveChanges=function(){i.isLoading=!0,i.isNew?o.save({},i.currentEntity,(function(e){i.isNew=void 0,i.currentEntityId=e.id,l(e),s(),i.refresh(!0)}),(function(e){t.setError("Error "+e.status,i)})):o.update({},i.currentEntity,(function(e){i.refresh(!0)}),(function(e){t.setError("Error "+e.status,i)}))},i.onClose=function(o){t.showConfirmationIfNeeded(n(),c(),i,e.saveChanges,o,"catalog.dialogs.virtual-catalog-save.title","catalog.dialogs.virtual-catalog-save.message")},s(),i.refresh(!1)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogItemSelectController",["$scope","virtoCommerce.catalogModule.catalogs","virtoCommerce.catalogModule.listEntries","platformWebApp.bladeUtils","uiGridConstants","platformWebApp.uiGridHelper","platformWebApp.ui-grid.extension","$timeout",function(e,t,o,a,r,i,l,n){var c=e.blade,s=a.bladeNavigationService;function d(){c.breadcrumbs=c.breadcrumbs.slice(0);var t={id:c.catalogId?c.catalogId:"All",name:c.catalog?c.catalog.name:"catalog.blades.catalog-items-select.bread-crumb-top",blade:e.blade};c.category&&(t.id=c.categoryId,t.name=c.category.name),_.some(c.breadcrumbs,(function(e){return e.id===t.id}))||c.breadcrumbs.push(t),t.navigate=function(t){s.closeBlade(e.blade,(function(){"All"===t.id&&(c.catalogId=null,c.filter.keyword=null),s.showBlade(e.blade,c.parentBlade)}))}}c.title||(c.title="Select Catalog items..."),e.options=angular.extend({showCheckingMultiple:!0,allowCheckingItem:!0,allowCheckingCategory:!1,withProducts:!0,selectedItemIds:[],gridColumns:[]},c.options),c.refresh=function(){c.isLoading=!0,u.searchedKeyword=u.keyword,e.isCatalogSelectMode()?t.search({take:1e3},(function(t){c.isLoading=!1,void 0===e.options.isVirtual?e.items=t.results:e.items=_.where(t.results,{isVirtual:e.options.isVirtual}),e.pageSettings.totalItems=e.items.length,e.options.onCatalogsLoaded&&e.options.onCatalogsLoaded(e.items),d()})):o.listitemssearch(angular.extend({catalogId:c.catalogId,categoryId:c.categoryId,keyword:u.keyword,searchInVariations:!!u.searchInVariations&&u.searchInVariations,responseGroup:e.options.withProducts?"withCategories, withProducts":"withCategories",objectTypes:e.options.withProducts?void 0:["Category"],excludeProductType:e.options.excludeProductType,sort:i.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount},c.searchCriteria),(function(t,o){c.isLoading=!1,e.pageSettings.totalItems=t.totalCount,e.items=t.listEntries,e.options.onItemsLoaded&&e.options.onItemsLoaded(t.listEntries),d()}))},e.isCatalogSelectMode=function(){return!c.catalogId&&!u.searchedKeyword},e.selectItem=function(t,o){e.selectedNodeId=o.id,e.options.selectItemFn&&e.options.selectItemFn(o);var a={id:c.id,breadcrumbs:c.breadcrumbs,catalogId:c.catalogId,catalog:c.catalog,controller:c.controller,template:c.template,options:e.options,searchCriteria:c.searchCriteria,toolbarCommands:c.toolbarCommands};if(e.isCatalogSelectMode()){if(a.catalogId=o.id,a.catalog=o,e.options.getBladeForCategories){var r=e.options.getBladeForCategories(o,a);r&&(a=r)}s.closeBlade(c,(function(){s.showBlade(a,c.parentBlade)})),s.catalogsSelectedCatalog=o,s.catalogsSelectedCategoryId=void 0}else if("category"===o.type)a.categoryId=o.id,a.category=o,s.closeBlade(c,(function(){s.showBlade(a,c.parentBlade)}));else{if(a={id:"listItemDetail",itemId:o.id,productType:o.productType,title:o.name,catalog:c.catalog,variationsToolbarCommandsAndEvents:{toolbarCommands:c.toolbarCommands,externalRegisterApiCallback:g},controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"},e.options.fnGetBladeForItem){var i=e.options.fnGetBladeForItem(o);i&&(a=i)}s.showBlade(a,c),s.catalogsSelectedCategoryId=c.categoryId}};var u=c.filter=c.filter||{keyword:""};function g(t){e.gridApi=t,t.grid.registerDataChangeCallback((function(o){n((function(){_.each(e.items,(function(o){_.some(e.options.selectedItemIds,(function(e){return e===o.id}))&&t.selection.selectRow(o)}))}))}),[r.dataChange.ROW]),t.selection.on.rowSelectionChanged(e,(function(t){e.options.checkItemFn&&e.options.checkItemFn(t.entity,t.isSelected),t.isSelected?_.contains(e.options.selectedItemIds,t.entity.id)||e.options.selectedItemIds.push(t.entity.id):e.options.selectedItemIds=_.without(e.options.selectedItemIds,t.entity.id)})),i.bindRefreshOnSortChanged(e)}u.criteriaChanged=function(){e.pageSettings.currentPage>1?e.pageSettings.currentPage=1:c.refresh()},e.setGridOptions=function(t,o){o.isRowSelectable=angular.isFunction(e.options.isItemSelectable)?function(t){return e.options.isItemSelectable(t.entity)}:function(t){return e.options.allowCheckingItem&&"category"!==t.entity.type||e.options.allowCheckingCategory&&"category"===t.entity.type},o.columnDefs=o.columnDefs.concat(e.options.gridColumns),l.tryExtendGridOptions(t,o),i.initialize(e,o,g),a.initializePagination(e)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.catalogExportService",(function(){return{registrationsList:[],register:function(e){this.registrationsList.push(e)}}}))},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.exporterListController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.catalogExportService",function(e,t,o){var a=e.blade;e.selectedNodeId=null,e.openBlade=function(e){var o={};angular.copy(e,o),o.selectedCategories=a.selectedCategories,o.selectedProducts=a.selectedProducts,o.catalog=a.catalog,angular.isFunction(e.onInitialize)&&e.onInitialize(o),t.showBlade(o,a.parentBlade)},e.blade.headIcon="fa fa-upload",e.registrationsList=o.registrationsList,a.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.catalogImportService",(function(){return{registrationsList:[],register:function(e){this.registrationsList.push(e)}}}))},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.importerListController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.catalogImportService",function(e,t,o){var a=e.blade;e.selectedNodeId=null,e.openBlade=function(e){var o={};angular.copy(e,o),o.catalog=a.catalog,t.showBlade(o,a.parentBlade)},e.blade.headIcon="fa fa-download",e.registrationsList=o.registrationsList,a.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.linksListController",["$scope","$timeout","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.bladeUtils","platformWebApp.uiGridHelper","virtoCommerce.catalogModule.listEntries",function(e,t,o,a,r,i,l){var n=e.blade;function c(){if(e.hasMore){++e.pageSettings.currentPage,e.gridApi.infiniteScroll.saveScrollPercentage(),n.isLoading=!0;var o=n.getSearchCriteria();l.searchlinks(o,(function(o){d(o.results),n.isLoading=!1,e.pageSettings.totalItems=o.totalCount,e.hasMore=o.results.length===e.pageSettings.itemsPerPageCount,e.links=e.links.concat(o.results),e.gridApi.infiniteScroll.dataLoaded(),t((function(){e.gridApi.selection.getSelectAllState()&&e.gridApi.selection.selectAllRows()}))}))}}n.updatePermission="catalog:update",n.headIcon="fas fa-link",n.title="catalog.blades.links-list.title",n.linkImage="Modules/$(VirtoCommerce.Catalog)/Content/images/link.svg",e.links=[],e.hasMore=!0,n.refresh=function(){n.isLoading=!0,1!==e.pageSettings.currentPage&&(e.pageSettings.currentPage=1);var t=n.getSearchCriteria();l.searchlinks(t,(function(t){d(t.results),n.isLoading=!1,e.pageSettings.totalItems=t.totalCount,e.hasMore=t.results.length===e.pageSettings.itemsPerPageCount,e.links=t.results})),e.gridApi&&(e.links=[],e.gridApi.selection.clearSelectedRows(),e.gridApi.infiniteScroll.resetScroll(!0,!0),e.gridApi.infiniteScroll.dataLoaded())};var s=e.filter=n.filter||{objectIds:[n.currentEntity.id],objectType:n.type};function d(e){_.each(e,(function(e){var t=[];if(e.category){var o=_.first(e.category.outlines);o&&(t=_.pluck(o.items,"name"))}e.$$path=_.any(t)?"/"+t.join("/"):"/"}))}s.criteriaChanged=function(){e.pageSettings.currentPage>1?e.pageSettings.currentPage=1:n.refresh()},n.getSearchCriteria=function(){return angular.extend(s,{skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount})},n.toolbarCommands=[{name:"platform.commands.add",icon:"fa fa-plus",permission:n.updatePermission,executeMethod:function(){e.openAddLinksBlade()},canExecuteMethod:function(){return!0}},{name:"platform.commands.delete",icon:"fa fa-trash-o",permission:n.updatePermission,executeMethod:function(){var t,r;t=e.gridApi.selection.getSelectedRows(),r={id:"confirmDelete",title:"catalog.dialogs.links-delete.title",message:"catalog.dialogs.links-delete.message",callback:function(e){if(e){n.isLoading=!0;var a=_.map(t,(function(e){return{listEntryId:n.currentEntity.id,catalogId:e.catalogId,categoryId:e.categoryId}}));l.deletelinks(a,(function(){n.refresh()}),(function(e){o.setError(e,n)}))}}},a.showConfirmationDialog(r)},canExecuteMethod:function(){return e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())}}],e.openAddLinksBlade=function(){var e=[],t={id:"CatalogItemsSelect",controller:"virtoCommerce.catalogModule.catalogItemSelectController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/links-list/catalog-items-select-links.tpl.html",options:{selectedItemIds:[],allowCheckingCategory:!0,withProducts:!1,isVirtual:!0,getBladeForCategories:function(e,t){return t.template="Modules/$(VirtoCommerce.Catalog)/Scripts/blades/links-list/categories-items-select-links.tpl.html",t},checkItemFn:function(t,o){o?_.find(e,(function(e){return e.id==t.id}))||e.push(t):e=_.reject(e,(function(e){return e.id==t.id}))},isItemSelectable:function(e){var t="Category"===n.type&&e.id===n.currentEntity.id;return!(e.links&&e.links.length||e.marked||t)},onItemsLoaded:function(e){if(e.length){var t=_.pluck(e,"id"),o={objectIds:[n.currentEntity.id],objectType:n.type,categoryIds:t,take:e.length};l.searchlinks(o,(function(t){_.each(e,(function(e){e.marked=!!_.find(t.results,(function(t){return t.categoryId===e.id}))}))}))}},onCatalogsLoaded:function(e){if(e.length){var t=_.pluck(e,"id"),o={objectIds:[n.currentEntity.id],objectType:n.type,catalogIds:t,take:e.length};l.searchlinks(o,(function(t){_.each(e,(function(e){e.marked=!!_.find(t.results,(function(t){return t.catalogId===e.id}))}))}))}}},breadcrumbs:[],toolbarCommands:[{name:"platform.commands.confirm",icon:"fa fa-check",executeMethod:function(t){n.isLoading=!0,o.closeBlade(t);var a=[];angular.forEach(e,(function(e){var t={listEntryId:n.currentEntity.id,listEntryType:n.type};"category"===e.type?(t.categoryId=e.id,t.catalogId=e.catalogId):t.catalogId=e.id,a.push(t)})),l.createlinks(a,(function(){n.refresh()}),(function(e){o.setError("Error "+e.status,n)}))},canExecuteMethod:function(){return _.any(e)}},{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:function(e){e.refresh&&e.refresh()},canExecuteMethod:function(){return!0}}]};o.showBlade(t,n)},e.setGridOptions=function(o){r.initializePagination(e,!0),e.pageSettings.itemsPerPageCount=50,i.initialize(e,o,(function(t){e.gridApi=t,i.bindRefreshOnSortChanged(e),e.gridApi.infiniteScroll.on.needLoadMoreData(e,c),t.grid.options.enableGridMenu=!1})),t((function(){n.refresh()}))}}])},function(e,t){angular.module("virtoCommerce.catalogModule").directive("vaDictionaryValue",(function(){return{restrict:"E",templateUrl:"Modules/$(VirtoCommerce.Catalog)/Scripts/directives/dictionaryValue.tpl.html",require:["^form","ngModel"],scope:{ngModel:"=",name:"=",form:"=",validationRules:"=",required:"@"},replace:!0,transclude:!0}}))},function(e,t){angular.module("virtoCommerce.catalogModule").directive("vcItemSearch",["$localStorage","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.predefinedSearchFilters",function(e,t,o){return{restrict:"E",templateUrl:function(e,t){return t.templateUrl||"Modules/$(VirtoCommerce.Catalog)/Scripts/directives/itemSearch.tpl.html"},scope:{blade:"="},link:function(o){var a=o.blade;o.$localStorage=e;var r=o.filter=a.filter;function i(e){var o={id:"filterDetail",controller:"virtoCommerce.catalogModule.filterDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/filter-detail.tpl.html"};angular.extend(o,e),t.showBlade(o,a)}e.catalogSearchFilterId&&!r.keyword&&null!==r.keyword&&(r.current=_.findWhere(e.catalogSearchFilters,{id:e.catalogSearchFilterId}),r.keyword=r.current?r.current.keyword:"",r.searchInVariations=!!r.current&&r.current.searchInVariations),r.change=function(o){e.catalogSearchFilterId=r.current?r.current.id:null,r.current&&!r.current.id?(r.current=null,i({isNew:!0})):(o||t.closeBlade({id:"filterDetail"}),r.keyword=r.current?r.current.keyword:"",r.searchInVariations=!!r.current&&r.current.searchInVariations,r.criteriaChanged())},r.edit=function(e,t){r.current=t,i({data:t})},r.criteriaChanged()}}}])},function(e,t){angular.module("virtoCommerce.catalogModule").directive("vaProperty2",["$compile","$filter","$parse","$templateCache","$http",function(e,t,o,a,r){return{restrict:"E",require:["^form","ngModel"],replace:!0,transclude:!0,templateUrl:"Modules/$(VirtoCommerce.Catalog)/Scripts/directives/property2.tpl.html",scope:{languages:"=",hiddenLanguages:"=",defaultLanguage:"=",getPropValues:"&",pageSize:"@?"},link:function(t,o,i,l,n){var c=l[1];function s(e,t){return!e.multivalue&&!e.dictionary&&0==t.length}function d(e){var o=t.context.form;o[e].$setValidity("minlength",!0),o[e].$setValidity("maxlength",!0),o[e].$setValidity("pattern",!0)}t.currentEntity=c.$modelValue,t.context={},t.context.currentPropValues=[],t.context.allDictionaryValues=[],t.context.langValuesMap={},t.context.form=l[0],t.pageSize=angular.isDefined(t.pageSize)?t.pageSize:50,t.$watch("context.langValuesMap",(function(e,o){e==o||t.currentEntity.dictionary||(t.context.currentPropValues=[],angular.forEach(t.context.langValuesMap,(function(e,o){angular.forEach(e.currentPropValues,(function(e){e.languageCode=o,t.context.currentPropValues.push(e)}))})))}),!0),t.$watch("context.currentPropValues",(function(e){var o=angular.copy(t.currentEntity.values);t.currentEntity.dictionary&&(o=_.uniq(_.map(o,(function(e){return{id:e.id,alias:e.alias,valueId:e.valueId,value:e.alias}})),(function(e){return e.valueId}))),function(e,t){var o=e.length!=t.length,a=_.any(e,(function(e){return _.all(t,(function(t){return!(e&&t.value===e.value&&t.languageCode==e.languageCode)}))}));return(o||a)&&(_.any(t)||e[0]&&e[0].value)}(e,o)&&(void 0===e[0]?t.currentEntity.values=null:t.currentEntity.values=e,_.each(t.currentEntity.values,(function(e){e&&(e.isInherited=!1)})),c.$setViewValue(t.currentEntity)),void 0===e[0]&&(t.currentEntity.values=[])}),!0),c.$render=function(){var i,l,n;t.currentEntity=c.$modelValue,t.context.currentPropValues=angular.copy(t.currentEntity.values),t.currentEntity.dictionary&&(t.context.currentPropValues=_.uniq(_.map(t.context.currentPropValues,(function(e){return{id:e.id,alias:e.alias,valueId:e.valueId,value:e.alias,selected:!0}})),(function(e){return e.valueId}))),s(t.currentEntity,t.context.currentPropValues)&&t.context.currentPropValues.push({value:null}),t.currentEntity.multilanguage&&!t.currentEntity.dictionary&&angular.forEach(t.languages,(function(e){var o=_.where(t.context.currentPropValues,{languageCode:e});!_.any(o)&&_.any(t.context.currentPropValues)&&(o=angular.copy(_.filter(t.context.currentPropValues,(function(e){return!e.languageCode}))),_.each(o,(function(t){t.id=null,t.languageCode=e}))),s(t.currentEntity,o)&&o.push({value:null,languageCode:e});var a={allValues:_.where(t.context.allDictionaryValues,{languageCode:e}),currentPropValues:o};t.context.langValuesMap[e]=a})),t.currentEntity.valueType,i=t.currentEntity,l=i.valueType,i.dictionary&&(l+="-dictionary"),i.multivalue&&(l+="-multivalue"),i.multilanguage&&(l+="-multilang"),n=l+=".html",r.get(n,{cache:a}).then((function(a){var r=o.find("#valuePlaceHolder #innerContainer");r.length>0&&r.scope().$destroy();var i=o.find("#valuePlaceHolder").html(a.data.trim()),l=t.$new();e(i)(l)}))},t.isLanguageVisible=function(e){return!t.hiddenLanguages||!_.contains(t.hiddenLanguages,e)},t.loadDictionaryValues=function(e){return e.page=0,t.loadNextDictionaryValues(e)},t.loadNextDictionaryValues=function(e){var o=e.page*t.pageSize,a=t.pageSize;return t.getPropValues()(t.currentEntity.id,e.search,o,a).then((function(o){var a;return e.page||(t.context.allDictionaryValues=[]),a=o.results,angular.forEach(a,(function(e){var o=_.find(t.context.currentPropValues,(function(t){return t&&t.valueId==e.id}));o||(o={alias:e.alias,valueId:e.id,value:e.alias}),t.context.allDictionaryValues.push(o)})),e.page++,t.context.allDictionaryValues.length<o.totalCount&&t.$broadcast("scrollCompleted"),o}))},t.datepickers={DateTime:!1},t.open=function(e,o){e.preventDefault(),e.stopPropagation(),t.datepickers[o]=!0},t.dateOptions={datepickerMode:"day"},n((function(e){o.append(e)})),t.tagsDeleted=function(e,o,a){var r=t.context.form,i=t.context.currentPropValues;a&&0===i.length&&r[o].$setValidity("required",!1),d(o)},t.tagsAdded=function(e,o){var a=t.context.form;e.value&&a[o].$setValidity("required",!0),d(o)},t.addederror=function(e,o,a,r,i){var l=t.context.form;(a&&e.value.length<a&&l[o].$setValidity("minlength",!1),r&&e.value.length>r&&l[o].$setValidity("maxlength",!1),i)&&(new RegExp(i).test(e.value)||l[o].$setValidity("pattern",!1))}}}}])},function(e,t){angular.module("virtoCommerce.catalogModule").directive("vaPropertyMessages",(function(){return{restrict:"E",templateUrl:"Modules/$(VirtoCommerce.Catalog)/Scripts/directives/propertyMessages.tpl.html",scope:!1}}))},function(e,t){angular.module("virtoCommerce.catalogModule").filter("thumbnail",(function(){return function(e,t){return e=e.replace(/(\.[\w\d_-]+)$/i,t+"$1")}}))},function(e,t){angular.module("virtoCommerce.catalogModule").filter("trustUrl",["$sce",function(e){return function(t){return e.trustAsResourceUrl(t)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.aggregationProperties",["$resource",function(e){return e("",{},{getProperties:{url:"api/catalog/aggregationproperties/:storeId/properties",isArray:!0},setProperties:{url:"api/catalog/aggregationproperties/:storeId/properties",method:"PUT"},getValues:{url:"api/catalog/aggregationproperties/:storeId/properties/:propertyName/values",isArray:!0}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.associations",["$resource",function(e){return e("api/catalog/products/associations/:productId",null,{get:{method:"GET",isArray:!0},update:{method:"POST",url:"api/catalog/products/associations"},delete:{method:"DELETE",url:"api/catalog/products/associations"},search:{method:"POST",url:"api/catalog/products/associations/search"}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.catalogs",["$resource",function(e){return e("api/catalog/catalogs/:id",{id:"@Id"},{get:{method:"GET"},getCatalogs:{method:"GET",isArray:!0},search:{method:"POST",url:"api/catalog/catalogs/search"},newCatalog:{method:"GET",url:"api/catalog/catalogs/getnew"},newVirtualCatalog:{method:"GET",url:"api/catalog/catalogs/getnewvirtual"},update:{method:"PUT"}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.categories",["$resource",function(e){return e("api/catalog/categories/:id",{categoryId:"@Id"},{newCategory:{method:"GET",url:"api/catalog/:catalogId/categories/newcategory",params:{catalogId:"@catalogId"}},update:{method:"POST",url:"api/catalog/categories/"},remove:{method:"DELETE",url:"api/catalog/categories"},plenty:{method:"POST",url:"api/catalog/categories/plenty",isArray:!0},getByIds:{method:"GET",url:"api/catalog/categories",params:{ids:"@ids"},isArray:!0}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.import",["$resource",function(e){return e("api/catalog/import",{},{getMappingConfiguration:{method:"GET",url:"api/catalog/import/mappingconfiguration",isArray:!1},run:{method:"POST",url:"api/catalog/import",isArray:!1}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.items",["$resource",function(e){return e("api/catalog/products/:id",null,{remove:{method:"DELETE",url:"api/catalog/products"},newItemInCatalog:{method:"GET",url:"api/catalog/:catalogId/products/getnew"},newItemInCategory:{method:"GET",url:"api/catalog/:catalogId/categories/:categoryId/products/getnew"},newVariation:{method:"GET",url:"api/catalog/products/:itemId/getnewvariation"},cloneItem:{method:"GET",url:"api/catalog/products/:itemId/clone"},update:{method:"POST"},plenty:{method:"POST",url:"api/catalog/products/plenty",isArray:!0},getByIds:{method:"GET",url:"api/catalog/products/",params:{ids:"@ids"},isArray:!0}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.listEntries",["$resource",function(e){return e("api/catalog/listentries",{},{listitemssearch:{method:"POST",url:"api/catalog/listentries"},createlinks:{method:"POST",url:"api/catalog/listentrylinks"},bulkcreatelinks:{method:"POST",url:"api/catalog/listentrylinks/bulkcreate"},searchlinks:{method:"POST",url:"api/catalog/listentrylinks/search"},deletelinks:{method:"POST",url:"api/catalog/listentrylinks/delete"},move:{method:"POST",url:"api/catalog/listentries/move"},delete:{method:"POST",url:"api/catalog/listentries/delete"}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.propDictItems",["$resource",function(e){return e("api/catalog/dictionaryitems",{},{save:{method:"POST",url:"api/catalog/dictionaryitems"},search:{method:"POST",url:"api/catalog/dictionaryitems/search"},remove:{method:"DELETE",url:"api/catalog/dictionaryitems"}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.properties",["$resource",function(e){return e("api/catalog/properties/:id",{id:"@id"},{newCategoryProperty:{method:"GET",url:"api/catalog/categories/:categoryId/properties/getnew"},newCatalogProperty:{method:"GET",url:"api/catalog/:catalogId/properties/getnew"},get:{method:"GET",url:"api/catalog/properties/:propertyId"},update:{method:"POST",url:"api/catalog/properties"},validateName:{method:"POST",url:"api/catalog/properties/validate-name"},validateCategoryPropertyName:{method:"POST",url:"api/catalog/properties/validate-property-name"},values:{url:"api/catalog/properties/:propertyId/values",isArray:!0},remove:{method:"DELETE",url:"api/catalog/properties"}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.propertyValidators",(function(){var e=/^\b[0-9a-z]+(_[0-9a-z]+)*\b$/i,t=128;return{isNameValid:function(o){return o.length<=t&&e.test(o)}}}))},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.search",["$resource",function(e){return e("api/catalog/listentries",null,{searchProducts:{method:"POST"}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.valueTypes",(function(){return{get:function(){return[{valueType:"ShortText",title:"platform.properties.short-text.title",description:"platform.properties.short-text.description"},{valueType:"LongText",title:"platform.properties.long-text.title",description:"platform.properties.long-text.description"},{valueType:"Number",title:"platform.properties.decimal.title",description:"platform.properties.decimal.description"},{valueType:"DateTime",title:"platform.properties.date-time.title",description:"platform.properties.date-time.description"},{valueType:"Boolean",title:"platform.properties.boolean.title",description:"platform.properties.boolean.description"},{valueType:"Integer",title:"platform.properties.integer.title",description:"platform.properties.integer.description"},{valueType:"GeoPoint",title:"catalog.properties.geoPoint.title",description:"catalog.properties.geoPoint.description"}]}}}))},function(e,t){angular.module("virtoCommerce.catalogModule").factory("virtoCommerce.catalogModule.videos",["$resource",function(e){return e("api/catalog/videos",{},{options:{method:"GET",url:"api/catalog/videos/options"},create:{method:"POST",url:"api/catalog/videos/create"},search:{method:"POST",url:"api/catalog/videos/search"},save:{method:"POST",isArray:!0},remove:{method:"DELETE",isArray:!0}})}])},function(e,t){angular.module("virtoCommerce.catalogBulkActionsModule").factory("virtoCommerce.catalogBulkActionsModule.webApi",["$resource",function(e){var t="api/bulk/actions";return e("",null,{getActions:{method:"GET",isArray:!0,url:t},getActionData:{method:"POST",url:t+"/data"},runBulkAction:{method:"POST",url:t},cancel:{method:"DELETE",url:t}})}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogSelectorController",["$scope","virtoCommerce.catalogModule.catalogs",function(e,t){t.search({take:1e3},(function(t){e.catalogs=angular.copy(t.results)}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.categorySelectorController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.selectedCount=(o.currentEntity.categoryIds||[]).length,e.$watch("blade.currentEntity.categoryIds",(function(){e.selectedCount=(o.currentEntity.categoryIds||[]).length})),e.selectCategory=function(){var a=o.currentEntity.categoryIds||[],r={id:"CatalogItemsSelect",controller:"virtoCommerce.catalogModule.catalogItemSelectController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/common/catalog-items-select.tpl.html",title:"catalog.selectors.blades.titles.select-categories",options:{allowCheckingCategory:!0,allowCheckingItem:!1,selectedItemIds:a,checkItemFn:function(e,t){t?_.find(a,(function(t){return t===e.id}))||a.push(e.id):a=_.reject(a,(function(t){return t===e.id}))}},breadcrumbs:[],toolbarCommands:[{name:"platform.commands.confirm",icon:"fa fa-check",executeMethod:function(r){o.currentEntity.categoryIds=_.union(o.currentEntity.categoryIds,a),e.selectedCount=o.currentEntity.categoryIds.length,t.closeBlade(r)},canExecuteMethod:function(){return _.any(a)}},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(r){a=[],o.currentEntity.categoryIds=[],e.selectedCount=o.currentEntity.categoryIds.length,t.closeBlade(r)},canExecuteMethod:function(){return _.any(a)}}]};t.showBlade(r,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.aggregationPropertiesWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.openBlade=function(){var e={id:"storeFilteringProperties",storeId:o.currentEntity.id,title:"Filtering properties",controller:"virtoCommerce.catalogModule.aggregationPropertiesController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/aggregation-properties-list.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.billOfMaterialsWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.openBlade=function(){var e={id:"billOfMaterialsList",item:o.item,controller:"virtoCommerce.catalogModule.billOfMaterialsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/bill-of-materials-list.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogEntryImageWidgetController",["$scope","virtoCommerce.catalogModule.items","virtoCommerce.catalogModule.categories","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.catalogImagesFolderPathHelper",function(e,t,o,a,r){function i(t){t&&(e.currentEntities=t)}e.openBlade=function(){var t={id:"itemImage",item:e.blade.currentEntity,folderPath:r.getImagesFolderPath(e.blade.currentEntity.catalogId,e.blade.currentEntity.code),controller:"virtoCommerce.catalogModule.imagesController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/images.tpl.html"};a.showBlade(t,e.blade)},e.$watch("blade.item.images",i),e.$watch("blade.currentEntity.images",i)}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogLanguagesWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.openBlade=function(){var e={id:"catalogChildBlade",title:o.title,subtitle:"catalog.widgets.catalogLanguages.blade-subtitle",controller:"virtoCommerce.catalogModule.catalogLanguagesController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/catalog-languages.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.catalogPropertyWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.openCatalogPropertyBlade=function(){var e={id:"catalogPropertyDetail",currentEntity:o.currentEntity,languages:_.pluck(o.currentEntity.languages,"languageCode"),defaultLanguage:o.currentEntity.defaultLanguage.languageCode,entityType:"catalog",catalogId:o.currentEntity.id,propGroups:[{title:"catalog.properties.catalog",type:"Catalog"},{title:"catalog.properties.category",type:"Category"},{title:"catalog.properties.product",type:"Product"},{title:"catalog.properties.variation",type:"Variation"}],controller:"virtoCommerce.catalogModule.propertyListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-list.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.categoryDescriptionWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.currentBlade=e.widget.blade,e.openBlade=function(){var o={id:"categoryDescriptionsList",category:e.currentBlade.currentEntity,catalog:e.currentBlade.catalog,controller:"virtoCommerce.catalogModule.categoryDescriptionsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/categoryDescriptions-list.tpl.html"};t.showBlade(o,e.currentBlade)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.categoryPropertyWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.propertiesCount="...",e.$watch("blade.currentEntity",(function(t){t&&(e.propertiesCount=_.filter(t.properties,(function(e){return"Category"==e.type||"Product"==e.type||"Variation"==e.type})).length)})),e.openPropertiesBlade=function(){var e={id:"categoryPropertyDetail",categoryId:o.currentEntity.id,entityType:"category",currentEntity:o.currentEntity,languages:_.pluck(o.catalog.languages,"languageCode"),defaultLanguage:o.catalog.defaultLanguage.languageCode,propGroups:[{title:"catalog.properties.category",type:"Category"},{title:"catalog.properties.product",type:"Product"},{title:"catalog.properties.variation",type:"Variation"}],controller:"virtoCommerce.catalogModule.propertyListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-list.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.dashboard.catalogsWidgetController",["$scope","$state","virtoCommerce.catalogModule.catalogs",function(e,t,o){e.data={count:"",descr:"Catalogs"},e.widgetAction=function(){t.go("workspace.catalog")},o.search({take:0},(function(t){e.data.count=t.totalCount}),(function(e){}))}]).controller("virtoCommerce.catalogModule.dashboard.productsWidgetController",["$scope","$state","virtoCommerce.catalogModule.listEntries",function(e,t,o){e.data={count:"",descr:"Products"},e.widgetAction=function(){t.go("workspace.catalog")},o.listitemssearch({take:0},(function(t){e.data.count=t.totalCount}),(function(e){}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.editorialReviewWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.currentBlade=e.widget.blade,e.openBlade=function(){var o={id:"editorialReviewsList",item:e.currentBlade.item,catalog:e.currentBlade.catalog,controller:"virtoCommerce.catalogModule.editorialReviewsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/editorialReviews-list.tpl.html"};t.showBlade(o,e.currentBlade)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemAssetWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.widget.blade;e.openBlade=function(){var e={id:"itemAsset",item:o.currentEntity,controller:"virtoCommerce.catalogModule.itemAssetController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-asset-list.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemAssociationsWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.openBlade=function(){if(o.item.associations)var e={id:"associationsList",item:o.item,controller:"virtoCommerce.catalogModule.itemAssociationsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-associations-list.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemDimensionWidgetController",["$scope","virtoCommerce.catalogModule.items","platformWebApp.bladeNavigationService","virtoCommerce.coreModule.packageType.packageTypeApi",function(e,t,o,a){e.openBlade=function(){var t={id:"itemDimension",item:e.blade.item,controller:"virtoCommerce.catalogModule.itemDimensionController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-dimensions.tpl.html"};o.showBlade(t,e.blade)},e.$watch("blade.item.packageType",(function(t){t?a.query({},(function(o){e.blade.packageType=_.find(o,(function(e){return e.id==t}))})):delete e.blade.packageType}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemPropertyWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.propertiesCount="...",e.$watch("blade.item",(function(t){t&&(e.propertiesCount=_.filter(t.properties,(function(e){return"Product"==e.type||"Variation"==e.type})).length)})),e.openItemPropertyBlade=function(){var e={id:"itemProperty"+o.currentEntity.id,productId:o.currentEntity.id,entityType:"product",catalog:o.catalog,currentEntity:o.currentEntity,languages:_.pluck(o.catalog.languages,"languageCode"),defaultLanguage:o.catalog.defaultLanguage.languageCode,propGroups:[{title:"catalog.properties.product",type:"Product"},{title:"catalog.properties.variation",type:"Variation"}],controller:"virtoCommerce.catalogModule.propertyListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-list.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.itemVariationWidgetController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.search",function(e,t,o){var a=e.blade;function r(){e.variartionCount="...";var t={mainProductId:a.currentEntityId,objectType:"CatalogProduct",responseGroup:"withProducts",take:0,withHidden:!0};o.searchProducts(t,(function(t){e.variartionCount=t.totalCount}))}e.openVariationListBlade=function(){var e={id:"itemVariationList",item:a.item,catalog:a.catalog,toolbarCommandsAndEvents:a.variationsToolbarCommandsAndEvents,controller:"virtoCommerce.catalogModule.itemVariationListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-variation-list.tpl.html"};t.showBlade(e,a)},e.$watch("widget.blade.currentEntity",(function(e){r()})),r()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.linksWidgetController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.catalogModule.listEntries",function(e,t,o){var a=e.blade,r=a.productType?"CatalogProduct":"Category";e.openLinksBlade=function(){var e={id:"linksListBlade",currentEntity:a.currentEntity,type:r,controller:"virtoCommerce.catalogModule.linksListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/links-list/links-list.tpl.html"};t.showBlade(e,a)},function(){e.linksCount="...";var t={objectIds:[a.currentEntityId],objectType:r,take:0};o.searchlinks(t,(function(t){e.linksCount=t.totalCount}))}()}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.videoWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var o=e.blade;e.openBlade=function(){var e={id:"videosList",owner:o.currentEntity,ownerType:"Product",catalog:o.catalog,controller:"virtoCommerce.catalogModule.videoListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/video-list.tpl.html"};t.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.associationWizardController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.settings","virtoCommerce.catalogModule.items",function(e,t,o,a){var r=e.blade;r.title="catalog.wizards.association.title",r.isLoading=!1,e.selectedCount=function(e){return _.where(r.selection,{type:e}).length},e.isValid=!1,e.$watch("blade.selection",(function(){e.isValid=r.groupName&&r.selection.length>0}),!0),e.saveChanges=function(){r.item.associations=_.map(r.selection,(function(e){var t=e.association;return t||(t={type:r.groupName,associatedObjectType:e.type,associatedObjectId:e.id,associatedObjectName:e.name,associatedObjectImg:e.imageUrl,quantity:r.quantity},_.any(r.tags)&&(t.tags=_.map(r.tags,(function(e){return e.value})))),t})),angular.isFunction(r.onSaveChanges)&&r.onSaveChanges(),e.bladeClose()},e.openBlade=function(){var e=[],o={id:"CatalogItemsSelect",title:"catalog.blades.catalog-items-select.title-association",subtitle:"catalog.blades.catalog-items-select.subtitle-association",controller:"virtoCommerce.catalogModule.catalogItemSelectController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/common/catalog-items-select.tpl.html",options:{allowCheckingCategory:!0,selectedItemIds:[],checkItemFn:function(t,o){o?_.find(e,(function(e){return e.id==t.id}))||e.push(t):e=_.reject(e,(function(e){return e.id==t.id}))}},breadcrumbs:[],toolbarCommands:[{name:"platform.commands.confirm",icon:"fa fa-check",executeMethod:function(o){r.selection=_.uniq(_.union(r.selection,e),(function(e){return[e.type,e.id,e.association?e.association.type:r.groupName].join()})),t.closeBlade(o)},canExecuteMethod:function(){return _.any(e)}}]};t.showBlade(o,r)},e.openDictionarySettingManagement=function(){var o={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Catalog.AssociationGroups",parentRefresh:function(t){e.associationGroups=t},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};t.showBlade(o,r)},r.item,e.associationGroups=o.getValues({id:"Catalog.AssociationGroups"},(function(e){e&&e.length>0&&(r.groupName=e[0])})),r.selection=_.map(r.item.associations,(function(e){return{id:e.associatedObjectId,type:e.associatedObjectType,association:e}}))}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.newCategoryWizardController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.dialogService","virtoCommerce.catalogModule.categories",function(e,t,o,a){var r=e.blade;e.create=function(){r.isLoading=!0,r.currentEntity.$update(null,(function(t){e.bladeClose((function(){var e=r.parentBlade;e.setSelectedItem(t),e.showCategoryBlade(t),e.refresh()}))}),(function(e){t.setError("Error "+e.status,r)}))},e.openBlade=function(e){r.onClose((function(){var o=null;switch(e){case"properties":o={id:"categoryPropertyDetail",entityType:"product",currentEntity:r.currentEntity,propGroups:[{title:"catalog.properties.category",type:"Category"},{title:"catalog.properties.product",type:"Product"},{title:"catalog.properties.variation",type:"Variation"}],controller:"virtoCommerce.catalogModule.propertyListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-list.tpl.html"};break;case"seo":o={id:"seo",controller:"virtoCommerce.coreModule.seo.storeListController",template:"Modules/$(VirtoCommerce.Core)/Scripts/SEO/blades/seo-detail.tpl.html"}}null!=o&&t.showBlade(o,r)}))},e.codeValidator=function(e){return!/[$+;=%{}[\]|@~!^*&()?'<>,]/.test(e)},e.setForm=function(t){e.formScope=t},r.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.catalogModule").controller("virtoCommerce.catalogModule.newProductWizardController",["$scope","platformWebApp.bladeNavigationService","$http","virtoCommerce.storeModule.stores","virtoCommerce.catalogModule.catalogImagesFolderPathHelper","virtoCommerce.catalogModule.itemTypesResolverService",function(e,t,o,a,r,i){var l=e.blade;if(l.item.productType){var n=i.resolve(l.item.productType);n&&(l.headIcon=n.icon)}var c=l.item.name?l.item.name:"",s=c,d=a.query().$promise;e.createItem=function(){l.isLoading=!0,l.item.$update(null,(function(e){l.parentBlade.setSelectedItem(e),l.parentBlade.refresh();var o={id:l.id,itemId:e.id,catalog:l.catalog,productType:e.productType,title:e.name,controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"};t.showBlade(o,l.parentBlade)}),(function(o){t.setError("Error "+o.status,e.blade)}))},e.openBlade=function(a){var i=null;switch(a){case"properties":i={id:"newProductProperties",entityType:"product",item:l.item,catalog:l.catalog,currentEntity:l.item,languages:_.pluck(l.catalog.languages,"languageCode"),defaultLanguage:l.catalog.defaultLanguage.languageCode,propGroups:[{title:"catalog.properties.product",type:"Product"},{title:"catalog.properties.variation",type:"Variation"}],controller:"virtoCommerce.catalogModule.propertyListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/property-list.tpl.html"};break;case"images":i={id:"newProductImages",item:l.item,folderPath:r.getImagesFolderPath(e.blade.item.catalogId,e.blade.item.code),catalog:l.catalog,controller:"virtoCommerce.catalogModule.imagesController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/images.tpl.html"};break;case"seo":!function(e,t){if(_.any(e.seoInfos))t(e.seoInfos[0]);else{var a={isActive:!0},r=e.name;_.each(e.properties,(function(e){_.each(e.values,(function(e){r+=" "+e.value}))})),r?o.get("api/catalog/getslug?text="+r).then((function(e){a.semanticUrl=e.data,t(a)})):t(a)}}(l.item,(function(e){d.then((function(o){i={id:"seoDetails",data:e,isNew:!_.any(l.item.seoInfos),seoContainerObject:l.item,stores:o,catalog:l.catalog,languages:_.pluck(l.catalog.languages,"languageCode"),updatePermission:"catalog:create",controller:"virtoCommerce.coreModule.seo.seoDetailController",template:"Modules/$(VirtoCommerce.Core)/Scripts/SEO/blades/seo-detail.tpl.html"},t.showBlade(i,l)}))}));break;case"review":i={id:"newProductEditorialReviewsList",item:l.item,catalog:l.catalog,controller:"virtoCommerce.catalogModule.editorialReviewsListController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/editorialReviews-list.tpl.html"}}null!=i&&t.showBlade(i,l)},e.codeValidator=function(e){return!/[$+;=%{}[\]|@~!^*&()?'<>,]/.test(e)},e.setForm=function(t){e.formScope=t},e.getUnfilledProperties=function(){return _.filter(l.item.properties,(function(e){return e&&_.any(e.values)&&e.values[0].value}))},e.$watch("blade.item.properties",(function(e){s!=l.item.name&&(s||l.item.name)||!_.any(l.childrenBlades,(function(e){return"virtoCommerce.catalogModule.newProductWizardPropertiesController"===e.controller}))||(s=c,_.each(e,(function(e){if(_.any(e.values,(function(e){return e.value}))){var t=_.find(e.values,(function(e){return e.value}));t&&(s+=(s?", ":"")+t.value)}})),l.item.name=s)})),l.isLoading=!1}])},function(e,t,o){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9jYXRhbG9nLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvY2F0YWxvZ0J1bGtBY3Rpb25zTW9kdWxlLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2FjdGlvbi1jaGFuZ2UtY2F0ZWdvcnkuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvYWN0aW9uLWVkaXQtcHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9hY3Rpb24tbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9hZHZhbmNlZC1zZWFyY2gtcmVzdWx0cy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9hZHZhbmNlZC1zZWFyY2guanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvYWdncmVnYXRpb24tcHJvcGVydGllcy1kZXRhaWxzLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2FnZ3JlZ2F0aW9uLXByb3BlcnRpZXMtbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9iaWxsLW9mLW1hdGVyaWFscy1saXN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2J1bGstYWN0aW9uLXByb2dyZXNzLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2J1bGstYWN0aW9uLXJlZ2lzdHJhci5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9jYXRhbG9nLWFkZC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9jYXRhbG9nLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9jYXRhbG9nLWxhbmd1YWdlcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9jYXRhbG9ncy1saXN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2NhdGFsb2dzLXNlbGVjdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9jYXRlZ29yaWVzLWl0ZW1zLWFkZC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9jYXRlZ29yaWVzLWl0ZW1zLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvY2F0ZWdvcnktZGV0YWlsLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2NhdGVnb3J5RGVzY3JpcHRpb24tZGV0YWlsLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2NhdGVnb3J5RGVzY3JpcHRpb25zLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvZWRpdG9yaWFsUmV2aWV3LWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9lZGl0b3JpYWxSZXZpZXdzLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvZmlsdGVyLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9oZWxsby13b3JsZC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9pbWFnZS1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvaW1hZ2VzLWFkZC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9pbWFnZXMuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvaXRlbS1hc3NldC1hZGQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvaXRlbS1hc3NldC1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvaXRlbS1hc3NldC1saXN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2l0ZW0tYXNzb2NpYXRpb24tZGV0YWlsLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2l0ZW0tYXNzb2NpYXRpb25zLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvaXRlbS1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvaXRlbS1kaW1lbnNpb25zLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2l0ZW0tcHJvcGVydHktZGV0YWlsLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2l0ZW0tdmFyaWF0aW9uLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvcHJvcGVydHktYXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9wcm9wZXJ0eS1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvcHJvcGVydHktZGljdGlvbmFyeS1kZXRhaWxzLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LWRpY3Rpb25hcnktbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9wcm9wZXJ0eS1saXN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LXNlbGVjdG9yLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LXR5cGUtbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9wcm9wZXJ0eS10eXBlLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LXZhbGlkYXRpb25SdWxlcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9zdGVwLWVkaXQtcHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9zdGVwLXNlbGVjdC1wcm9wZXJ0aWVzLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL3ZpZGVvLWFkZC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy92aWRlby1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvdmlkZW8tbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy92aXJ0dWFsLWNhdGFsb2ctZGV0YWlsLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2NvbW1vbi9jYXRhbG9nLWl0ZW1zLXNlbGVjdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9leHBvcnQvY2F0YWxvZy1leHBvcnQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvZXhwb3J0L2V4cG9ydGVyLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9ibGFkZXMvaW1wb3J0L2NhdGFsb2ctaW1wb3J0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvYmxhZGVzL2ltcG9ydC9pbXBvcnRlcnMtbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2JsYWRlcy9saW5rcy1saXN0L2xpbmtzLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9kaXJlY3RpdmVzL2RpY3Rpb25hcnlWYWx1ZS5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2RpcmVjdGl2ZXMvaXRlbVNlYXJjaC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL2RpcmVjdGl2ZXMvcHJvcGVydHkyLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvZGlyZWN0aXZlcy9wcm9wZXJ0eU1lc3NhZ2VzLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvZmlsdGVycy90aHVtYm5haWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9maWx0ZXJzL3RydXN0VXJsLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvcmVzb3VyY2VzL2FnZ3JlZ2F0aW9uUHJvcGVydGllcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3Jlc291cmNlcy9hc3NvY2lhdGlvbnMuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9yZXNvdXJjZXMvY2F0YWxvZ3MuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9yZXNvdXJjZXMvY2F0ZWdvcmllcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3Jlc291cmNlcy9pbXBvcnQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9yZXNvdXJjZXMvaXRlbXMuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9yZXNvdXJjZXMvbGlzdEVudHJpZXMuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9yZXNvdXJjZXMvcHJvcERpY3RJdGVtcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3Jlc291cmNlcy9wcm9wZXJ0aWVzLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvcmVzb3VyY2VzL3Byb3BlcnR5VmFsaWRhdG9ycy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3Jlc291cmNlcy9zZWFyY2guanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9yZXNvdXJjZXMvdmFsdWVUeXBlcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3Jlc291cmNlcy92aWRlb3MuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy9yZXNvdXJjZXMvdmlydG8tY29tbWVyY2UuY2F0YWxvZy1idWxrLWFjdGlvbnMtbW9kdWxlLWFwaS5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3NlbGVjdG9ycy9jYXRhbG9nLXNlbGVjdG9yLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvc2VsZWN0b3JzL2NhdGVnb3J5LXNlbGVjdG9yLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvd2lkZ2V0cy9hZ2dyZWdhdGlvblByb3BlcnRpZXNXaWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy93aWRnZXRzL2JpbGxPZk1hdGVyaWFsc1dpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpZGdldHMvY2F0YWxvZ0VudHJ5SW1hZ2VXaWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy93aWRnZXRzL2NhdGFsb2dMYW5ndWFnZXNXaWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy93aWRnZXRzL2NhdGFsb2dQcm9wZXJ0eVdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpZGdldHMvY2F0ZWdvcnlEZXNjcmlwdGlvbldpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpZGdldHMvY2F0ZWdvcnlQcm9wZXJ0eVdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpZGdldHMvZGFzaGJvYXJkLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvd2lkZ2V0cy9lZGl0b3JpYWxSZXZpZXdXaWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy93aWRnZXRzL2l0ZW1Bc3NldFdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpZGdldHMvaXRlbUFzc29jaWF0aW9uc1dpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpZGdldHMvaXRlbURpbWVuc2lvbldpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpZGdldHMvaXRlbVByb3BlcnR5V2lkZ2V0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvd2lkZ2V0cy9pdGVtVmFyaWF0aW9uV2lkZ2V0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvd2lkZ2V0cy9saW5rc1dpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpZGdldHMvdmlkZW9XaWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DYXRhbG9nLy4vU2NyaXB0cy93aXphcmRzL25ld0Fzc29jaWF0aW9uL2Fzc29jaWF0aW9uLXdpemFyZC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkNhdGFsb2cvLi9TY3JpcHRzL3dpemFyZHMvbmV3Q2F0ZWdvcnkvY2F0ZWdvcnktd2l6YXJkLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZy8uL1NjcmlwdHMvd2l6YXJkcy9uZXdQcm9kdWN0L25ldy1wcm9kdWN0LXdpemFyZC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInVuZGVmaW5lZCIsIkFwcERlcGVuZGVuY2llcyIsInB1c2giLCJhbmd1bGFyIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIiRzY29wZSIsImJsYWRlTmF2aWdhdGlvblNlcnZpY2UiLCJzaG93QmxhZGUiLCJpZCIsInRpdGxlIiwiYnJlYWRjcnVtYnMiLCJzdWJ0aXRsZSIsInRlbXBsYXRlIiwiaXNDbG9zaW5nRGlzYWJsZWQiLCJtb2R1bGVOYW1lIiwiZmFjdG9yeSIsIiRsb2NhbFN0b3JhZ2UiLCJjYXRhbG9nU2VhcmNoRmlsdGVycyIsInJlZ2lzdGVyIiwiY3VycmVudEZpbHRlcnNVcGRhdGVUaW1lIiwiY3VycmVudEZpbHRlcnNTdG9yYWdlS2V5IiwibmV3RmlsdGVycyIsIl8iLCJlYWNoIiwibmV3RmlsdGVyIiwiZm91bmQiLCJmaW5kIiwieCIsImxhc3RVcGRhdGVUaW1lIiwiY29weSIsInNwbGljZSIsIm9iamVjdHMiLCJyZWdpc3RlclR5cGUiLCJpdGVtVHlwZURlZmluaXRpb24iLCJ0aGlzIiwicmVzb2x2ZSIsInR5cGUiLCJmaW5kV2hlcmUiLCJwcm9kdWN0VHlwZSIsImdldEltYWdlc0ZvbGRlclBhdGgiLCJjYXRhbG9nSWQiLCJjb2RlIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwicnVuIiwibWFpbk1lbnVTZXJ2aWNlIiwid2lkZ2V0U2VydmljZSIsIiRzdGF0ZSIsImNhdGFsb2dFeHBvcnRTZXJ2aWNlIiwic2NvcGVSZXNvbHZlciIsImNhdGFsb2dzIiwicHJlZGVmaW5lZFNlYXJjaEZpbHRlcnMiLCJtZXRhRm9ybXNTZXJ2aWNlIiwiaXRlbVR5cGVzUmVzb2x2ZXJTZXJ2aWNlIiwiJGh0dHAiLCIkY29tcGlsZSIsImdlbmVyaWNWaWV3ZXJJdGVtU2VydmljZSIsInRvb2xiYXJTZXJ2aWNlIiwiYnJlYWRjcnVtYkhpc3RvcnlTZXJ2aWNlIiwibWVudUl0ZW0iLCJwYXRoIiwiaWNvbiIsInByaW9yaXR5IiwiYWN0aW9uIiwiZ28iLCJwZXJtaXNzaW9uIiwiYWRkTWVudUl0ZW0iLCJnZXRCYWNrQnV0dG9uSW5zdGFuY2UiLCJlbnRyeUltYWdlV2lkZ2V0Iiwic2l6ZSIsInJlZ2lzdGVyV2lkZ2V0IiwiaXRlbVNlb1dpZGdldCIsIm9iamVjdFR5cGUiLCJnZXREZWZhdWx0Q29udGFpbmVySWQiLCJibGFkZSIsImdldExhbmd1YWdlcyIsInBsdWNrIiwiY2F0YWxvZyIsImxhbmd1YWdlcyIsImlzVmlzaWJsZSIsImNhdGVnb3J5U2VvV2lkZ2V0IiwiaXNOZXciLCJjYXRhbG9nU2VsZWN0U2NvcGUiLCJzZWxlY3RGbiIsImNhbGxiYWNrIiwibmV3QmxhZGUiLCJjdXJyZW50RW50aXR5Iiwib25DaGFuZ2VzQ29uZmlybWVkRm4iLCJkYXRhU2VydmljZSIsImNhdGVnb3J5U2VsZWN0U2NvcGUiLCJzZWxlY3RlZExpc3RJdGVtcyIsIm1hcCIsImFzc2lnbmVkU2NvcGVzIiwic2NvcGUiLCJsYWJlbCIsIm9wdGlvbnMiLCJzaG93Q2hlY2tpbmdNdWx0aXBsZSIsImFsbG93Q2hlY2tpbmdJdGVtIiwiYWxsb3dDaGVja2luZ0NhdGVnb3J5Iiwic2VsZWN0ZWRJdGVtSWRzIiwiY2hlY2tJdGVtRm4iLCJsaXN0SXRlbSIsImlzU2VsZWN0ZWQiLCJhbGwiLCJyZWplY3QiLCJzY29wZU9yaWdpbmFsIiwidG9vbGJhckNvbW1hbmRzIiwiZXhlY3V0ZU1ldGhvZCIsInNjb3BlcyIsImV4dGVuZCIsImNsb3NlQmxhZGUiLCJjYW5FeGVjdXRlTWV0aG9kIiwiaW5kZXhXaWRnZXQiLCJ3aWRnZXRUb1JlZ2lzdGVyIiwiZG9jdW1lbnRUeXBlIiwia2V5d29yZCIsInNlYXJjaEluVmFyaWF0aW9ucyIsIml0ZW1UeXBlIiwiZGVzY3JpcHRpb24iLCJyZWdpc3Rlck1ldGFGaWVsZHMiLCJwbGFjZWhvbGRlciIsImNvbFNwYW4iLCJpc1JlcXVpcmVkIiwidmFsdWVUeXBlIiwic3BhbkFsbENvbHVtbnMiLCJpc1JlYWRPbmx5IiwiaXNWaXNpYmxlRm4iLCJpdGVtIiwicmVnaXN0ZXJWaWV3ZXIiLCJpdGVtQ29weSIsIml0ZW1JZCIsInRoZW4iLCJyZXNwb25zZSIsImRhdGEiLCJvbkluaXRpYWxpemUiLCJleHBvcnREYXRhUmVxdWVzdCIsImV4cG9ydFR5cGVOYW1lIiwiZGF0YVF1ZXJ5IiwiY2F0ZWdvcnlJZHMiLCJzZWxlY3RlZENhdGVnb3JpZXMiLCJvYmplY3RJZHMiLCJzZWxlY3RlZFByb2R1Y3RzIiwiY2F0YWxvZ0lkcyIsInNlYXJjaEluQ2hpbGRyZW4iLCJpc0FsbFNlbGVjdGVkIiwidG90YWxJdGVtc0NvdW50IiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJHJvb3RTY29wZSIsImJsYWRlVXRpbHMiLCJjYXRhbG9nQnVsa0FjdGlvblNlcnZpY2UiLCJncmlkQXBpIiwiZmlsdGVyIiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0ZWRSb3dzIiwiZ2V0U2VsZWN0QWxsU3RhdGUiLCJzZWFyY2hEYXRhIiwic2VhcmNoQ3JpdGVyaWEiLCJjYXRlZ29yeUlkIiwicmVzcG9uc2VHcm91cCIsInNraXAiLCJ0YWtlIiwibGlzdEVudHJpZXMiLCJhbnkiLCJpbmRleCIsIiR0cmFuc2xhdGUiLCJjYW5TdGFydFByb2Nlc3MiLCJpc0xvYWRpbmciLCJzZWxlY3RlZENhdGVnb3J5IiwiYWN0aW9uRGF0YUNvbnRleHQiLCJzdGFydEFjdGlvbiIsInByb2dyZXNzQmxhZGUiLCJvbkNvbXBsZXRlZCIsImlzUHJvY2Vzc2luZyIsInNlbGVjdENhdGVnb3J5IiwicGlja2luZ0JsYWRlIiwic2VsZWN0ZWRDb3VudCIsInZhbGlkYXRlQWN0aW9uUGFyYW1ldGVycyIsImhlYWRJY29uIiwid2ViQXBpIiwiaXNQcm9wZXJ0aWVzU2VsZWN0ZWQiLCJwcm9wZXJ0aWVzIiwiaW5jbHVkZWRQcm9wZXJ0aWVzIiwicHJvcGVydHlTZWxlY3RlZCIsImVkaXRlZFByb3BlcnRpZXMiLCJzZWxlY3RQcm9wZXJ0aWVzIiwib25TZWxlY3RlZCIsImVkaXRQcm9wZXJ0aWVzIiwicHJvcEdyb3VwcyIsImdldEFjdGlvbkRhdGEiLCJwcm9wZXJ0eVRvdGFsIiwicHJvcCIsIlVzZURlZmF1bHRVSUZvckVkaXQiLCJ2YWx1ZXMiLCJvd25lck5hbWUiLCJncm91cCIsImJ1bGtBY3Rpb25TZXJ2aWNlUmVnaXN0cmFyIiwic2VsZWN0ZWROb2RlSWQiLCJvcGVuQmxhZGUiLCJyZWdpc3RyYXRpb25JbmZvIiwiZ2V0QnlOYW1lIiwic2V0RXJyb3IiLCJpbml0aWFsaXplQWN0aW9uIiwiYWN0aW9uTmFtZSIsImNvbnRleHRUeXBlTmFtZSIsImdldEFjdGlvbnMiLCJhY3Rpb25zIiwiJGZpbHRlciIsImNhdGVnb3JpZXMiLCJpdGVtcyIsImRpYWxvZ1NlcnZpY2UiLCJyZWZyZXNoIiwicGFnZVNldHRpbmdzIiwiY3VycmVudFBhZ2UiLCJpdGVtc1BlclBhZ2VDb3VudCIsImxpc3RpdGVtc3NlYXJjaCIsImhlYWRlcnMiLCJ0b3RhbEl0ZW1zIiwidG90YWxDb3VudCIsImVycm9yIiwic3RhdHVzIiwic2VsZWN0SXRlbSIsInNlbGVjdGVkSXRlbSIsInByb3BlcnR5VmFsdWVzIiwiZ2V0QWxsQ2hlY2tlZFByb3BWYWx1ZXMiLCJwcm9wVmFsdWVzIiwicmV0VmFsIiwiZm9yRWFjaCIsInByb3BWYWx1ZSIsImlzQ2hlY2tlZCIsInNlYXJjaEtleXdvcmQiLCJzZWFyY2hSZXN1bHQiLCJvbGRQcm9wZXJ0eVZhbHVlcyIsIm5ld1Byb3BWYWx1ZXMiLCJjaGVja2VkUHJvcFZhbHVlcyIsInJvb3ROb2RlIiwiY2hpbGRyZW4iLCJ0cmVlTm9kZXMiLCJ0cmVlIiwicHJvcGVydHlWYWx1ZUdyb3VwcyIsImlzVW5kZWZpbmVkIiwicHJvcGVydHlOYW1lIiwic2hvd0FsbCIsInJlZnJlc2hJdGVtcyIsInVuY2hlY2tBbGxQcm9wIiwiY2hlY2tlZFByb3BWYWx1ZSIsInVwZGF0ZVNlbGVjdGVkUHJvcFZhbHVlcyIsImFnZ3JlZ2F0aW9uUHJvcGVydGllcyIsInVwZGF0ZVBlcm1pc3Npb24iLCJwcm9wZXJ0eVR5cGVzIiwiaXNSYW5nZSIsImNhbkNoYW5nZVR5cGUiLCJjYW5DaGFuZ2VTaXplIiwiZ2V0VmFsdWVzIiwic2VhcmNoIiwicmVzdWx0IiwiaXNOYU4iLCJpc051bWJlciIsInVuc2hpZnQiLCJpbmRleE9mIiwic2xpY2UiLCJvbkNsb3NlIiwiY2xvc2VDYWxsYmFjayIsInNob3dDb25maXJtYXRpb25JZk5lZWRlZCIsImVxdWFscyIsIm9yaWdpbmFsUHJvcGVydHkiLCJoYXNVcGRhdGVQZXJtaXNzaW9uIiwic2F2ZUNoYW5nZXMiLCJibGFkZUNsb3NlIiwiaXNWYWxpZCIsInN0b3JlSWQiLCJyZXN1bHRzIiwiaXNEaXJ0eSIsInNlbGVjdGVkRW50aXRpZXMiLCJvcmlnU2VsZWN0ZWQiLCJlZGl0Iiwibm9kZSIsInNlbGVjdCIsInVuc2VsZWN0Iiwic2V0UHJvcGVydGllcyIsImN1cnJlbnRFbnRpdGllcyIsIm9yaWdFbnRpdHkiLCJwYXJlbnRCbGFkZSIsIndoZXJlIiwic29ydGFibGVPcHRpb25zIiwiYXhpcyIsImN1cnNvciIsImdldFByb3BlcnRpZXMiLCIkdGltZW91dCIsInVpR3JpZEhlbHBlciIsImFzc29jaWF0aW9ucyIsInVpR3JpZENvbnN0YW50cyIsImhhc01vcmUiLCJzZWxlY3RlZE5vZGUiLCJsb2FkTW9yZSIsImluZmluaXRlU2Nyb2xsIiwic2F2ZVNjcm9sbFBlcmNlbnRhZ2UiLCJnZXRTZWFyY2hDcml0ZXJpYSIsInBvcHVsYXRlQXNzb2NpYXRpb25zRGF0YSIsImNvbmNhdCIsImRhdGFMb2FkZWQiLCJhc3NvY2lhdGlvblR5cGUiLCJwcm9kdWN0QXNzb2NpYXRpb25zIiwic29tZSIsIml0ZW1JZHMiLCJwbGVudHkiLCJyZXNwR3JvdXAiLCJwcm9kdWN0cyIsInVuaXF1ZUNhdGVnb3JpZXNJZHMiLCJ1bmlxIiwiY2F0ZWdvcmllc1Jlc3VsdCIsInByb2R1Y3RDYXRlZ29yaWVzIiwiJCRxdWFudGl0eSIsInF1YW50aXR5IiwiYXNzb2NpYXRlZE9iamVjdFR5cGUiLCJhc3NvY2lhdGVkT2JqZWN0SWQiLCIkJHByb2R1Y3ROYW1lIiwiJCRjYXRlZ29yeUlkIiwiJCRjYXRlZ29yeSIsImltYWdlcyIsIiQkaW1hZ2VVcmwiLCIkJHByb2R1Y3RUeXBlIiwiYWRkQXNzb2NpYXRpb25Qcm9wZXJ0aWVzIiwiY3VwSW1hZ2UiLCJjcml0ZXJpYUNoYW5nZWQiLCJyZXNldFNjcm9sbCIsIm9wZW5Qcm9kdWN0IiwiaXNWYWxpZFF1YW50aXR5IiwidXBkYXRlUXVhbnRpdHkiLCJ1cGRhdGUiLCJkZWxldGVMaXN0IiwibGlzdCIsImNsb3NlQ2hpbGRyZW5CbGFkZXMiLCJkaWFsb2ciLCJtZXNzYWdlIiwicmVtb3ZlIiwiZGVsZXRlIiwiaWRzIiwic2hvd0NvbmZpcm1hdGlvbkRpYWxvZyIsIm9wZW5BZGRJdGVtQmxhZGUiLCJleGNsdWRlUHJvZHVjdFR5cGUiLCJzZWxlY3RCbGFkZSIsInNlbGVjdGVkUHJvZHVjdElkcyIsImFzc29jaWF0ZWRPYmplY3RJZHMiLCJwcm9kdWN0SWQiLCJhc3NvY2lhdGlvbiIsIm5ld0Fzc29jaWF0aW9ucyIsInNldEdyaWRPcHRpb25zIiwiZ3JpZE9wdGlvbnMiLCJpbml0aWFsaXplUGFnaW5hdGlvbiIsImluaXRpYWxpemUiLCJiaW5kUmVmcmVzaE9uU29ydENoYW5nZWQiLCJvbiIsIm5lZWRMb2FkTW9yZURhdGEiLCIkb24iLCJldmVudCIsIm5vdGlmaWNhdGlvbiIsImVycm9yQ291bnQiLCJmaW5pc2hlZCIsImNvbW1hbmRDYW5jZWwiLCJjYW5jZWwiLCJqb2JJZCIsInJ1bkJ1bGtBY3Rpb24iLCJyZWdpc3RyYXRpb25MaXN0IiwiaW5mbyIsImZpbmRJbmRleCIsImFkZENhdGFsb2ciLCJuZXdDYXRhbG9nIiwiYWRkVmlydHVhbENhdGFsb2ciLCJuZXdWaXJ0dWFsQ2F0YWxvZyIsImZvcm1TY29wZSIsImluaXRpYWxpemVCbGFkZSIsInNlY3VyaXR5U2NvcGVzIiwiY2FuU2F2ZSIsIiR2YWxpZCIsImluaXRpYWxpemVUb29sYmFyIiwibWV0YUZpZWxkcyIsImdldE1ldGFGaWVsZHMiLCJwYXJlbnRSZWZyZXNoIiwiY3VycmVudEVudGl0eUlkIiwiY2hpbGRyZW5CbGFkZXMiLCJzZXRGb3JtIiwiZm9ybSIsImNhbmNlbENoYW5nZXMiLCJzYXZlIiwiZ3JpZHN0ZXJPcHRzIiwibWF4Um93cyIsImNvbHVtbnMiLCJzZXR0aW5ncyIsInByb21pc2UiLCIkcHJvbWlzZSIsInNlbGVjdGVkVmFsdWVzIiwibGFuZ3VhZ2VDb2RlIiwiZGVmYXVsdFZhbHVlIiwidG9Mb3dlckNhc2UiLCJpc0RlZmF1bHQiLCJkZWZhdWx0TGFuZ3VhZ2UiLCJvcGVuRGljdGlvbmFyeVNldHRpbmdNYW5hZ2VtZW50IiwiaXNBcGlTYXZlIiwiJHdhdGNoIiwicHJvbWlzZURhdGEiLCJuZXdNb2RlbCIsIndpdGhvdXQiLCJhdXRoU2VydmljZSIsInNob3dNb3JlIiwic29ydCIsImdldFNvcnRFeHByZXNzaW9uIiwib3Blbkl0ZW1zQmxhZGUiLCJsZXZlbCIsInN1YnRpdGxlVmFsdWVzIiwiZmlsdGVyS2V5d29yZCIsInNlbGVjdE5vZGUiLCJjYXRhbG9nc1NlbGVjdGVkQ2F0YWxvZyIsImNhdGFsb2dzU2VsZWN0ZWRDYXRlZ29yeUlkIiwiZWRpdENhdGFsb2ciLCJpc1ZpcnR1YWwiLCJzaG93Q2F0YWxvZ0JsYWRlIiwiZGVsZXRlQ2F0YWxvZyIsInNob3dEaWFsb2ciLCJjaGVja1Blcm1pc3Npb24iLCJkb1Nob3dBbGxDYXRhbG9ncyIsIm9uQWZ0ZXJDYXRhbG9nU2VsZWN0ZWQiLCJwYiIsInNob3dOZXdJdGVtV2l6YXJkIiwic2V0VHJhY2tJbnZlbnRvcnkiLCJwcm9kdWN0IiwidHJhY2tJbnZlbnRvcnkiLCJhdmFpbGFibGVUeXBlcyIsImFkZENhdGVnb3J5IiwibmV3Q2F0ZWdvcnkiLCJwYXJlbnRDYXRlZ29yeUlkIiwiYWRkTGlua2VkQ2F0ZWdvcnkiLCJhZGRQcm9kdWN0IiwiaXNEZWZpbmVkIiwibmV3SXRlbUluQ2F0ZWdvcnkiLCJuZXdJdGVtSW5DYXRhbG9nIiwiJHNlc3Npb25TdG9yYWdlIiwidHJhbnNmb3JtQnlGaWx0ZXJzIiwic2VsZWN0QWxsUm93cyIsImN1dExpc3QiLCJjYXRhbG9nQ2xpcGJvYXJkQ29udGVudCIsImlzSXRlbXNDaGVja2VkIiwibGlzdEVudHJ5TGlua3MiLCJkZWxldGluZ0xpbmsiLCJsaW5rcyIsImxpc3RFbnRyeUlkIiwibGlzdEVudHJ5VHlwZSIsImxpc3RDYXRlZ29yeUxpbmtDb3VudCIsImlkc1RvRGVsZXRlIiwiY2F0ZWdvcnlDb3VudCIsIml0ZW1Db3VudCIsImxpc3RJdGVtTGlua0NvdW50IiwiZGVsZXRlbGlua3MiLCJicmVhZENydW1iIiwiY2F0ZWdvcnkiLCJuYXZpZ2F0ZSIsImRpc2FibGVPcGVuQW5pbWF0aW9uIiwic2V0QnJlYWRjcnVtYnMiLCJjbGVhclNlbGVjdGVkUm93cyIsInNldFNlbGVjdGVkSXRlbSIsInNob3dDYXRlZ29yeUJsYWRlIiwiY3V0IiwiZSIsIm9wZW5OZXdCbGFkZSIsImN0cmxLZXkiLCJpc0Jyb3dzaW5nTGlua2VkQ2F0ZWdvcnkiLCJoYXNMaW5rcyIsImxpc3RFbnRyeSIsIm1vdmUiLCJtYXBDb21tYW5kIiwiYnVsa2NyZWF0ZWxpbmtzIiwiU2VhcmNoQ3JpdGVyaWEiLCJDYXRhbG9nSWQiLCJDYXRlZ29yeUlkIiwiY3JlYXRlbGlua3MiLCJtYXBDaGVja2VkIiwiJHBhdGgiLCJqb2luIiwiY29kZVZhbGlkYXRvciIsInRlc3QiLCJ0YXhUeXBlcyIsIkZpbGVVcGxvYWRlciIsImRlc2NyaXB0aW9ucyIsImVkaXRBc01hcmtkb3duIiwiaGFzQXNzZXRDcmVhdGVQZXJtaXNzaW9uIiwiZmlsZVVwbG9hZGVyIiwiQWNjZXB0IiwiYXV0b1VwbG9hZCIsInJlbW92ZUFmdGVyVXBsb2FkIiwib25CZWZvcmVVcGxvYWRJdGVtIiwiZmlsZUl0ZW0iLCJvblN1Y2Nlc3NJdGVtIiwiJGJyb2FkY2FzdCIsIm9uRXJyb3JJdGVtIiwiX2ZpbGUiLCJvbkNvbXBsZXRlQWxsIiwidHlwZXMiLCJkZXNjcmlwdGlvblR5cGUiLCJib2R5IiwiY29udGVudCIsInJldmlld3MiLCJyZXZpZXdUeXBlIiwiRGF0ZSIsImdldFRpbWUiLCJjYXRhbG9nU2VhcmNoRmlsdGVySWQiLCJjdXJyZW50IiwiY2hhbmdlIiwiYXBpIiwiYXNzZXRzIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsImltYWdlVHlwZXMiLCJ1c2VFeHRlcm5hbFVybCIsInVwbG9hZGVyIiwiZ2V0SW1hZ2VVcmwiLCJmb2xkZXJQYXRoIiwiaW1hZ2VUeXBlIiwicmVsYXRpdmUiLCJpbWFnZSIsImlzSW1hZ2UiLCJvbkFmdGVyQWRkaW5nQWxsIiwiYWRkZWRJdGVtcyIsImVsZW1lbnQiLCJmb2xkZXJVcmwiLCJhZGRJbWFnZUZyb21VcmxIYW5kbGVyIiwiYWRkSW1hZ2VEaXJlY3RseUZyb21VcmwiLCJhZGRJbWFnZUZyb21VcmwiLCJuZXdFeHRlcm5hbEltYWdlVXJsIiwidXBsb2FkRnJvbVVybCIsInNwbGl0IiwicG9wIiwicmVsYXRpdmVVcmwiLCJvblNlbGVjdCIsImVudGl0eSIsInNlbGVjdGVkTGFuZ3VhZ2VDb2RlIiwidG9nZ2xlSW1hZ2VTZWxlY3QiLCIkc2VsZWN0ZWQiLCJjb3B5VXJsIiwicHJvbXB0TWVzc2FnZSIsIndpbmRvdyIsInByb21wdCIsImNoYW5nZUltYWdlQ2F0ZWdvcnkiLCIkaXRlbSIsIiRtb2RlbCIsImxpbmtBc3NldHMiLCJtYXgiLCJtYXhFbnRpdHkiLCJzb3J0T3JkZXIiLCJhc3NldCIsImdldEVudGl0eUdyaWRJbmRleCIsInNlYXJjaEVudGl0eSIsImdyaWQiLCJyZW5kZXJDb250YWluZXJzIiwidmlzaWJsZVJvd0NhY2hlIiwicm93IiwiaWR4IiwiaXNFcXVhbCIsInJlbW92ZUl0ZW0iLCJkb3dubG9hZFVybCIsIm9wZW4iLCJyZW1vdmVBY3Rpb24iLCJzZWxlY3RlZEltYWdlcyIsImN1cnJlbnRJbWFnZSIsInNob3dHYWxsZXJ5RGlhbG9nIiwicHJpb3JpdHlDaGFuZ2VkIiwicm93RW50aXR5IiwiY2VsbE5hdiIsInNjcm9sbFRvRm9jdXMiLCJjb2xEZWYiLCJlbmFibGVDZWxsRWRpdE9uRm9jdXMiLCJhZnRlckNlbGxFZGl0IiwicHJpb3JpdHlWYWxpZCIsImdyaWRPcHRpb25FeHRlbnNpb24iLCJ1aUdyaWRWYWxpZGF0ZVNlcnZpY2UiLCJzZXRWYWxpZGF0b3IiLCJtZXRob2QiLCJmaWxlIiwidG9nZ2xlQXNzZXRTZWxlY3QiLCJzZWxlY3RlZCIsImNvbnZlcnRlZCIsIm1pbWVUeXBlIiwiY29udGVudFR5cGUiLCJvcGVuQ3VycmVudEl0ZW0iLCJhc3NvY2lhdGlvbkdyb3VwcyIsInRhZ3MiLCJncm91cE5hbWUiLCJhbGxDYXRhbG9nSWRzIiwicG9wdWxhdGVQcm9kdWN0Q2F0YWxvZ3MiLCJwcm9jZXNzUHJvZHVjdHNBc3NvY2lhdGlvbnMiLCJjYXRlZ29yeUFzc29jaWF0aW9ucyIsInByb2Nlc3NDYXRlZ29yeUFzc29jaWF0aW9ucyIsImZpbmRDYXRhbG9ncyIsInVuaXF1ZUNhdGFsb2dJZHMiLCIkJGNhdGFsb2ciLCIkJGNhdGFsb2dJZCIsImFwcGx5IiwidW5kZWxldGVkRW50cmllcyIsImRpZmZlcmVuY2UiLCJhc3NvY2lhdGVkT2JqZWN0TmFtZSIsIm9uU2F2ZUNoYW5nZXMiLCJkcmFnZ2FibGVSb3dzIiwicm93RmluaXNoRHJhZyIsIm1lbWJlcnMiLCJmaWxsSXRlbSIsInByb2R1Y3RUeXBlTmFtZSIsImluc3RhbnQiLCJsaW5rV2l0aFByaW9yaXR5IiwiZ2V0TGlua1dpdGhQcmlvcml0eSIsIl9wcmlvcml0eSIsIm9yaWdJdGVtIiwiaW5pdFZlbmRvcnMiLCJ2ZW5kb3JzIiwibWVtYmVyVHlwZSIsIm1ldGFGaWVsZHMxIiwibWV0YUZpZWxkczIiLCJjYXRhbG9nUmVzdWx0IiwiY2xvbmVJdGVtIiwiZGF0ZXBpY2tlcnMiLCIkZXZlbnQiLCJ3aGljaCIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwib3BlblZlbmRvcnNNYW5hZ2VtZW50Iiwic2V0dGluZyIsInBhY2thZ2VUeXBlVXRpbHMiLCJ1c2VQYWNrYWdlVHlwZSIsIm1lYXN1cmVVbml0IiwiaGVpZ2h0Iiwid2lkdGgiLCJ3ZWlnaHRVbml0cyIsIm1lYXN1cmVVbml0cyIsInBhY2thZ2VUeXBlSWQiLCJ1c2VQYWNrYWdlVHlwZVZhbHVlIiwicGFja2FnZVR5cGUiLCJwYWNrYWdlVHlwZXMiLCJnZXRQYWNrYWdlVHlwZXMiLCJ3ZWlnaHRVbml0Iiwid2VpZ2h0IiwiJHEiLCJ2YWx1ZVR5cGVzIiwicHJvcGVydHlWYWxpZGF0b3JzIiwiYXZhaWxhYmxlVmFsdWVUeXBlcyIsImRvVmFsaWRhdGVOYW1lQXN5bmMiLCJpc05hbWVWYWxpZCIsImVycm9yRGF0YSIsImVycm9yTWVzc2FnZSIsInZhbGlkYXRlTmFtZSIsIm9yaWdpbmFsTmFtZSIsImVycm9ycyIsIm5ld0JsYWRlRGF0YSIsIm1lc3NhZ2VWYWx1ZXMiLCJkaWN0aW9uYXJ5VmFsdWVzIiwiZW50cnkiLCJwYXJzZUZsb2F0IiwiZmlsdGVyRmlsdGVyIiwicGFnZU51bWJlciIsIm1haW5Qcm9kdWN0SWQiLCJ3aXRoSGlkZGVuIiwic2VhcmNoUHJvZHVjdHMiLCJ2YXJpYXRpb25zIiwic2VsZWN0VmFyaWF0aW9uIiwidG9vbGJhckNvbW1hbmRzQW5kRXZlbnRzIiwibmV3VmFyaWF0aW9uIiwicmVnaXN0ZXJSb3dzUHJvY2Vzc29yIiwic2luZ2xlRmlsdGVyIiwicmVuZGVyYWJsZVJvd3MiLCJ2aXNpYmxlQ291bnQiLCJ2aXNpYmxlIiwic2VhcmNoVGV4dCIsImZpbHRlcmVkRW50aXRpZXNDb3VudCIsInJlc2V0TmV3VmFsdWUiLCJhdHRyaWJ1dGVOYW1lVmFsaWRhdG9yIiwiYXR0cmlidXRlcyIsImFkZCIsIiRzZXRQcmlzdGluZSIsImNoZWNrQWxsIiwicHJvcGVydHlJZCIsInByb3BlcnR5VHlwZSIsImR1cGxpY2F0ZWROYW1lIiwidmFsaWRhdGlvblJ1bGUiLCJ2YWxpZGF0aW9uUnVsZXMiLCJjdXJyZW50Q2hpbGQiLCJoYXNNdWx0aXZhbHVlIiwiaGFzRGljdGlvbmFyeSIsImhhc011bHRpbGFuZ3VhZ2UiLCJhdmFpbGFibGVQcm9wZXJ0eVR5cGVzIiwibXVsdGl2YWx1ZSIsImRpY3Rpb25hcnkiLCJtdWx0aWxhbmd1YWdlIiwidmFsaWRhdGVDYXRlZ29yeVByb3BlcnR5TmFtZSIsIm5ld0NhdGVnb3J5UHJvcGVydHkiLCJuZXdDYXRhbG9nUHJvcGVydHkiLCJvcGVuQ2hpbGQiLCJjaGlsZFR5cGUiLCJ0aXRsZVZhbHVlcyIsImRvRGVsZXRlVmFsdWVzIiwiaXNNYW5hZ2VhYmxlIiwicHJvcERpY3RJdGVtcyIsImxvY2FsaXplZFZhbHVlcyIsImxhbmciLCJkaWN0VmFsdWUiLCJkaWN0aW9uYXJ5SXRlbSIsImNyaXRlcmlhIiwic2VhcmNoUGhyYXNlIiwicHJvcGVydHlJZHMiLCJkaWN0SXRlbSIsImNvcmUiLCJkaWN0SXRlbXNJZHMiLCJkZWxldGVEaWN0SXRlbSIsInNlbGVjdGVkRGljdEl0ZW0iLCJhbGlhcyIsInByb3BlcnRpZXNGb3JFeGNsdWRlIiwiZmlsdGVyZWRQcm9wZXJ0aWVzIiwiZW1wdHlQcm9wZXJ0aWVzIiwicHJvcGVydHlGaWx0ZXIiLCJhcHBseUZpbHRlciIsInVzZXJOYW1lIiwiZWRpdFVubWFuYWdlYWJsZSIsImJsYWRlRGF0YSIsInByb3BlcnRpZXNWaXNpYmxlIiwicHJvcGVydHlWaXNpYmxlQ29tbWFuZCIsInN3aXRjaFByb3BlcnRpZXNWaXNpYmlsaXR5IiwiaXNQcm9wZXJ0eUNoYW5nZWQiLCJvbGRJdGVtIiwiaXNQcm9wZXJ0eVZpc2libGUiLCJpbmNsdWRlcyIsImlzUHJvcGVydHlIYXNWYWx1ZXMiLCJyZXNldEZpbHRlciIsInNhdmVGaWx0ZXIiLCJnZXRQcm9wZXJ0eURpc3BsYXlOYW1lIiwiZmlyc3QiLCJkaXNwbGF5TmFtZXMiLCJzdGFydHNXaXRoIiwiZWRpdFByb3BlcnR5IiwiZ2V0UHJvcFZhbHVlcyIsInByb3BJZCIsImNvdW50VG9Ta2lwIiwiY291bnRUb1Rha2UiLCJmaWx0ZXJlZFByb3BlcnRpZXNOYW1lcyIsImFkZFByb3BlcnR5QnV0dG9uTmFtZUtleSIsImVudGl0eVR5cGUiLCJlZGl0UHJvcGVydHlGaWx0ZXIiLCJzZWxlY3RlZFByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzQnlUeXBlIiwiJCRoaWRkZW5MYW5ndWFnZXMiLCJsYW5ndWFnZSIsInByb3BlcnR5VmFsdWUiLCJyZXF1aXJlZCIsImV4aXN0aW5nRmlsdGVyZWRQcm9wZXJ0aWVzIiwibWF4UHJldmlld0ZpbHRlcnNDb3VudCIsInNlbGVjdEFsbEluR3JvdXAiLCJncm91cEtleSIsImFsbEVudGl0aWVzIiwiY2xlYXJBbGxJbkdyb3VwIiwic29ydFNlbGVjdGVkIiwic29ydEJ5IiwiaGFzQ2hhbmdlZFByb3BlcnRpZXMiLCJpc0NoYW5nZWQiLCJmbGF0dGVuIiwiYWxsUHJvcGVydGllcyIsImdyb3VwQnkiLCJzZWxlY3RlZFR5cGUiLCJjcmVhdGVQcm9wZXJ0eSIsInR5cGVOYW1lIiwic2VsZWN0T3B0aW9uIiwib3B0aW9uIiwicnVsZSIsInByb3BlcnR5VmFsaWRhdGlvblJ1bGUiLCJpc0xpbWl0ZWQiLCJjaGFyQ291bnRNaW4iLCJjaGFyQ291bnRNYXgiLCJpc1NwZWNpZmljUGF0dGVybiIsInJlZ0V4cCIsInNlbGVjdGVkTGltaXQiLCJjaGFyYWN0ZXJMaW1pdCIsInZhbGlkYXRpb25QYXR0ZXJucyIsInBhdHRlcm4iLCJzZWxlY3RlZFBhdHRlcm4iLCJuZXdWYWx1ZXMiLCJ2ZW5kb3IiLCJ2ZW5kb3JQcm9wIiwidmFsdWVJZCIsInVwZGF0ZVByb3BlcnR5VmFsdWUiLCJwcm9wTmFtZSIsIiRyZXNvdXJjZSIsInZpZGVvcyIsImN1cnJlbnRGb3JtIiwiY29udGVudFVybCIsIm93bmVySWQiLCJvd25lciIsIm93bmVyVHlwZSIsInN0YXR1c1RleHQiLCJsYW5ndWFnZXNQcm9taXNlIiwiSWQiLCJjYXRjaCIsImZpbmFsbHkiLCJ2aWRlb09wdGlvbnMiLCJvd25lcklkcyIsInNpbmdsZSIsInJlc3AiLCJ1aUdyaWRFeHRlbnNpb24iLCJicmVhZGNydW1iIiwid2l0aFByb2R1Y3RzIiwiZ3JpZENvbHVtbnMiLCJzZWFyY2hlZEtleXdvcmQiLCJpc0NhdGFsb2dTZWxlY3RNb2RlIiwib25DYXRhbG9nc0xvYWRlZCIsIm9iamVjdFR5cGVzIiwib25JdGVtc0xvYWRlZCIsInNlbGVjdEl0ZW1GbiIsImdldEJsYWRlRm9yQ2F0ZWdvcmllcyIsImN1c3RvbUNhdGVnb3JpZXNCbGFkZSIsInZhcmlhdGlvbnNUb29sYmFyQ29tbWFuZHNBbmRFdmVudHMiLCJleHRlcm5hbFJlZ2lzdGVyQXBpQ2FsbGJhY2siLCJmbkdldEJsYWRlRm9ySXRlbSIsImN1c3RvbUJsYWRlIiwicmVnaXN0ZXJEYXRhQ2hhbmdlQ2FsbGJhY2siLCJ5Iiwic2VsZWN0Um93IiwiZGF0YUNoYW5nZSIsIlJPVyIsInJvd1NlbGVjdGlvbkNoYW5nZWQiLCJjb250YWlucyIsImdyaWRJZCIsImlzUm93U2VsZWN0YWJsZSIsImlzRnVuY3Rpb24iLCJpc0l0ZW1TZWxlY3RhYmxlIiwiY29sdW1uRGVmcyIsInRyeUV4dGVuZEdyaWRPcHRpb25zIiwicmVnaXN0cmF0aW9uc0xpc3QiLCJyZWdpc3RyYXRpb24iLCJjYXRhbG9nSW1wb3J0U2VydmljZSIsInNlYXJjaGxpbmtzIiwic2V0RW50cnlQYXRoIiwibGlua0ltYWdlIiwibmFtZXMiLCJvdXRsaW5lIiwib3V0bGluZXMiLCIkJHBhdGgiLCJvcGVuQWRkTGlua3NCbGFkZSIsImNhdGVnb3JpZXNCbGFkZSIsImlzTGlua1RvU2FtZUNhdGVnb3J5IiwibWFya2VkIiwibG9hZGVkQ2F0ZWdvcmllcyIsImxvYWRlZENhdGVnb3JpZXNJZHMiLCJjYXRlZ29yeUxpbmtzIiwibG9hZGVkQ2F0ZWdvcnkiLCJjYXRlZ29yeUxpbmtSZXN1bHQiLCJsb2FkZWRDYXRhbG9ncyIsImxvYWRlZENhdGFsb2dJZHMiLCJjYXRhbG9nTGlua0RhdGEiLCJsb2FkZWRDYXRhbG9nIiwiY2F0YWxvZ0xpbmtSZXN1bHQiLCJsaW5rIiwiZW5hYmxlR3JpZE1lbnUiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInJlcXVpcmUiLCJuZ01vZGVsIiwicmVwbGFjZSIsInRyYW5zY2x1ZGUiLCJlbGVtIiwiYXR0cnMiLCJzaG93RmlsdGVyRGV0YWlsQmxhZGUiLCJpc0RldGFpbEJsYWRlT3BlbiIsIiRwYXJzZSIsIiR0ZW1wbGF0ZUNhY2hlIiwiaGlkZGVuTGFuZ3VhZ2VzIiwicGFnZVNpemUiLCJhdHRyIiwiY3RybHMiLCJsaW5rZXIiLCJuZ01vZGVsQ29udHJvbGxlciIsIm5lZWRBZGRFbXB0eVZhbHVlIiwic2V0VmFsaWQiLCJjb250ZXh0IiwiJHNldFZhbGlkaXR5IiwiJG1vZGVsVmFsdWUiLCJjdXJyZW50UHJvcFZhbHVlcyIsImFsbERpY3Rpb25hcnlWYWx1ZXMiLCJsYW5nVmFsdWVzTWFwIiwibGFuZ0dyb3VwIiwiY3VycmVudFZhbHVlcyIsImVsZW1lbnRDb3VudElzRGlmZmVyZW50IiwiZWxlbWVudHNOb3RFcXVhbCIsImN1cnJlbnRWYWx1ZSIsImlzVmFsdWVzRGlmZmVyZW50IiwiaXNJbmhlcml0ZWQiLCIkc2V0Vmlld1ZhbHVlIiwiJHJlbmRlciIsInRlbXBsYXRlTmFtZSIsImxhbmdWYWx1ZXNHcm91cCIsImFsbFZhbHVlcyIsImNhY2hlIiwiZWwiLCIkZGVzdHJveSIsImh0bWwiLCJ0cmltIiwibmV3U2NvcGUiLCIkbmV3IiwiaXNMYW5ndWFnZVZpc2libGUiLCJsb2FkRGljdGlvbmFyeVZhbHVlcyIsIiRzZWxlY3QiLCJwYWdlIiwibG9hZE5leHREaWN0aW9uYXJ5VmFsdWVzIiwiZGljdEl0ZW1zIiwiRGF0ZVRpbWUiLCJkYXRlT3B0aW9ucyIsImRhdGVwaWNrZXJNb2RlIiwiY2xvbmUiLCJhcHBlbmQiLCJ0YWdzRGVsZXRlZCIsInRhZyIsInRhZ3NBZGRlZCIsImFkZGVkZXJyb3IiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwiUmVnRXhwIiwiaW1hZ2VVcmwiLCJwcmVmaXgiLCIkc2NlIiwidHJ1c3RBc1Jlc291cmNlVXJsIiwiaXNBcnJheSIsImdldENhdGFsb2dzIiwicGFyYW1zIiwiZ2V0QnlJZHMiLCJnZXRNYXBwaW5nQ29uZmlndXJhdGlvbiIsIm5hbWVQYXR0ZXJuIiwibWF4TGVuZ2h0IiwiYmFzZVVybCIsInVuaW9uIiwiY2F0YWxvZ0ltZ0hlbHBlciIsInNldEN1cnJlbnRFbnRpdGllcyIsIm9wZW5DYXRhbG9nUHJvcGVydHlCbGFkZSIsImN1cnJlbnRCbGFkZSIsIndpZGdldCIsInByb3BlcnRpZXNDb3VudCIsIm9wZW5Qcm9wZXJ0aWVzQmxhZGUiLCJjb3VudCIsImRlc2NyIiwid2lkZ2V0QWN0aW9uIiwicGFja2FnZVR5cGVBcGkiLCJxdWVyeSIsIm9wZW5JdGVtUHJvcGVydHlCbGFkZSIsInZhcmlhcnRpb25Db3VudCIsIm9wZW5WYXJpYXRpb25MaXN0QmxhZGUiLCJwcmljZWxpc3QiLCJvcGVuTGlua3NCbGFkZSIsImxpbmtzQ291bnQiLCJhc3NvY2lhdGVkT2JqZWN0SW1nIiwiJHVwZGF0ZSIsImNhdGVnb3J5TGlzdEJsYWRlIiwic3RvcmVzIiwiaW5pdGlhbE5hbWUiLCJsYXN0R2VuZXJhdGVkTmFtZSIsInN0b3Jlc1Byb21pc2UiLCJjcmVhdGVJdGVtIiwiZGJJdGVtIiwic2VvSW5mb3MiLCJpc0FjdGl2ZSIsInN0cmluZ0ZvclNsdWciLCJ2YWwiLCJzZW1hbnRpY1VybCIsImluaXRpYWxpemVTRU8iLCJzZW9JbmZvIiwic2VvQ29udGFpbmVyT2JqZWN0IiwiZ2V0VW5maWxsZWRQcm9wZXJ0aWVzIiwiY3VyclZhbCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVB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UUFBUSxTQUFVZ3dCLEdBQU8sT0FBT0EsRUFBSXA5QixTQUN2RDA5QixJQUNBYixJQUFzQkEsRUFBb0IsS0FBTyxJQUFNYSxFQUFRMTlCLFdBSTNFOEYsRUFBTXFELEtBQUs3SixLQUFPdTlCLE1BSzFCLzJCLEVBQU00RixXQUFZLE0iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLy9DYWxsIHRoaXMgdG8gcmVnaXN0ZXIgb3VyIG1vZHVsZSB0byBtYWluIGFwcGxpY2F0aW9uXHJcbnZhciBjYXRhbG9nc01vZHVsZU5hbWUgPSBcInZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZVwiO1xyXG5cclxuaWYgKEFwcERlcGVuZGVuY2llcyAhPSB1bmRlZmluZWQpIHtcclxuICAgIEFwcERlcGVuZGVuY2llcy5wdXNoKGNhdGFsb2dzTW9kdWxlTmFtZSk7XHJcbn1cclxuXHJcbmFuZ3VsYXIubW9kdWxlKGNhdGFsb2dzTW9kdWxlTmFtZSwgWyd1aS5ncmlkLnZhbGlkYXRlJywgJ3VpLmdyaWQuaW5maW5pdGVTY3JvbGwnXSlcclxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsIGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlcikge1xyXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnd29ya3NwYWNlLmNhdGFsb2cnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2F0YWxvZycsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJyQoUGxhdGZvcm0pL1NjcmlwdHMvY29tbW9uL3RlbXBsYXRlcy9ob21lLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtcclxuICAgICAgICAgICAgICAgICAgICAnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2NhdGVnb3JpZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRhbG9ncy1saXN0LnRpdGxlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuY2F0YWxvZ3MtbGlzdC5zdWJ0aXRsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dzTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jYXRhbG9ncy1saXN0LnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2xvc2luZ0Rpc2FibGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKGJsYWRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1vZHVsZU5hbWUgPSAndmMtY2F0YWxvZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKVxyXG5cclxuICAgIC8vIGRlZmluZSBzZWFyY2ggZmlsdGVycyB0byBiZSBhY2Nlc3NpYmxlIHBsYXRmb3JtLXdpZGVcclxuICAgIC5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJlZGVmaW5lZFNlYXJjaEZpbHRlcnMnLCBbJyRsb2NhbFN0b3JhZ2UnLCBmdW5jdGlvbiAoJGxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICRsb2NhbFN0b3JhZ2UuY2F0YWxvZ1NlYXJjaEZpbHRlcnMgPSAkbG9jYWxTdG9yYWdlLmNhdGFsb2dTZWFyY2hGaWx0ZXJzIHx8IFtdO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKGN1cnJlbnRGaWx0ZXJzVXBkYXRlVGltZSwgY3VycmVudEZpbHRlcnNTdG9yYWdlS2V5LCBuZXdGaWx0ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBfLmVhY2gobmV3RmlsdGVycywgZnVuY3Rpb24gKG5ld0ZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IF8uZmluZCgkbG9jYWxTdG9yYWdlLmNhdGFsb2dTZWFyY2hGaWx0ZXJzLCBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5pZCA9PT0gbmV3RmlsdGVyLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kLmxhc3RVcGRhdGVUaW1lIHx8IGZvdW5kLmxhc3RVcGRhdGVUaW1lIDwgY3VycmVudEZpbHRlcnNVcGRhdGVUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkobmV3RmlsdGVyLCBmb3VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEkbG9jYWxTdG9yYWdlW2N1cnJlbnRGaWx0ZXJzU3RvcmFnZUtleV0gfHwgJGxvY2FsU3RvcmFnZVtjdXJyZW50RmlsdGVyc1N0b3JhZ2VLZXldIDwgY3VycmVudEZpbHRlcnNVcGRhdGVUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhbFN0b3JhZ2UuY2F0YWxvZ1NlYXJjaEZpbHRlcnMuc3BsaWNlKDAsIDAsIG5ld0ZpbHRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGxvY2FsU3RvcmFnZVtjdXJyZW50RmlsdGVyc1N0b3JhZ2VLZXldID0gY3VycmVudEZpbHRlcnNVcGRhdGVUaW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG5cclxuICAgIC5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbVR5cGVzUmVzb2x2ZXJTZXJ2aWNlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG9iamVjdHM6IFtdLFxyXG4gICAgICAgICAgICByZWdpc3RlclR5cGU6IGZ1bmN0aW9uIChpdGVtVHlwZURlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKGl0ZW1UeXBlRGVmaW5pdGlvbik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc29sdmU6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5maW5kV2hlcmUodGhpcy5vYmplY3RzLCB7IHByb2R1Y3RUeXBlOiB0eXBlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pXHJcblxyXG4gICAgLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nSW1hZ2VzRm9sZGVyUGF0aEhlbHBlcicsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0SW1hZ2VzRm9sZGVyUGF0aDogZnVuY3Rpb24gKGNhdGFsb2dJZCwgY29kZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhdGFsb2dTaG9ydE5hbWUgPSBjYXRhbG9nSWQubGVuZ3RoID4gNSA/IGNhdGFsb2dJZC5zdWJzdHJpbmcoMCwgNSkgOiBjYXRhbG9nSWQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2F0YWxvZ1Nob3J0TmFtZSArICcvJyArIGNvZGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pXHJcblxyXG4gICAgLnJ1bihcclxuICAgICAgICBbJ3BsYXRmb3JtV2ViQXBwLm1haW5NZW51U2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC53aWRnZXRTZXJ2aWNlJywgJyRzdGF0ZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nRXhwb3J0U2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5wZXJtaXNzaW9uU2NvcGVSZXNvbHZlcicsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByZWRlZmluZWRTZWFyY2hGaWx0ZXJzJywgJ3BsYXRmb3JtV2ViQXBwLm1ldGFGb3Jtc1NlcnZpY2UnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1UeXBlc1Jlc29sdmVyU2VydmljZScsICckaHR0cCcsICckY29tcGlsZScsICd2aXJ0b0NvbW1lcmNlLmV4cG9ydE1vZHVsZS5nZW5lcmljVmlld2VySXRlbVNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAudG9vbGJhclNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYnJlYWRjcnVtYkhpc3RvcnlTZXJ2aWNlJyxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKG1haW5NZW51U2VydmljZSwgd2lkZ2V0U2VydmljZSwgJHN0YXRlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBjYXRhbG9nRXhwb3J0U2VydmljZSwgc2NvcGVSZXNvbHZlciwgY2F0YWxvZ3MsIHByZWRlZmluZWRTZWFyY2hGaWx0ZXJzLCBtZXRhRm9ybXNTZXJ2aWNlLCBpdGVtVHlwZXNSZXNvbHZlclNlcnZpY2UsICRodHRwLCAkY29tcGlsZSwgZ2VuZXJpY1ZpZXdlckl0ZW1TZXJ2aWNlLCB0b29sYmFyU2VydmljZSwgYnJlYWRjcnVtYkhpc3RvcnlTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciBtb2R1bGUgaW4gbWFpbiBtZW51XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVudUl0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJ2Jyb3dzZS9jYXRhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtZm9sZGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cubWFpbi1tZW51LXRpdGxlJyxcclxuICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7ICRzdGF0ZS5nbygnd29ya3NwYWNlLmNhdGFsb2cnKTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnY2F0YWxvZzphY2Nlc3MnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgbWFpbk1lbnVTZXJ2aWNlLmFkZE1lbnVJdGVtKG1lbnVJdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciBiYWNrLWJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdG9vbGJhclNlcnZpY2UucmVnaXN0ZXIoYnJlYWRjcnVtYkhpc3RvcnlTZXJ2aWNlLmdldEJhY2tCdXR0b25JbnN0YW5jZSgpLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3JpZXNJdGVtc0xpc3RDb250cm9sbGVyJyk7XHJcbiAgICAgICAgICAgICAgICB0b29sYmFyU2VydmljZS5yZWdpc3RlcihicmVhZGNydW1iSGlzdG9yeVNlcnZpY2UuZ2V0QmFja0J1dHRvbkluc3RhbmNlKCksICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0l0ZW1TZWxlY3RDb250cm9sbGVyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciBpbWFnZSB3aWRnZXRcclxuICAgICAgICAgICAgICAgIHZhciBlbnRyeUltYWdlV2lkZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0VudHJ5SW1hZ2VXaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiBbMiwgMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpZGdldHMvY2F0YWxvZ0VudHJ5SW1hZ2VXaWRnZXQudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChlbnRyeUltYWdlV2lkZ2V0LCAnaXRlbURldGFpbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vUmVnaXN0ZXIgdmlkZW8gd2lkZ2V0XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVZpZGVvV2lkZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUudmlkZW9XaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvd2lkZ2V0cy92aWRlb1dpZGdldC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGl0ZW1WaWRlb1dpZGdldCwgJ2l0ZW1EZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIGl0ZW0gcHJvcGVydHkgd2lkZ2V0XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbVByb3BlcnR5V2lkZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbVByb3BlcnR5V2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpZGdldHMvaXRlbVByb3BlcnR5V2lkZ2V0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoaXRlbVByb3BlcnR5V2lkZ2V0LCAnaXRlbURldGFpbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vUmVnaXN0ZXIgaXRlbSBhc3NvY2lhdGlvbnMgd2lkZ2V0XHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUFzc29jaWF0aW9uc1dpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1Bc3NvY2lhdGlvbnNXaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvd2lkZ2V0cy9pdGVtQXNzb2NpYXRpb25zV2lkZ2V0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoaXRlbUFzc29jaWF0aW9uc1dpZGdldCwgJ2l0ZW1EZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIGl0ZW0gc2VvIHdpZGdldFxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1TZW9XaWRnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY29yZU1vZHVsZS5zZW8uc2VvV2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5Db3JlKS9TY3JpcHRzL1NFTy93aWRnZXRzL3Nlb1dpZGdldC50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0NhdGFsb2dQcm9kdWN0JyxcclxuICAgICAgICAgICAgICAgICAgICBnZXREZWZhdWx0Q29udGFpbmVySWQ6IGZ1bmN0aW9uIChibGFkZSkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGdldExhbmd1YWdlczogZnVuY3Rpb24gKGJsYWRlKSB7IHJldHVybiBfLnBsdWNrKGJsYWRlLmNhdGFsb2cubGFuZ3VhZ2VzLCAnbGFuZ3VhZ2VDb2RlJyk7IH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGl0ZW1TZW9XaWRnZXQsICdpdGVtRGV0YWlsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciBkaW1lbnNpb25zIHdpZGdldFxyXG4gICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnNXaWRnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtRGltZW5zaW9uV2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbiAoYmxhZGUpIHsgcmV0dXJuIGJsYWRlLnByb2R1Y3RUeXBlID09PSAnUGh5c2ljYWwnOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IFsyLCAxXSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvd2lkZ2V0cy9pdGVtRGltZW5zaW9uV2lkZ2V0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoZGltZW5zaW9uc1dpZGdldCwgJ2l0ZW1EZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIGl0ZW0gZWRpdG9yaWFsUmV2aWV3IHdpZGdldFxyXG4gICAgICAgICAgICAgICAgdmFyIGVkaXRvcmlhbFJldmlld1dpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmVkaXRvcmlhbFJldmlld1dpZGdldENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy93aWRnZXRzL2VkaXRvcmlhbFJldmlld1dpZGdldC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGVkaXRvcmlhbFJldmlld1dpZGdldCwgJ2l0ZW1EZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIHZhcmlhdGlvbiB3aWRnZXRcclxuICAgICAgICAgICAgICAgIHZhciB2YXJpYXRpb25XaWRnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtVmFyaWF0aW9uV2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbiAoYmxhZGUpIHsgcmV0dXJuIGJsYWRlLmlkICE9PSAndmFyaWF0aW9uRGV0YWlsJzsgfSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiBbMSwgMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpZGdldHMvaXRlbVZhcmlhdGlvbldpZGdldC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHZhcmlhdGlvbldpZGdldCwgJ2l0ZW1EZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIGFzc2V0IHdpZGdldFxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1Bc3NldFdpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1Bc3NldFdpZGdldENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy93aWRnZXRzL2l0ZW1Bc3NldFdpZGdldC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGl0ZW1Bc3NldFdpZGdldCwgJ2l0ZW1EZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIEJpbGwgb2YgbWF0ZXJpYWxzIHdpZGdldFxyXG4gICAgICAgICAgICAgICAgdmFyIGJpbGxPZk1hdGVyaWFsc1dpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmJpbGxPZk1hdGVyaWFsc1dpZGdldENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24gKGJsYWRlKSB7IHJldHVybiBibGFkZS5wcm9kdWN0VHlwZSA9PT0gJ0JpbGxPZk1hdGVyaWFscyc7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpZGdldHMvYmlsbE9mTWF0ZXJpYWxzV2lkZ2V0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoYmlsbE9mTWF0ZXJpYWxzV2lkZ2V0LCAnaXRlbURldGFpbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vUmVnaXN0ZXIgd2lkZ2V0cyB0byBjYXRlZ29yeURldGFpbFxyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChlbnRyeUltYWdlV2lkZ2V0LCAnY2F0ZWdvcnlEZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnlQcm9wZXJ0eVdpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3J5UHJvcGVydHlXaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvd2lkZ2V0cy9jYXRlZ29yeVByb3BlcnR5V2lkZ2V0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoY2F0ZWdvcnlQcm9wZXJ0eVdpZGdldCwgJ2NhdGVnb3J5RGV0YWlsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciBjYXRlZ29yeSBzZW8gd2lkZ2V0XHJcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnlTZW9XaWRnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY29yZU1vZHVsZS5zZW8uc2VvV2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5Db3JlKS9TY3JpcHRzL1NFTy93aWRnZXRzL3Nlb1dpZGdldC50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0NhdGVnb3J5JyxcclxuICAgICAgICAgICAgICAgICAgICBnZXREZWZhdWx0Q29udGFpbmVySWQ6IGZ1bmN0aW9uIChibGFkZSkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGdldExhbmd1YWdlczogZnVuY3Rpb24gKGJsYWRlKSB7IHJldHVybiBfLnBsdWNrKGJsYWRlLmNhdGFsb2cubGFuZ3VhZ2VzLCAnbGFuZ3VhZ2VDb2RlJyk7IH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGNhdGVnb3J5U2VvV2lkZ2V0LCAnY2F0ZWdvcnlEZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIGNhdGVnb3J5IGRlc2NyaXB0aW9uIHdpZGdldFxyXG4gICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5RGVzY3JpcHRpb25XaWRnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yeURlc2NyaXB0aW9uV2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpZGdldHMvY2F0ZWdvcnlEZXNjcmlwdGlvbldpZGdldC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGNhdGVnb3J5RGVzY3JpcHRpb25XaWRnZXQsICdjYXRlZ29yeURldGFpbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vUmVnaXN0ZXIgY2F0YWxvZyB3aWRnZXRzXHJcbiAgICAgICAgICAgICAgICB2YXIgY2F0YWxvZ0xhbmd1YWdlc1dpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dMYW5ndWFnZXNXaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvd2lkZ2V0cy9jYXRhbG9nTGFuZ3VhZ2VzV2lkZ2V0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoY2F0YWxvZ0xhbmd1YWdlc1dpZGdldCwgJ2NhdGFsb2dEZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY2F0YWxvZ1Byb3BlcnR5V2lkZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24gKGJsYWRlKSB7IHJldHVybiAhYmxhZGUuaXNOZXc7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nUHJvcGVydHlXaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvd2lkZ2V0cy9jYXRhbG9nUHJvcGVydHlXaWRnZXQudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChjYXRhbG9nUHJvcGVydHlXaWRnZXQsICdjYXRhbG9nRGV0YWlsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciBsaW5rcyB3aWRnZXRzXHJcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnlMaW5rc1dpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmxpbmtzV2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpZGdldHMvbGlua3NXaWRnZXQudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChjYXRlZ29yeUxpbmtzV2lkZ2V0LCAnY2F0ZWdvcnlEZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXNMaW5rc1dpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmxpbmtzV2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpZGdldHMvbGlua3NXaWRnZXQudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChpdGVtc0xpbmtzV2lkZ2V0LCAnaXRlbURldGFpbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vU2VjdXJpdHkgc2NvcGVzXHJcbiAgICAgICAgICAgICAgICAvL1JlZ2lzdGVyIHBlcm1pc3Npb24gc2NvcGVzIHRlbXBsYXRlcyB1c2VkIGZvciBzY29wZSBib3VuZGVkIGRlZmluaXRpb24gaW4gcm9sZSBtYW5hZ2VtZW50IHVpXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGNhdGFsb2dTZWxlY3RTY29wZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnU2VsZWN0ZWRDYXRhbG9nU2NvcGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnY2F0YWxvZy5wZXJtaXNzaW9ucy5jYXRhbG9nLXNjb3BlLnRpdGxlJyxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RGbjogZnVuY3Rpb24gKGJsYWRlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2NhdGFsb2ctcGljaycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy5wZXJtaXNzaW9ucy5jYXRhbG9nLXNjb3BlLmJsYWRlLnN1YnRpdGxlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZXNDb25maXJtZWRGbjogY2FsbGJhY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU2VydmljZTogY2F0YWxvZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuc2VjdXJpdHkuc2NvcGVWYWx1ZVBpY2tGcm9tU2ltcGxlTGlzdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZWN1cml0eS9ibGFkZXMvY29tbW9uL3Njb3BlLXZhbHVlLXBpY2stZnJvbS1zaW1wbGUtbGlzdC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgc2NvcGVSZXNvbHZlci5yZWdpc3RlcihjYXRhbG9nU2VsZWN0U2NvcGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeVNlbGVjdFNjb3BlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdDYXRhbG9nU2VsZWN0ZWRDYXRlZ29yeVNjb3BlJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cucGVybWlzc2lvbnMuY2F0ZWdvcnktc2NvcGUudGl0bGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdEZuOiBmdW5jdGlvbiAoYmxhZGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZExpc3RJdGVtcyA9IF8ubWFwKHRoaXMuYXNzaWduZWRTY29wZXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB7IGlkOiB4LnNjb3BlLCBuYW1lOiB4LmxhYmVsIH07IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDaGVja2luZ011bHRpcGxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2hlY2tpbmdJdGVtOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93Q2hlY2tpbmdDYXRlZ29yeTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUlkczogXy5tYXAodGhpcy5hc3NpZ25lZFNjb3BlcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguc2NvcGU7IH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tJdGVtRm46IGZ1bmN0aW9uIChsaXN0SXRlbSwgaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmFsbChzZWxlY3RlZExpc3RJdGVtcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQgIT09IGxpc3RJdGVtLmlkOyB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMaXN0SXRlbXMucHVzaChsaXN0SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGlzdEl0ZW1zID0gXy5yZWplY3Qoc2VsZWN0ZWRMaXN0SXRlbXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09PSBsaXN0SXRlbS5pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NvcGVPcmlnaW5hbCA9IHRoaXMuc2NvcGVPcmlnaW5hbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiQ2F0YWxvZ0l0ZW1zU2VsZWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5jYXRhbG9nLWl0ZW1zLXNlbGVjdC50aXRsZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nSXRlbVNlbGVjdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jb21tb24vY2F0YWxvZy1pdGVtcy1zZWxlY3QudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXJDb21tYW5kczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5jb25maXJtXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtcGx1cycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uIChibGFkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjb3BlcyA9IF8ubWFwKHNlbGVjdGVkTGlzdEl0ZW1zLCBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmV4dGVuZCh7IHNjb3BlOiB4LmlkLCBsYWJlbDogeC5uYW1lIH0sIHNjb3BlT3JpZ2luYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhzY29wZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKGJsYWRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZExpc3RJdGVtcy5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgc2NvcGVSZXNvbHZlci5yZWdpc3RlcihjYXRlZ29yeVNlbGVjdFNjb3BlKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgV0lER0VUU1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4V2lkZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLnNlYXJjaE1vZHVsZS5pbmRleFdpZGdldENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpemU6IFszLCAxXSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLlNlYXJjaCkvU2NyaXB0cy93aWRnZXRzL2luZGV4LXdpZGdldC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaW50ZWdyYXRpb246IGluZGV4IGluIHByb2R1Y3QgZGV0YWlsc1xyXG4gICAgICAgICAgICAgICAgdmFyIHdpZGdldFRvUmVnaXN0ZXIgPSBhbmd1bGFyLmV4dGVuZCh7fSwgaW5kZXhXaWRnZXQsIHsgZG9jdW1lbnRUeXBlOiAnUHJvZHVjdCcgfSk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHdpZGdldFRvUmVnaXN0ZXIsICdpdGVtRGV0YWlsJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBpbnRlZ3JhdGlvbjogaW5kZXggaW4gQ0FURUdPUlkgZGV0YWlsc1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0VG9SZWdpc3RlciA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBpbmRleFdpZGdldCwgeyBkb2N1bWVudFR5cGU6ICdDYXRlZ29yeScgfSk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHdpZGdldFRvUmVnaXN0ZXIsICdjYXRlZ29yeURldGFpbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFnZ3JlZ2F0aW9uIHByb3BlcnRpZXMgaW4gc3RvcmUgZGV0YWlsc1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hZ2dyZWdhdGlvblByb3BlcnRpZXNXaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvd2lkZ2V0cy9hZ2dyZWdhdGlvblByb3BlcnRpZXNXaWRnZXQudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9LCAnc3RvcmVEZXRhaWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwcmVkZWZpbmUgc2VhcmNoIGZpbHRlcnMgZm9yIGNhdGFsb2cgc2VhcmNoXHJcbiAgICAgICAgICAgICAgICBwcmVkZWZpbmVkU2VhcmNoRmlsdGVycy5yZWdpc3RlcigxNDc3NTg0MDAwMDAwLCAnY2F0YWxvZ1NlYXJjaEZpbHRlcnNEYXRlJywgW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtbGlzdC5sYWJlbHMuZmlsdGVyLW5ldycgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleXdvcmQ6ICcnLCBzZWFyY2hJblZhcmlhdGlvbnM6IHRydWUsIGlkOiA1LCBuYW1lOiAnY2F0YWxvZy5ibGFkZXMuY2F0ZWdvcmllcy1pdGVtcy1saXN0LmxhYmVscy5maWx0ZXItZGlzcGxheS12YXJpYXRpb25zJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5d29yZDogJ2lzOmhpZGRlbicsIGlkOiA0LCBuYW1lOiAnY2F0YWxvZy5ibGFkZXMuY2F0ZWdvcmllcy1pdGVtcy1saXN0LmxhYmVscy5maWx0ZXItbm90QWN0aXZlJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5d29yZDogJ3ByaWNlX3VzZDpbMTAwIFRPIDIwMF0nLCBpZDogMywgbmFtZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtbGlzdC5sYWJlbHMuZmlsdGVyLXByaWNlUmFuZ2UnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXl3b3JkOiAnaXM6cHJpY2VkJywgaWQ6IDIsIG5hbWU6ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yaWVzLWl0ZW1zLWxpc3QubGFiZWxzLmZpbHRlci13aXRoUHJpY2UnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBrZXl3b3JkOiAnaXM6dW5wcmljZWQnLCBpZDogMSwgbmFtZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtbGlzdC5sYWJlbHMuZmlsdGVyLXByaWNlbGVzcycgfVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgaXRlbSB0eXBlc1xyXG4gICAgICAgICAgICAgICAgaXRlbVR5cGVzUmVzb2x2ZXJTZXJ2aWNlLnJlZ2lzdGVyVHlwZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVR5cGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yaWVzLWl0ZW1zLWFkZC5tZW51LnBoeXNpY2FsLXByb2R1Y3QudGl0bGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnY2F0YWxvZy5ibGFkZXMuY2F0ZWdvcmllcy1pdGVtcy1hZGQubWVudS5waHlzaWNhbC1wcm9kdWN0LmRlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VHlwZTogJ1BoeXNpY2FsJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLWJveCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaXRlbVR5cGVzUmVzb2x2ZXJTZXJ2aWNlLnJlZ2lzdGVyVHlwZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbVR5cGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yaWVzLWl0ZW1zLWFkZC5tZW51LmRpZ2l0YWwtcHJvZHVjdC50aXRsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yaWVzLWl0ZW1zLWFkZC5tZW51LmRpZ2l0YWwtcHJvZHVjdC5kZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFR5cGU6ICdEaWdpdGFsJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLWZpbGUtZG93bmxvYWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGl0ZW1UeXBlc1Jlc29sdmVyU2VydmljZS5yZWdpc3RlclR5cGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1UeXBlOiAnY2F0YWxvZy5ibGFkZXMuY2F0ZWdvcmllcy1pdGVtcy1hZGQubWVudS5iaWxsLW9mLW1hdGVyaWFscy1wcm9kdWN0LnRpdGxlJyxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtYWRkLm1lbnUuYmlsbC1vZi1tYXRlcmlhbHMtcHJvZHVjdC5kZXNjcmlwdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFR5cGU6ICdCaWxsT2ZNYXRlcmlhbHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYXIgZmEtbGlzdC1hbHQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL21ldGEtZm9ybSB1c2VkIGZvciBhbGwgY2F0YWxvZywgY2F0ZWdvcnkgYW5kIGl0ZW0gZmllbGRzIGlucHV0LlxyXG4gICAgICAgICAgICAgICAgbWV0YUZvcm1zU2VydmljZS5yZWdpc3Rlck1ldGFGaWVsZHMoXCJjYXRhbG9nRGV0YWlsXCIsIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ25hbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLmNhdGFsb2ctZGV0YWlsLmxhYmVscy5jYXRhbG9nLW5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjYXRhbG9nLmJsYWRlcy5jYXRhbG9nLWRldGFpbC5wbGFjZWhvbGRlcnMuZW50ZXItbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiU2hvcnRUZXh0XCJcclxuICAgICAgICAgICAgICAgIH1dKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjYXRlZ29yeSBkZXRhaWwgbWV0YS1maWVsZHNcclxuICAgICAgICAgICAgICAgIG1ldGFGb3Jtc1NlcnZpY2UucmVnaXN0ZXJNZXRhRmllbGRzKFwiY2F0ZWdvcnlEZXRhaWxcIiwgW3tcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnaXNBY3RpdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLmNhdGVnb3J5LWRldGFpbC5sYWJlbHMuaXMtYWN0aXZlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiQm9vbGVhblwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5jYXRlZ29yeS1kZXRhaWwubGFiZWxzLm5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjYXRhbG9nLmJsYWRlcy5jYXRlZ29yeS1kZXRhaWwucGxhY2Vob2xkZXJzLm5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIlNob3J0VGV4dFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLmNhdGVnb3J5LWRldGFpbC5sYWJlbHMuY29kZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvZGUuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BhbkFsbENvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidGF4VHlwZS5odG1sXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3ByaW9yaXR5JyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5jYXRlZ29yeS1kZXRhaWwubGFiZWxzLnByaW9yaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiY2F0YWxvZy5ibGFkZXMuY2F0ZWdvcnktZGV0YWlsLnBsYWNlaG9sZGVycy5wcmlvcml0eVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIkludGVnZXJcIlxyXG4gICAgICAgICAgICAgICAgfV0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEl0ZW0gZGV0YWlsIGJsYWRlIGhhcyAzIG1ldGFmb3JtczogcHJvZHVjdERldGFpbCwgcHJvZHVjdERldGFpbDEgYW5kIHByb2R1Y3REZXRhaWwyXHJcbiAgICAgICAgICAgICAgICBtZXRhRm9ybXNTZXJ2aWNlLnJlZ2lzdGVyTWV0YUZpZWxkcyhcInByb2R1Y3REZXRhaWxcIiwgW3tcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5pdGVtLWRldGFpbC5sYWJlbHMubmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDYsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwibmFtZS5odG1sXCJcclxuICAgICAgICAgICAgICAgIH1dKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtZXRhRm9ybXNTZXJ2aWNlLnJlZ2lzdGVyTWV0YUZpZWxkcyhcInByb2R1Y3REZXRhaWwxXCIsIFt7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2lkJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5pdGVtLWRldGFpbC5sYWJlbHMuaWRcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVhZE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIlNob3J0VGV4dFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdvdXRlcklkJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5pdGVtLWRldGFpbC5sYWJlbHMub3V0ZXItaWRcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIiBcIixcclxuICAgICAgICAgICAgICAgICAgICBpc1JlYWRPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJTaG9ydFRleHRcIlxyXG4gICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLmxhYmVscy5za3VcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInNrdS5odG1sXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ19wcmlvcml0eScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy5ibGFkZXMuaXRlbS1kZXRhaWwubGFiZWxzLnByaW9yaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiY2F0YWxvZy5ibGFkZXMuaXRlbS1kZXRhaWwucGxhY2Vob2xkZXJzLnByaW9yaXR5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiSW50ZWdlclwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLmxhYmVscy5ndGluXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogNixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJndGluLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgfV0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG1ldGFGb3Jtc1NlcnZpY2UucmVnaXN0ZXJNZXRhRmllbGRzKFwicHJvZHVjdERldGFpbDJcIiwgW3tcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5pdGVtLWRldGFpbC5sYWJlbHMuc3RhcnQtZGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwic3RhcnREYXRlLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5pdGVtLWRldGFpbC5sYWJlbHMuZW5kLWRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImVuZERhdGUuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdpc0J1eWFibGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLmxhYmVscy5jYW4tYmUtcHVyY2hhc2VkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiQm9vbGVhblwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdpc0FjdGl2ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy5ibGFkZXMuaXRlbS1kZXRhaWwubGFiZWxzLnN0b3JlLXZpc2libGVcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJCb29sZWFuXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3RyYWNrSW52ZW50b3J5JyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5pdGVtLWRldGFpbC5sYWJlbHMudHJhY2staW52ZW50b3J5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlRm46IGJsYWRlID0+IGJsYWRlLml0ZW0ucHJvZHVjdFR5cGUgIT09ICdEaWdpdGFsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJCb29sZWFuXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2hhc1VzZXJBZ3JlZW1lbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLmxhYmVscy5oYXMtdXNlci1hZ3JlZW1lbnRcIixcclxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGVGbjogYmxhZGUgPT4gYmxhZGUuaXRlbS5wcm9kdWN0VHlwZSA9PT0gJ0RpZ2l0YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIkJvb2xlYW5cIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbWluUXVhbnRpdHknLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLmxhYmVscy5taW4tcXVhbnRpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGVGbjogYmxhZGUgPT4gYmxhZGUuaXRlbS5wcm9kdWN0VHlwZSAhPT0gJ0RpZ2l0YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIkludGVnZXJcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbWF4UXVhbnRpdHknLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLmxhYmVscy5tYXgtcXVhbnRpdHlcIixcclxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGVGbjogYmxhZGUgPT4gYmxhZGUuaXRlbS5wcm9kdWN0VHlwZSAhPT0gJ0RpZ2l0YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIkludGVnZXJcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLmxhYmVscy5kb3dubG9hZC10eXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlRm46IGJsYWRlID0+IGJsYWRlLml0ZW0ucHJvZHVjdFR5cGUgPT09ICdEaWdpdGFsJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJkb3dubG9hZFR5cGUuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtYXhOdW1iZXJPZkRvd25sb2FkJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5pdGVtLWRldGFpbC5sYWJlbHMubWF4LWRvd25sb2Fkc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZUZuOiBibGFkZSA9PiBibGFkZS5pdGVtLnByb2R1Y3RUeXBlID09PSAnRGlnaXRhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiSW50ZWdlclwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdkb3dubG9hZEV4cGlyYXRpb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLmxhYmVscy5leHBpcmF0aW9uLWRhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjYXRhbG9nLmJsYWRlcy5pdGVtLWRldGFpbC5wbGFjZWhvbGRlcnMuZXhwaXJhdGlvbi1kYXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlRm46IGJsYWRlID0+IGJsYWRlLml0ZW0ucHJvZHVjdFR5cGUgPT09ICdEaWdpdGFsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJEYXRlVGltZVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbFNwYW46IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BhbkFsbENvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwidmVuZG9yLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYW5BbGxDb2x1bW5zOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInRheFR5cGUuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICB9XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbWV0YUZvcm1zU2VydmljZS5yZWdpc3Rlck1ldGFGaWVsZHMoJ1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZ01vZHVsZS5Db3JlLk1vZGVsLkV4cG9ydC5FeHBvcnRhYmxlUHJvZHVjdCcgKyAnRXhwb3J0RmlsdGVyJywgW1xyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NhdGFsb2dTZWxlY3RvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuc2VsZWN0b3JzLnRpdGxlcy5jYXRhbG9nc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvc2VsZWN0b3JzL2NhdGFsb2ctc2VsZWN0b3IudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjYXRlZ29yeVNlbGVjdG9yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy5zZWxlY3RvcnMudGl0bGVzLmNhdGVnb3JpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3NlbGVjdG9ycy9jYXRlZ29yeS1zZWxlY3Rvci50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3NlYXJjaEluVmFyaWF0aW9ucycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuc2VsZWN0b3JzLnRpdGxlcy5zZWFyY2gtaW4tdmFyaWF0aW9uc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiQm9vbGVhblwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdzZWFyY2hJbkNoaWxkcmVuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy5zZWxlY3RvcnMudGl0bGVzLnNlYXJjaC1pbi1jaGlsZHJlblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiQm9vbGVhblwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbWV0YUZvcm1zU2VydmljZS5yZWdpc3Rlck1ldGFGaWVsZHMoJ1ZpcnRvQ29tbWVyY2UuQ2F0YWxvZ01vZHVsZS5Db3JlLk1vZGVsLkV4cG9ydC5FeHBvcnRhYmxlQ2F0YWxvZ0Z1bGwnICsgJ0V4cG9ydEZpbHRlcicsIFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjYXRhbG9nU2VsZWN0b3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLnNlbGVjdG9ycy50aXRsZXMuY2F0YWxvZ3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3NlbGVjdG9ycy9jYXRhbG9nLXNlbGVjdG9yLnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGdlbmVyaWNWaWV3ZXJJdGVtU2VydmljZS5yZWdpc3RlclZpZXdlcignQ2F0YWxvZ1Byb2R1Y3QnLCBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtQ29weSA9IGFuZ3VsYXIuY29weShpdGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiaXRlbW1EZXRhaWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUlkOiBpdGVtQ29weS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFR5cGU6IGl0ZW1Db3B5LnByb2R1Y3RUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbUNvcHkubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtRGV0YWlsQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaXRlbS1kZXRhaWwudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRodHRwLmdldCgnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9kaXJlY3RpdmVzL2l0ZW1TZWFyY2gudHBsLmh0bWwnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbXBpbGUgdGhlIHJlc3BvbnNlLCB3aGljaCB3aWxsIHB1dCBzdHVmZiBpbnRvIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICAgICAgICAgICRjb21waWxlKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2F0YWxvZ0V4cG9ydFNlcnZpY2UucmVnaXN0ZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdHZW5lcmljIEV4cG9ydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdFeHBvcnQgcHJvZHVjdHMgZmlsdGVyZWQgYnkgY2F0YWxvZ3Mgb3IgY2F0ZWdvcmllcyB0byBKU09OIG9yIENTVicsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhLWZ3IGZhIGZhLWRhdGFiYXNlJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5leHBvcnRNb2R1bGUuZXhwb3J0U2V0dGluZ3NDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkV4cG9ydCkvU2NyaXB0cy9ibGFkZXMvZXhwb3J0LXNldHRpbmdzLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBpZDogJ2NhdGFsb2dHZW5lcmljRXhwb3J0JyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmV4cG9ydGVyLnByb2R1Y3RUaXRsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5leHBvcnRlci5wcm9kdWN0U3VidGl0bGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIG9uSW5pdGlhbGl6ZTogZnVuY3Rpb24gKG5ld0JsYWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHBvcnREYXRhUmVxdWVzdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydFR5cGVOYW1lOiAnVmlydG9Db21tZXJjZS5DYXRhbG9nTW9kdWxlLkNvcmUuTW9kZWwuRXhwb3J0LkV4cG9ydGFibGVQcm9kdWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFRdWVyeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cG9ydFR5cGVOYW1lOiAnUHJvZHVjdEV4cG9ydERhdGFRdWVyeScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZHM6IF8ucGx1Y2sobmV3QmxhZGUuc2VsZWN0ZWRDYXRlZ29yaWVzLCAnaWQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RJZHM6IF8ucGx1Y2sobmV3QmxhZGUuc2VsZWN0ZWRQcm9kdWN0cywgJ2lkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ0lkczogW25ld0JsYWRlLmNhdGFsb2cuaWRdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEluQ2hpbGRyZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBbGxTZWxlY3RlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS5leHBvcnREYXRhUmVxdWVzdCA9IGV4cG9ydERhdGFSZXF1ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS50b3RhbEl0ZW1zQ291bnQgPSAobmV3QmxhZGUuc2VsZWN0ZWRQcm9kdWN0cyB8fCBbXSkubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XSk7XHJcbiIsIi8vIENhbGwgdGhpcyB0byByZWdpc3RlciB5b3VyIG1vZHVsZSB0byBtYWluIGFwcGxpY2F0aW9uXG52YXIgbW9kdWxlTmFtZSA9IFwidmlydG9Db21tZXJjZS5jYXRhbG9nQnVsa0FjdGlvbnNNb2R1bGVcIjtcblxuaWYgKEFwcERlcGVuZGVuY2llcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgQXBwRGVwZW5kZW5jaWVzLnB1c2gobW9kdWxlTmFtZSk7XG59XG5cbmFuZ3VsYXIubW9kdWxlKG1vZHVsZU5hbWUsIFtdKVxuICAgIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLFxuICAgICAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgICAgICAgICAuc3RhdGUoJ3dvcmtzcGFjZS52aXJ0b0NvbW1lcmNlQ2F0YWxvZ0J1bGtBY3Rpb25zTW9kdWxlU3RhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy92aXJ0b0NvbW1lcmNlLmNhdGFsb2dCdWxrQWN0aW9uc01vZHVsZScsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9jb21tb24vdGVtcGxhdGVzL2hvbWUudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2JsYWRlMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dCdWxrQWN0aW9uc01vZHVsZS5oZWxsb1dvcmxkQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKHZpcnRvQ29tbWVyY2UuY2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaGVsbG8td29ybGQuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2xvc2luZ0Rpc2FibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIF0pXG4gICAgLnJ1bihbXG4gICAgICAgICckcm9vdFNjb3BlJyxcbiAgICAgICAgJ3BsYXRmb3JtV2ViQXBwLm1haW5NZW51U2VydmljZScsXG4gICAgICAgICdwbGF0Zm9ybVdlYkFwcC53aWRnZXRTZXJ2aWNlJyxcbiAgICAgICAgJyRzdGF0ZScsICdwbGF0Zm9ybVdlYkFwcC50b29sYmFyU2VydmljZScsXG4gICAgICAgICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJyxcbiAgICAgICAgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nQnVsa0FjdGlvblNlcnZpY2UnLFxuICAgICAgICAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsXG4gICAgICAgIGZ1bmN0aW9uICgkcm9vdFNjb3BlLFxuICAgICAgICAgICAgbWFpbk1lbnVTZXJ2aWNlLFxuICAgICAgICAgICAgd2lkZ2V0U2VydmljZSxcbiAgICAgICAgICAgICRzdGF0ZSxcbiAgICAgICAgICAgIHRvb2xiYXJTZXJ2aWNlLFxuICAgICAgICAgICAgYmxhZGVVdGlscyxcbiAgICAgICAgICAgIGNhdGFsb2dCdWxrQWN0aW9uU2VydmljZSxcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcblxuICAgICAgICAgICAgZnVuY3Rpb24gaXNJdGVtc0NoZWNrZWQoYmxhZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JpZEFwaSA9IGJsYWRlLiRzY29wZS5ncmlkQXBpO1xuICAgICAgICAgICAgICAgIHJldHVybiBncmlkQXBpICYmIF8uYW55KGdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9SZWdpc3RlciBtb2R1bGUgaW4gbWFpbiBtZW51XG4gICAgICAgICAgICAvL3ZhciBtZW51SXRlbSA9IHtcbiAgICAgICAgICAgIC8vICAgIHBhdGg6ICdicm93c2UvdmlydG9Db21tZXJjZS5jYXRhbG9nQnVsa0FjdGlvbnNNb2R1bGUnLFxuICAgICAgICAgICAgLy8gICAgaWNvbjogJ2ZhIGZhLWN1YmUnLFxuICAgICAgICAgICAgLy8gICAgdGl0bGU6ICdWaXJ0b0NvbW1lcmNlLkNhdGFsb2dCdWxrQWN0aW9uc01vZHVsZScsXG4gICAgICAgICAgICAvLyAgICBwcmlvcml0eTogMTAwLFxuICAgICAgICAgICAgLy8gICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7ICRzdGF0ZS5nbygnd29ya3NwYWNlLnZpcnRvQ29tbWVyY2VDYXRhbG9nQnVsa0FjdGlvbnNNb2R1bGVTdGF0ZScpOyB9LFxuICAgICAgICAgICAgLy8gICAgcGVybWlzc2lvbjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ0J1bGtBY3Rpb25zTW9kdWxlLldlYlBlcm1pc3Npb24nXG4gICAgICAgICAgICAvL307XG4gICAgICAgICAgICAvL21haW5NZW51U2VydmljZS5hZGRNZW51SXRlbShtZW51SXRlbSk7XG5cbiAgICAgICAgICAgIGNhdGFsb2dCdWxrQWN0aW9uU2VydmljZS5yZWdpc3Rlcih7XG4gICAgICAgICAgICAgICAgbmFtZTogJ0NhdGVnb3J5Q2hhbmdlQnVsa0FjdGlvbicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jaGFuZ2VDYXRlZ29yeUFjdGlvblN0ZXBzQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQodmlydG9Db21tZXJjZS5jYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9hY3Rpb24tY2hhbmdlLWNhdGVnb3J5LnRwbC5odG1sJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhdGFsb2dCdWxrQWN0aW9uU2VydmljZS5yZWdpc3Rlcih7XG4gICAgICAgICAgICAgICAgbmFtZTogJ1Byb3BlcnRpZXNVcGRhdGVCdWxrQWN0aW9uJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmVkaXRQcm9wZXJ0aWVzQWN0aW9uQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQodmlydG9Db21tZXJjZS5jYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9hY3Rpb24tZWRpdC1wcm9wZXJ0aWVzLnRwbC5odG1sJ1xuICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgdG9vbGJhclNlcnZpY2UucmVnaXN0ZXIoe1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiQnVsayBBY3Rpb25zXCIsIGljb246ICdmYSBmYS1jdWJlcycsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKGJsYWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBncmlkQXBpID0gYmxhZGUuJHNjb3BlLmdyaWRBcGk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBibGFkZS5maWx0ZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjYXRhbG9nQnVsa0FjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXRhbG9nQnVsa0FjdGlvbnMuYmxhZGVzLmV4cG9ydGVyLWxpc3QudGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nQnVsa0FjdGlvbnMuYmxhZGVzLmV4cG9ydGVyLWxpc3Quc3VidGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYWN0aW9uTGlzdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQodmlydG9Db21tZXJjZS5jYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9hY3Rpb24tbGlzdC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFByb2R1Y3RzOiBfLmZpbHRlcihncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PT0gJ3Byb2R1Y3QnIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDYXRlZ29yaWVzOiBfLmZpbHRlcihncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PT0gJ2NhdGVnb3J5JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFRdWVyeToge31cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0QWxsU3RhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlYXJjaERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ3JpdGVyaWE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ0lkOiBibGFkZS5jYXRhbG9nSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQ6IGJsYWRlLmNhdGVnb3J5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXdvcmQ6IGZpbHRlci5rZXl3b3JkID8gZmlsdGVyLmtleXdvcmQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaEluVmFyaWF0aW9uczogZmlsdGVyLnNlYXJjaEluVmFyaWF0aW9ucyA/IGZpbHRlci5zZWFyY2hJblZhcmlhdGlvbnMgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VHcm91cDogJ3dpdGhDYXRlZ29yaWVzLCB3aXRoUHJvZHVjdHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NvcnQ6IHVpR3JpZEhlbHBlci5nZXRTb3J0RXhwcmVzc2lvbigkc2NvcGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NraXA6ICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Rha2U6ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5ld0JsYWRlLmRhdGFRdWVyeSwgc2VhcmNoRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cmllczogZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5ld0JsYWRlLmRhdGFRdWVyeSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlKTtcblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNJdGVtc0NoZWNrZWQsXG4gICAgICAgICAgICAgICAgaW5kZXg6IDIwXG4gICAgICAgICAgICB9LCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3JpZXNJdGVtc0xpc3RDb250cm9sbGVyJyk7XG4gICAgICAgIH1cbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jaGFuZ2VDYXRlZ29yeUFjdGlvblN0ZXBzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR0cmFuc2xhdGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICckbG9jYWxTdG9yYWdlJywgZnVuY3Rpb24gKCRzY29wZSwgJHRyYW5zbGF0ZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgJGxvY2FsU3RvcmFnZSkge1xuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgIGJsYWRlLmNhblN0YXJ0UHJvY2VzcyA9IGZhbHNlO1xuICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICBibGFkZS5zZWxlY3RlZENhdGVnb3J5ID0gbnVsbDtcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKCkge1xuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBibGFkZS5hY3Rpb25EYXRhQ29udGV4dCA9IGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgICAgIGNhdGVnb3J5SWQ6IG51bGwsXG4gICAgICAgICAgICBjYXRhbG9nSWQ6IG51bGxcbiAgICAgICAgfSwgYmxhZGUuYWN0aW9uRGF0YUNvbnRleHQpO1xuXG4gICAgICAgICRzY29wZS5zdGFydEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgcHJvZ3Jlc3NCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiAnYWN0aW9uUHJvZ3Jlc3MnLFxuICAgICAgICAgICAgdGl0bGU6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dCdWxrQWN0aW9uc01vZHVsZS5ibGFkZXMuYWN0aW9uLXByb2dyZXNzLnRpdGxlJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYnVsa0FjdGlvblByb2dyZXNzQ29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJCh2aXJ0b0NvbW1lcmNlLmNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2J1bGstYWN0aW9uLXByb2dyZXNzLnRwbC5odG1sJyxcbiAgICAgICAgICAgIGFjdGlvbkRhdGFDb250ZXh0OiBibGFkZS5hY3Rpb25EYXRhQ29udGV4dCxcbiAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKHByb2dyZXNzQmxhZGUsIGJsYWRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2VsZWN0Q2F0ZWdvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gW2JsYWRlLmFjdGlvbkRhdGFDb250ZXh0LmNhdGVnb3J5SWRdO1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgc2hvd0NoZWNraW5nTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFsbG93Q2hlY2tpbmdDYXRlZ29yeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhbGxvd0NoZWNraW5nSXRlbTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSWRzOiBzZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgY2hlY2tJdGVtRm46IGZ1bmN0aW9uIChsaXN0SXRlbSwgaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmZpbmQoc2VsZWN0aW9uLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCA9PT0gbGlzdEl0ZW0uaWQ7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLnB1c2gobGlzdEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnNlbGVjdGVkQ2F0ZWdvcnkgPSBsaXN0SXRlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5hY3Rpb25EYXRhQ29udGV4dC5jYXRlZ29yeUlkID0gbGlzdEl0ZW0uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuYWN0aW9uRGF0YUNvbnRleHQuY2F0YWxvZ0lkID0gbGlzdEl0ZW0uY2F0YWxvZ0lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gXy5yZWplY3Qoc2VsZWN0aW9uLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geCA9PT0gbGlzdEl0ZW0uaWQ7IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogXCJDYXRhbG9nSXRlbXNTZWxlY3RcIixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dJdGVtU2VsZWN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQodmlydG9Db21tZXJjZS5jYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jb21tb24vY2F0YWxvZy1pdGVtcy1zZWxlY3QudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnY2F0YWxvZy5zZWxlY3RvcnMuYmxhZGVzLnRpdGxlcy5zZWxlY3QtY2F0ZWdvcmllcycsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBicmVhZGNydW1iczogW10sXG4gICAgICAgICAgICAgICAgdG9vbGJhckNvbW1hbmRzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuY29uZmlybVwiLCBpY29uOiAnZmEgZmEtY2hlY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKHBpY2tpbmdCbGFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmNhblN0YXJ0UHJvY2VzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKHBpY2tpbmdCbGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmFueShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlc2V0XCIsIGljb246ICdmYSBmYS11bmRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uIChwaWNraW5nQmxhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jYXRlZ29yeUlkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKHBpY2tpbmdCbGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmFueShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnZhbGlkYXRlQWN0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5ibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS11cGxvYWQnO1xuICAgICAgICBpbml0aWFsaXplQmxhZGUoKTtcbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmVkaXRQcm9wZXJ0aWVzQWN0aW9uQ29udHJvbGxlcicsIFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckdHJhbnNsYXRlJyxcbiAgICAgICAgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLFxuICAgICAgICAnJGxvY2FsU3RvcmFnZScsXG4gICAgICAgICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dCdWxrQWN0aW9uc01vZHVsZS53ZWJBcGknLFxuICAgICAgICBmdW5jdGlvbiAoXG4gICAgICAgICAgICAkc2NvcGUsXG4gICAgICAgICAgICAkdHJhbnNsYXRlLFxuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSxcbiAgICAgICAgICAgICRsb2NhbFN0b3JhZ2UsXG4gICAgICAgICAgICB3ZWJBcGkpXG4gICAgICAgIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICBibGFkZS5jYW5TdGFydFByb2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgYmxhZGUuaXNQcm9wZXJ0aWVzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgYmxhZGUucHJvcGVydGllcyA9IFtdO1xuICAgICAgICBibGFkZS5pbmNsdWRlZFByb3BlcnRpZXMgPSBbXTtcbiAgICAgICAgYmxhZGUucHJvcGVydHlTZWxlY3RlZCA9IDA7XG5cbiAgICAgICAgYmxhZGUuYWN0aW9uRGF0YUNvbnRleHQgPSBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgICAgICBlZGl0ZWRQcm9wZXJ0aWVzIDoge31cbiAgICAgICAgfSwgYmxhZGUuYWN0aW9uRGF0YUNvbnRleHQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZSgpIHtcbiAgICAgICAgICAgIHdlYkFwaS5nZXRBY3Rpb25EYXRhKGJsYWRlLmFjdGlvbkRhdGFDb250ZXh0LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucHJvcGVydGllcyA9IGRhdGEucHJvcGVydGllcztcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucHJvcGVydHlUb3RhbCA9IGRhdGEucHJvcGVydGllcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChibGFkZS5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3AuaWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocHJvcC5uYW1lID09PSAnVmVuZG9yJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLm5hbWUgPT09ICdUYXhUeXBlJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLm5hbWUgPT09ICdNZWFzdXJlVW5pdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcC5uYW1lID09PSAnUGFja2FnZVR5cGUnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3AubmFtZSA9PT0gJ1dlaWdodFVuaXQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLlVzZURlZmF1bHRVSUZvckVkaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLlVzZURlZmF1bHRVSUZvckVkaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLnZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wLm93bmVyTmFtZSA9PT0gJ05hdGl2ZSBwcm9wZXJ0aWVzJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wLmdyb3VwID0gJ05hdGl2ZSBwcm9kdWN0IHByb3BlcnRpZXMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3AuZ3JvdXAgPSAnRXh0ZW5kZWQgcHJvcGVydGllcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnN0YXJ0QWN0aW9uID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3NCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogJ2FjdGlvblByb2dyZXNzJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ0J1bGtBY3Rpb25zTW9kdWxlLmJsYWRlcy5hY3Rpb24tcHJvZ3Jlc3MudGl0bGUnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYnVsa0FjdGlvblByb2dyZXNzQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQodmlydG9Db21tZXJjZS5jYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9idWxrLWFjdGlvbi1wcm9ncmVzcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgYWN0aW9uRGF0YUNvbnRleHQ6IGJsYWRlLmFjdGlvbkRhdGFDb250ZXh0LFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKHByb2dyZXNzQmxhZGUsIGJsYWRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2VsZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogJ3Byb3BlcnRpZXNTZWxlY3RvcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0aWVzU2VsZWN0b3JDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJCh2aXJ0b0NvbW1lcmNlLmNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3N0ZXAtc2VsZWN0LXByb3BlcnRpZXMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IGJsYWRlLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZWRQcm9wZXJ0aWVzIDogYmxhZGUuaW5jbHVkZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIG9uU2VsZWN0ZWQ6IGZ1bmN0aW9uIChpbmNsdWRlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaW5jbHVkZWRQcm9wZXJ0aWVzID0gaW5jbHVkZWRQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5wcm9wZXJ0eVNlbGVjdGVkID0gaW5jbHVkZWRQcm9wZXJ0aWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNQcm9wZXJ0aWVzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdFByb3BlcnRpZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5lZGl0UHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogJ3Byb3BlcnRpZXNFZGl0b3InLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuZWRpdFByb3BlcnRpZXNBY3Rpb25TdGVwQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQodmlydG9Db21tZXJjZS5jYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9zdGVwLWVkaXQtcHJvcGVydGllcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogYmxhZGUuaW5jbHVkZWRQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIHByb3BHcm91cHM6IFt7IHRpdGxlOiAnY2F0YWxvZy5wcm9wZXJ0aWVzLnByb2R1Y3QnLCB0eXBlOiAnUHJvZHVjdCcgfSwgeyB0aXRsZTogJ2NhdGFsb2cucHJvcGVydGllcy52YXJpYXRpb24nLCB0eXBlOiAnVmFyaWF0aW9uJyB9XSxcbiAgICAgICAgICAgICAgICBvblNlbGVjdGVkOiBmdW5jdGlvbiAoZWRpdGVkUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jYW5TdGFydFByb2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5hY3Rpb25EYXRhQ29udGV4dC5wcm9wZXJ0aWVzID0gZWRpdGVkUHJvcGVydGllcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUudmFsaWRhdGVBY3Rpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLXVwbG9hZCc7XG5cbiAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKCk7XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hY3Rpb25MaXN0Q29udHJvbGxlcicsIFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJyxcbiAgICAgICAgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nQnVsa0FjdGlvblNlcnZpY2UnLFxuICAgICAgICAndmlydG9Db21tZXJjZS5jYXRhbG9nQnVsa0FjdGlvbnNNb2R1bGUud2ViQXBpJyxcbiAgICAgICAgZnVuY3Rpb24gKFxuICAgICAgICAgICAgJHNjb3BlLFxuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSxcbiAgICAgICAgICAgIGJ1bGtBY3Rpb25TZXJ2aWNlUmVnaXN0cmFyLFxuICAgICAgICAgICAgd2ViQXBpKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbnVsbDtcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplQmxhZGUoKSB7XG4gICAgICAgICAgICB3ZWJBcGkuZ2V0QWN0aW9ucyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmFjdGlvbnMgPSBfLmVhY2goZGF0YSwgZnVuY3Rpb24gKGFjdGlvbikgeyBibGFkZS5pbml0aWFsaXplQWN0aW9uKGFjdGlvbik7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge307XG4gICAgICAgICAgICBhbmd1bGFyLmNvcHkoZGF0YSwgbmV3QmxhZGUpO1xuXG4gICAgICAgICAgICB2YXIgcmVnaXN0cmF0aW9uSW5mbyA9IGJ1bGtBY3Rpb25TZXJ2aWNlUmVnaXN0cmFyLmdldEJ5TmFtZShkYXRhLm5hbWUpO1xuICAgICAgICAgICAgaWYgKCFyZWdpc3RyYXRpb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignQ2FuXFwndCBmaW5kIGNvbnRyb2xsZXIgZm9yIGFjdGlvbiAnICsgZGF0YS5uYW1lLCBibGFkZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld0JsYWRlLmNvbnRyb2xsZXIgPSByZWdpc3RyYXRpb25JbmZvLmNvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgbmV3QmxhZGUudGVtcGxhdGUgPSByZWdpc3RyYXRpb25JbmZvLnRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtdXBsb2FkJztcbiAgICAgICAgJHNjb3BlLmJsYWRlLnRpdGxlID0gXCJCdWxrIGFjdGlvbiBsaXN0XCI7XG4gICAgICAgICRzY29wZS5ibGFkZS5zdWJ0aXRsZSA9IFwiU2VsZWN0IGFjdGlvbiBmb3IgYnVsayBvcGVyYXRpb25cIjtcblxuXG4gICAgICAgIGJsYWRlLmluaXRpYWxpemVBY3Rpb24gPSBmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgIGFjdGlvbi50aXRsZSA9ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dCdWxrQWN0aW9uc01vZHVsZS5hY3Rpb25zLnR5cGVzLicgKyBhY3Rpb24ubmFtZSArICcudGl0bGUnO1xuICAgICAgICAgICAgYWN0aW9uLnN1YnRpdGxlID0gJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ0J1bGtBY3Rpb25zTW9kdWxlLmFjdGlvbnMudHlwZXMuJyArIGFjdGlvbi5uYW1lICsgJy5zdWJ0aXRsZSc7XG4gICAgICAgICAgICBhY3Rpb24uaWQgPSBhY3Rpb24ubmFtZTtcbiAgICAgICAgICAgIGFjdGlvbi5pY29uID0gJ2ZhIGZhLWNvZ3MnO1xuICAgICAgICAgICAgYWN0aW9uLmFjdGlvbkRhdGFDb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRleHRUeXBlTmFtZTogYWN0aW9uLmNvbnRleHRUeXBlTmFtZSxcbiAgICAgICAgICAgICAgICBkYXRhUXVlcnk6IGJsYWRlLmRhdGFRdWVyeVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbml0aWFsaXplQmxhZGUoKTtcbiAgICB9XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYWR2YW5jZWRTZWFyY2hSZXN1bHRzQ29udHJvbGxlcicsIFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJGZpbHRlcicsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcmllcycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbXMnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmxpc3RFbnRyaWVzJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc2NvcGUsICRmaWx0ZXIsIGNhdGVnb3JpZXMsIGl0ZW1zLCBsaXN0RW50cmllcywgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgZGlhbG9nU2VydmljZSkge1xuXG4gICAgJHNjb3BlLmJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRzY29wZS5ibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICB2YXIgc2tpcCA9ICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50O1xuICAgICAgICBsaXN0RW50cmllcy5saXN0aXRlbXNzZWFyY2goXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2F0YWxvZ0lkOiAkc2NvcGUuYmxhZGUuY2F0YWxvZ0lkLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQ6ICRzY29wZS5ibGFkZS5jYXRlZ29yeUlkLFxuICAgICAgICAgICAgICAgIC8vIHByb3BlcnR5VmFsdWVzOiAuLi4uICxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdyb3VwOiAnd2l0aFByb2R1Y3RzJyxcbiAgICAgICAgICAgICAgICBza2lwOiBza2lwLFxuICAgICAgICAgICAgICAgIHRha2U6ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnRcbiAgICAgICAgICAgIH0sXG5cdFx0ZnVuY3Rpb24gKGRhdGEsIGhlYWRlcnMpIHtcblx0XHQgICAgJHNjb3BlLmJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXHRcdCAgICAkc2NvcGUucGFnZVNldHRpbmdzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsQ291bnQ7XG5cdFx0ICAgICRzY29wZS5pdGVtcyA9IGRhdGEubGlzdEVudHJpZXM7XG5cdFx0fSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0ICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsICRzY29wZS5ibGFkZSk7XG5cdFx0fSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNJdGVtc0NoZWNrZWQoKSB7XG4gICAgICAgIHJldHVybiAkc2NvcGUuaXRlbXMgJiYgXy5hbnkoJHNjb3BlLml0ZW1zLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5zZWxlY3RlZDsgfSk7XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gbGlzdEl0ZW07XG4gICAgfTtcblxuICAgICRzY29wZS5ibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICB7XG4gICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZWZyZXNoXCIsIGljb246ICdmYSBmYS1yZWZyZXNoJyxcbiAgICAgICAgICBleGVjdXRlTWV0aG9kOiBibGFkZS5yZWZyZXNoLFxuICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG5cbiAgICAvL05vIG5lZWQgdG8gY2FsbCB0aGlzIGJlY2F1c2UgcGFnZSAncGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlJyBpcyB3YXRjaGVkISEhIEl0IHdvdWxkIHRyaWdnZXIgc3Vic2VxdWVudCBkdXBsaWNhdGVkIHJlcS4uLlxuICAgIC8vJHNjb3BlLmJsYWRlLnJlZnJlc2goKTtcbn1dKTsiLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYWR2YW5jZWRTZWFyY2hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGZpbHRlcicsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUubGlzdEVudHJpZXMnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsICRmaWx0ZXIsIGxpc3RFbnRyaWVzLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIHByb3BlcnR5VmFsdWVzID0gdW5kZWZpbmVkO1xuICAgICRzY29wZS5maWx0ZXIgPSB7IHNlYXJjaEtleXdvcmQ6IHVuZGVmaW5lZCB9O1xuXG4gICAgJHNjb3BlLmJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRzY29wZS5ibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgIC8vU2V0IGZpbHRlcnNcbiAgICAgICAgcHJlcGFyZUZpbHRlcigpO1xuXG4gICAgICAgIHZhciBzZWFyY2hSZXN1bHQgPSBsaXN0RW50cmllcy5saXN0aXRlbXNzZWFyY2goeyBjYXRlZ29yeUlkOiAkc2NvcGUuZmlsdGVyLmNhdGVnb3J5SWQsIGNhdGFsb2dJZDogJHNjb3BlLmZpbHRlci5jYXRhbG9nSWQsIGtleXdvcmQ6ICRzY29wZS5maWx0ZXIuc2VhcmNoS2V5d29yZCwgcHJvcGVydHlWYWx1ZXM6ICRzY29wZS5maWx0ZXIucHJvcFZhbHVlcywgcmVzcG9uc2VHcm91cDogJ3dpdGhDYXRhbG9ncywgd2l0aENhdGVnb3JpZXMsIHdpdGhQcm9wZXJ0aWVzJywgc2tpcDogMCwgdGFrZTogMCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIGFkZGluZyByb290IGVsZW1lbnRcbiAgICAgICAgICAgIHZhciByb290Tm9kZSA9IHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogc2VhcmNoUmVzdWx0LnRyZWVOb2Rlc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICRzY29wZS50cmVlID0gW3Jvb3ROb2RlXTtcblxuICAgICAgICAgICAgLy9wb3B1bGF0ZSBwcm9wZXJ0eSBmaWx0ZXIgcGFuZWxcbiAgICAgICAgICAgICRzY29wZS5wcm9wZXJ0eVZhbHVlR3JvdXBzID0gcHJlcGFyZVByb3BlcnR5VmFsdWVHcm91cHMocHJvcGVydHlWYWx1ZXMsIHNlYXJjaFJlc3VsdC5wcm9wZXJ0eVZhbHVlcyk7XG4gICAgICAgICAgICBwcm9wZXJ0eVZhbHVlcyA9IHNlYXJjaFJlc3VsdC5wcm9wZXJ0eVZhbHVlcztcbiAgICAgICAgICAgICRzY29wZS5jaGVja2VkUHJvcFZhbHVlcyA9IGdldEFsbENoZWNrZWRQcm9wVmFsdWVzKHByb3BlcnR5VmFsdWVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsICRzY29wZS5ibGFkZSk7IH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUucmVmcmVzaEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1NldCBmaWx0ZXJzXG4gICAgICAgIHByZXBhcmVGaWx0ZXIoKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiBcInNlYXJjaFJlc3VsdHNcIixcbiAgICAgICAgICAgIHRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuYWR2YW5jZWQtc2VhcmNoLXJlc3VsdHMudGl0bGUnLFxuICAgICAgICAgICAgc3VidGl0bGU6ICcnLFxuICAgICAgICAgICAgZmlsdGVyOiAkc2NvcGUuZmlsdGVyLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hZHZhbmNlZFNlYXJjaFJlc3VsdHNDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvYWR2YW5jZWQtc2VhcmNoLXJlc3VsdHMudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCAkc2NvcGUuYmxhZGUpO1xuICAgIH07XG5cbiAgICAkc2NvcGUudW5jaGVja0FsbFByb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuY2hlY2tlZFByb3BWYWx1ZXMsIGZ1bmN0aW9uIChjaGVja2VkUHJvcFZhbHVlKSB7XG4gICAgICAgICAgICBjaGVja2VkUHJvcFZhbHVlLmlzQ2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgJHNjb3BlLnVwZGF0ZVNlbGVjdGVkUHJvcFZhbHVlcygpO1xuICAgICAgICAkc2NvcGUucmVmcmVzaEl0ZW1zKCk7XG4gICAgfTtcblxuICAgICRzY29wZS51cGRhdGVTZWxlY3RlZFByb3BWYWx1ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRzY29wZS5jaGVja2VkUHJvcFZhbHVlcyA9IGdldEFsbENoZWNrZWRQcm9wVmFsdWVzKHByb3BlcnR5VmFsdWVzKTtcbiAgICB9O1xuICAgIFxuICAgIGZ1bmN0aW9uIHByZXBhcmVGaWx0ZXIoKSB7XG4gICAgICAgIC8vU2V0IGZpbHRlcnNcbiAgICAgICAgLy9pZiAoc2VsZWN0ZWROb2RlICE9IG51bGwpIHtcbiAgICAgICAgLy8gICAgJHNjb3BlLmZpbHRlci5jYXRlZ29yeVBhdGggPSBzZWxlY3RlZE5vZGUucGF0aDtcbiAgICAgICAgLy8gICAgaWYgKHNlbGVjdGVkTm9kZS50eXBlID09IFwiY2F0YWxvZ1wiKSB7XG4gICAgICAgIC8vICAgICAgICAkc2NvcGUuZmlsdGVyLmNhdGVnb3J5SWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8vICAgICAgICAkc2NvcGUuZmlsdGVyLmNhdGFsb2dJZCA9IHNlbGVjdGVkTm9kZS5pZDtcbiAgICAgICAgLy8gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gICAgICAgICRzY29wZS5maWx0ZXIuY2F0ZWdvcnlJZCA9IHNlbGVjdGVkTm9kZS5pZDtcbiAgICAgICAgLy8gICAgICAgICRzY29wZS5maWx0ZXIuY2F0YWxvZ0lkID0gc2VsZWN0ZWROb2RlLmNhdGFsb2dJZDtcbiAgICAgICAgLy8gICAgfVxuICAgICAgICAvL31cbiAgICAgICAgLy8kc2NvcGUuZmlsdGVyLnByb3BWYWx1ZXMgPSBnZXRBbGxDaGVja2VkUHJvcFZhbHVlcyhwcm9wZXJ0eVZhbHVlcyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldEFsbENoZWNrZWRQcm9wVmFsdWVzKHByb3BWYWx1ZXMpIHtcbiAgICAgICAgdmFyIHJldFZhbCA9IFtdO1xuICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJvcFZhbHVlcywgZnVuY3Rpb24gKHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHByb3BWYWx1ZS5pc0NoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICByZXRWYWwucHVzaChwcm9wVmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXRWYWw7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByZXBhcmVQcm9wZXJ0eVZhbHVlR3JvdXBzKG9sZFByb3BlcnR5VmFsdWVzLCBuZXdQcm9wVmFsdWVzKSB7XG4gICAgICAgIHZhciByZXRWYWwgPSB7fTtcbiAgICAgICAgdmFyIGNoZWNrZWRQcm9wVmFsdWVzID0gZ2V0QWxsQ2hlY2tlZFByb3BWYWx1ZXMob2xkUHJvcGVydHlWYWx1ZXMpO1xuICAgICAgICBhbmd1bGFyLmZvckVhY2gobmV3UHJvcFZhbHVlcywgZnVuY3Rpb24gKHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQocmV0VmFsW3Byb3BWYWx1ZS5wcm9wZXJ0eU5hbWVdKSkge1xuICAgICAgICAgICAgICAgIHJldFZhbFtwcm9wVmFsdWUucHJvcGVydHlOYW1lXSA9IHsgcHJvcFZhbHVlczogW10sIHNob3dBbGw6IGZhbHNlIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0VmFsW3Byb3BWYWx1ZS5wcm9wZXJ0eU5hbWVdLnByb3BWYWx1ZXMucHVzaChwcm9wVmFsdWUpO1xuICAgICAgICAgICAgcHJvcFZhbHVlLmlzQ2hlY2tlZCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKGNoZWNrZWRQcm9wVmFsdWVzLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHZhbHVlLnByb3BlcnR5TmFtZSA9PSBwcm9wVmFsdWUucHJvcGVydHlOYW1lICYmIHZhbHVlLnZhbHVlID09IHByb3BWYWx1ZS52YWx1ZTsgfSkubGVuZ3RoID4gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXRWYWw7XG4gICAgfTtcblxuICAgIC8vIGFjdGlvbnMgb24gbG9hZFxuICAgICRzY29wZS5ibGFkZS5yZWZyZXNoKCk7XG4gICAgJHNjb3BlLnJlZnJlc2hJdGVtcygpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hZ2dyZWdhdGlvblByb3BlcnR5RGV0YWlsc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hZ2dyZWdhdGlvblByb3BlcnRpZXMnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBhZ2dyZWdhdGlvblByb3BlcnRpZXMpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgYmxhZGUudXBkYXRlUGVybWlzc2lvbiA9ICdzdG9yZTp1cGRhdGUnO1xuICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLWdlYXInO1xuXG4gICAgdmFyIGF0dHJpYnV0ZVR5cGUgPSBcIkF0dHJpYnV0ZVwiO1xuICAgIHZhciByYW5nZVR5cGUgPSBcIlJhbmdlXCI7XG4gICAgdmFyIHByaWNlUmFuZ2VUeXBlID0gXCJQcmljZVJhbmdlXCI7XG4gICAgYmxhZGUucHJvcGVydHlUeXBlcyA9IFthdHRyaWJ1dGVUeXBlLCByYW5nZVR5cGVdO1xuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKCkge1xuICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IHRydWU7XG4gICAgICAgIGJsYWRlLm9yaWdpbmFsUHJvcGVydHkgPSBibGFkZS5wcm9wZXJ0eTtcbiAgICAgICAgYmxhZGUucHJvcGVydHkgPSBhbmd1bGFyLmNvcHkoYmxhZGUucHJvcGVydHkpO1xuXG4gICAgICAgIGJsYWRlLnZhbHVlcyA9IFtdO1xuXG4gICAgICAgIGFnZ3JlZ2F0aW9uUHJvcGVydGllcy5nZXRWYWx1ZXMoeyBzdG9yZUlkOiBibGFkZS5zdG9yZUlkLCBwcm9wZXJ0eU5hbWU6IGJsYWRlLm9yaWdpbmFsUHJvcGVydHkubmFtZSB9LCBmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgYmxhZGUudmFsdWVzID0gcmVzdWx0cztcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yOiAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGJsYWRlLmlzUmFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBibGFkZS5wcm9wZXJ0eS50eXBlICE9PSBhdHRyaWJ1dGVUeXBlO1xuICAgIH07XG5cbiAgICBibGFkZS5jYW5DaGFuZ2VUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gYmxhZGUucHJvcGVydHkudHlwZSAhPT0gcHJpY2VSYW5nZVR5cGU7XG4gICAgfTtcblxuICAgIGJsYWRlLmNhbkNoYW5nZVNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhYmxhZGUuaXNSYW5nZSgpO1xuICAgIH07XG5cbiAgICBibGFkZS5nZXRWYWx1ZXMgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgICAgaWYgKGJsYWRlLmlzUmFuZ2UoKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBpZiAoc2VhcmNoICYmICFpc05hTihzZWFyY2gpICYmIGFuZ3VsYXIuaXNOdW1iZXIoK3NlYXJjaCkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudW5zaGlmdChzZWFyY2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gYmxhZGUudmFsdWVzO1xuICAgICAgICAgICAgaWYgKHNlYXJjaCAmJiByZXN1bHQuaW5kZXhPZihzZWFyY2gpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGJsYWRlLnZhbHVlcy5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHJlc3VsdC51bnNoaWZ0KHNlYXJjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLnByb3BlcnR5LCBibGFkZS5vcmlnaW5hbFByb3BlcnR5KSAmJiBibGFkZS5oYXNVcGRhdGVQZXJtaXNzaW9uKCk7XG4gICAgfVxuICAgIFxuICAgIGJsYWRlLm9uQ2xvc2UgPSBmdW5jdGlvbiAoY2xvc2VDYWxsYmFjaykge1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIHRydWUsIGJsYWRlLCAkc2NvcGUuc2F2ZUNoYW5nZXMsIGNsb3NlQ2FsbGJhY2ssIFwiU2F2ZSBjaGFuZ2VzXCIsIFwiVGhlIHByb3BlcnR5IHNldHRpbmdzIGhhdmUgYmVlbiBtb2RpZmllZC4gRG8geW91IHdhbnQgdG8gc2F2ZSBjaGFuZ2VzP1wiKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUucHJvcGVydHksIGJsYWRlLm9yaWdpbmFsUHJvcGVydHkpO1xuICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgIH07XG5cbiAgICBpbml0aWFsaXplQmxhZGUoKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYWdncmVnYXRpb25Qcm9wZXJ0aWVzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYWdncmVnYXRpb25Qcm9wZXJ0aWVzJywgZnVuY3Rpb24gKCRzY29wZSwgZGlhbG9nU2VydmljZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgYWdncmVnYXRpb25Qcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgIGJsYWRlLnVwZGF0ZVBlcm1pc3Npb24gPSAnc3RvcmU6dXBkYXRlJztcblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZSgpIHtcbiAgICAgICAgYWdncmVnYXRpb25Qcm9wZXJ0aWVzLmdldFByb3BlcnRpZXMoeyBzdG9yZUlkOiBibGFkZS5zdG9yZUlkIH0sIGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMgPSBhbmd1bGFyLmNvcHkocmVzdWx0cyk7XG4gICAgICAgICAgICBibGFkZS5vcmlnRW50aXR5ID0gcmVzdWx0cztcblxuICAgICAgICAgICAgYmxhZGUuc2VsZWN0ZWRFbnRpdGllcyA9IF8ud2hlcmUoYmxhZGUuY3VycmVudEVudGl0aWVzLCB7IGlzU2VsZWN0ZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICBibGFkZS5vcmlnU2VsZWN0ZWQgPSBhbmd1bGFyLmNvcHkoYmxhZGUuc2VsZWN0ZWRFbnRpdGllcyk7XG5cbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmxhZGUuZWRpdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiBcImFnZ3JlZ2F0aW9uUHJvcGVydHlEZXRhaWxzXCIsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmFnZ3JlZ2F0aW9uUHJvcGVydHlEZXRhaWxzQ29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2FnZ3JlZ2F0aW9uLXByb3BlcnRpZXMtZGV0YWlscy50cGwuaHRtbCcsXG4gICAgICAgICAgICB0aXRsZTogbm9kZS5uYW1lLFxuICAgICAgICAgICAgc3RvcmVJZDogYmxhZGUuc3RvcmVJZCxcbiAgICAgICAgICAgIHByb3BlcnR5OiBub2RlXG4gICAgICAgIH07XG4gICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgfTtcblxuICAgIGJsYWRlLnNlbGVjdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIG5vZGUuaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIGJsYWRlLnNlbGVjdGVkRW50aXRpZXMucHVzaChub2RlKTtcbiAgICB9O1xuXG4gICAgYmxhZGUudW5zZWxlY3QgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBub2RlLmlzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgYmxhZGUuc2VsZWN0ZWRFbnRpdGllcy5zcGxpY2UoYmxhZGUuc2VsZWN0ZWRFbnRpdGllcy5pbmRleE9mKG5vZGUpLCAxKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNEaXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVxdWFscyhibGFkZS5zZWxlY3RlZEVudGl0aWVzLCBibGFkZS5vcmlnU2VsZWN0ZWQpICYmIGJsYWRlLmhhc1VwZGF0ZVBlcm1pc3Npb24oKTtcbiAgICB9XG4gICAgXG4gICAgYmxhZGUub25DbG9zZSA9IGZ1bmN0aW9uIChjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbklmTmVlZGVkKGlzRGlydHkoKSwgdHJ1ZSwgYmxhZGUsICRzY29wZS5zYXZlQ2hhbmdlcywgY2xvc2VDYWxsYmFjaywgXCJTYXZlIGNoYW5nZXNcIiwgXCJUaGUgcHJvcGVydGllcyBzZWxlY3Rpb24gaGFzIGJlZW4gbW9kaWZpZWQuIERvIHlvdSB3YW50IHRvIGNvbmZpcm0gY2hhbmdlcz9cIik7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICBhZ2dyZWdhdGlvblByb3BlcnRpZXMuc2V0UHJvcGVydGllcyh7IHN0b3JlSWQ6IGJsYWRlLnN0b3JlSWQgfSwgYmxhZGUuc2VsZWN0ZWRFbnRpdGllcywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXRpZXMsIGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLnNlbGVjdGVkRW50aXRpZXMsIGJsYWRlLm9yaWdTZWxlY3RlZCk7XG4gICAgICAgICAgICAvLyAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3I6ICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJTYXZlXCIsIGljb246ICdmYXMgZmEtc2F2ZScsXG4gICAgICAgICAgICBleGVjdXRlTWV0aG9kOiAkc2NvcGUuc2F2ZUNoYW5nZXMsXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBpc0RpcnR5XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiUmVzZXRcIiwgaWNvbjogJ2ZhIGZhLXVuZG8nLFxuICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5vcmlnRW50aXR5LCBibGFkZS5jdXJyZW50RW50aXRpZXMpO1xuICAgICAgICAgICAgICAgIGJsYWRlLnNlbGVjdGVkRW50aXRpZXMgPSBfLndoZXJlKGJsYWRlLmN1cnJlbnRFbnRpdGllcywgeyBpc1NlbGVjdGVkOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5zZWxlY3RlZEVudGl0aWVzLCBibGFkZS5vcmlnU2VsZWN0ZWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzRGlydHlcbiAgICAgICAgICAgIC8vIHBlcm1pc3Npb246ICdjYXRhbG9nOnVwZGF0ZSdcbiAgICAgICAgfVxuICAgIF07XG5cbiAgICAkc2NvcGUuc29ydGFibGVPcHRpb25zID0ge1xuICAgICAgICBheGlzOiAneScsXG4gICAgICAgIGN1cnNvcjogXCJtb3ZlXCJcbiAgICB9O1xuXG4gICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtZ2Vhcic7XG4gICAgaW5pdGlhbGl6ZUJsYWRlKCk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmJpbGxPZk1hdGVyaWFsc0xpc3RDb250cm9sbGVyJyxcbiAgICAgICAgWyckc2NvcGUnLCAnJHRpbWVvdXQnLFxuICAgICAgICAgICAgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAudWlHcmlkSGVscGVyJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlVXRpbHMnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsXG4gICAgICAgICAgICAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1zJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yaWVzJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hc3NvY2lhdGlvbnMnLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHRpbWVvdXQsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIHVpR3JpZEhlbHBlciwgYmxhZGVVdGlscywgZGlhbG9nU2VydmljZSwgaXRlbXMsIGNhdGVnb3JpZXMsIGFzc29jaWF0aW9ucykge1xuICAgICAgICAgICAgICAgICRzY29wZS51aUdyaWRDb25zdGFudHMgPSB1aUdyaWRIZWxwZXIudWlHcmlkQ29uc3RhbnRzO1xuICAgICAgICAgICAgICAgICRzY29wZS5oYXNNb3JlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhciBmYS1saXN0LWFsdCc7XG4gICAgICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAnY2F0YWxvZy5ibGFkZXMuYmlsbC1vZi1tYXRlcmlhbHMtbGlzdC50aXRsZSc7XG4gICAgICAgICAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnY2F0YWxvZy5ibGFkZXMuYmlsbC1vZi1tYXRlcmlhbHMtbGlzdC5zdWJ0aXRsZSc7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VwSW1hZ2UgPSAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvQ29udGVudC9pbWFnZXMvY3VwLnN2Zyc7XG5cbiAgICAgICAgICAgICAgICBibGFkZS5hc3NvY2lhdGlvblR5cGUgPSBcIkJpbGxPZk1hdGVyaWFsc1wiO1xuICAgICAgICAgICAgICAgIGJsYWRlLmFzc29jaWF0ZWRPYmplY3RUeXBlID0gJ3Byb2R1Y3QnO1xuICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IFtdO1xuICAgICAgICAgICAgICAgIGJsYWRlLmZpbHRlciA9IHt9O1xuXG4gICAgICAgICAgICAgICAgYmxhZGUuZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc3RhcnRQYWdpbmcoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc3RhcnRQYWdpbmcoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb25zLnNlYXJjaChnZXRTZWFyY2hDcml0ZXJpYSgpLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlQXNzb2NpYXRpb25zRGF0YShkYXRhLnJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzID0gZGF0YS5yZXN1bHRzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaGFzTW9yZSA9IGRhdGEucmVzdWx0cy5sZW5ndGggPT09ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlLXNlbGVjdCB0aGUgbm9kZSBpbiB0aGUgbmV3IGxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE5vZGUgPSBfLmZpbmRXaGVyZShkYXRhLnJlc3VsdHMsIHsgaWQ6IHNlbGVjdGVkTm9kZS5pZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLnJlc2V0U2Nyb2xsKHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwuZGF0YUxvYWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbG9hZE1vcmUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaGFzTW9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgKyskc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwuc2F2ZVNjcm9sbFBlcmNlbnRhZ2UoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb25zLnNlYXJjaChnZXRTZWFyY2hDcml0ZXJpYSgpLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdWxhdGVBc3NvY2lhdGlvbnNEYXRhKGRhdGEucmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzID0gYmxhZGUuY3VycmVudEVudGl0aWVzLmNvbmNhdChkYXRhLnJlc3VsdHMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbENvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5oYXNNb3JlID0gZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5kYXRhTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNlYXJjaENyaXRlcmlhKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5d29yZDogYmxhZGUuZmlsdGVyLmtleXdvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwOiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRha2U6ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RJZHM6IFtibGFkZS5pdGVtLmlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBibGFkZS5hc3NvY2lhdGlvblR5cGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwb3B1bGF0ZUFzc29jaWF0aW9uc0RhdGEocHJvZHVjdEFzc29jaWF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV8uc29tZShwcm9kdWN0QXNzb2NpYXRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUlkcyA9IF8ucGx1Y2socHJvZHVjdEFzc29jaWF0aW9ucywgJ2Fzc29jaWF0ZWRPYmplY3RJZCcpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtcy5wbGVudHkoeyByZXNwR3JvdXA6ICdXaXRoSW1hZ2VzJyB9LCBpdGVtSWRzLCBmdW5jdGlvbiAocHJvZHVjdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bmlxdWVDYXRlZ29yaWVzSWRzID0gXy51bmlxKF8ucGx1Y2socHJvZHVjdHMsICdjYXRlZ29yeUlkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLnBsZW50eSh7IHJlc3BHcm91cDogJ0luZm8nIH0sIHVuaXF1ZUNhdGVnb3JpZXNJZHMsIGZ1bmN0aW9uIChjYXRlZ29yaWVzUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXNzb2NpYXRpb25Qcm9wZXJ0aWVzKHByb2R1Y3RBc3NvY2lhdGlvbnMsIHByb2R1Y3RzLCBjYXRlZ29yaWVzUmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFkZEFzc29jaWF0aW9uUHJvcGVydGllcyhwcm9kdWN0QXNzb2NpYXRpb25zLCBwcm9kdWN0cywgcHJvZHVjdENhdGVnb3JpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKHByb2R1Y3RBc3NvY2lhdGlvbnMsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4LiQkcXVhbnRpdHkgPSB4LnF1YW50aXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgeC5hc3NvY2lhdGVkT2JqZWN0VHlwZSA9IGJsYWRlLmFzc29jaWF0ZWRPYmplY3RUeXBlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF8uZmluZChwcm9kdWN0cywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuaWQgPT09IHguYXNzb2NpYXRlZE9iamVjdElkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeC4kJHByb2R1Y3ROYW1lID0gaXRlbS5uYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeC4kJGNhdGVnb3J5SWQgPSBpdGVtLmNhdGVnb3J5SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeC4kJGNhdGVnb3J5ID0gXy5maW5kKHByb2R1Y3RDYXRlZ29yaWVzLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5pZCA9PT0geC4kJGNhdGVnb3J5SWQ7IH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uaW1hZ2VzICYmIGl0ZW0uaW1hZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LiQkaW1hZ2VVcmwgPSBpdGVtLmltYWdlc1swXS51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHguYXNzb2NpYXRlZE9iamVjdFR5cGUgPT09ICdwcm9kdWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LiQkcHJvZHVjdFR5cGUgPSBpdGVtLnByb2R1Y3RUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5Qcm9kdWN0ID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE5vZGVJZCA9IGxpc3RJdGVtLmFzc29jaWF0ZWRPYmplY3RJZDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2JpbGxPZk1hdGVyaWFsc0RldGFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGxpc3RJdGVtLmFzc29jaWF0ZWRPYmplY3RJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RUeXBlOiBsaXN0SXRlbS4kJHByb2R1Y3RUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbURldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9pdGVtLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNWYWxpZFF1YW50aXR5ID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0SXRlbS5xdWFudGl0eSAmJiBsaXN0SXRlbS5xdWFudGl0eSA+IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZVF1YW50aXR5ID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbS4kJHF1YW50aXR5ICE9PSBsaXN0SXRlbS5xdWFudGl0eSAmJiAkc2NvcGUuaXNWYWxpZFF1YW50aXR5KGxpc3RJdGVtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb25zLnVwZGF0ZShbbGlzdEl0ZW1dLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uJCRxdWFudGl0eSA9IGxpc3RJdGVtLnF1YW50aXR5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVMaXN0ID0gZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImNvbmZpcm1EZWxldGVCb21Bc3NvY2lhaXRvbkl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy5kaWFsb2dzLmJpbGwtb3ItbWF0ZXJpYWxzLWFzc29jaWF0aW9ucy1kZWxldGUudGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJjYXRhbG9nLmRpYWxvZ3MuYmlsbC1vci1tYXRlcmlhbHMtYXNzb2NpYXRpb25zLWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1JZHMgPSBfLnBsdWNrKGxpc3QsICdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbnMuZGVsZXRlKHsgaWRzOiBpdGVtSWRzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhkaWFsb2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuQWRkSXRlbUJsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxvd0NoZWNraW5nQ2F0ZWdvcnk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSWRzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2x1ZGVQcm9kdWN0VHlwZTogJ0JpbGxPZk1hdGVyaWFscycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja0l0ZW1GbjogZnVuY3Rpb24gKGxpc3RJdGVtLCBpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfLmZpbmQoc2VsZWN0aW9uLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZCA9PSBsaXN0SXRlbS5pZDsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5wdXNoKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gXy5yZWplY3Qoc2VsZWN0aW9uLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZCA9PSBsaXN0SXRlbS5pZDsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcIkNhdGFsb2dJdGVtc1NlbGVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nSXRlbVNlbGVjdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jb21tb24vY2F0YWxvZy1pdGVtcy1zZWxlY3QudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXJDb21tYW5kczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5jb25maXJtXCIsIGljb246ICdmYSBmYS1jaGVjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uIChzZWxlY3RCbGFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShzZWxlY3RCbGFkZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlYXJjaCBmb3IgYXNzb2NpYXRlZCBwcm9kdWN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkUHJvZHVjdElkcyA9IF8ucGx1Y2soc2VsZWN0aW9uLCAnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWFyY2hDcml0ZXJpYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWtlOiBzZWxlY3RlZFByb2R1Y3RJZHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdElkczogW2JsYWRlLml0ZW0uaWRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiBibGFkZS5hc3NvY2lhdGlvblR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZE9iamVjdElkczogc2VsZWN0ZWRQcm9kdWN0SWRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbnMuc2VhcmNoKHNlYXJjaENyaXRlcmlhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgYWxyZWFkeSBhc3NvY2lhdGVkIHByb2R1Y3RzLCBpZiBhbnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS50b3RhbENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUHJvZHVjdElkcyA9IF8uZmlsdGVyKHNlbGVjdGVkUHJvZHVjdElkcywgZnVuY3Rpb24gKHByb2R1Y3RJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFfLnNvbWUoZGF0YS5yZXN1bHRzLCBmdW5jdGlvbiAoYXNzb2NpYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvZHVjdElkID09PSBhc3NvY2lhdGlvbi5hc3NvY2lhdGVkT2JqZWN0SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSBvbmx5IHVuaXF1ZSBwcm9kdWN0IGFzc29jaWF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFByb2R1Y3RJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdBc3NvY2lhdGlvbnMgPSBfLm1hcChzZWxlY3RlZFByb2R1Y3RJZHMsIGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGVkT2JqZWN0SWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRPYmplY3RUeXBlOiBibGFkZS5hc3NvY2lhdGVkT2JqZWN0VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGJsYWRlLml0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogYmxhZGUuYXNzb2NpYXRpb25UeXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0aW9ucy51cGRhdGUobmV3QXNzb2NpYXRpb25zLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmFueShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5hZGRcIiwgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkFkZEl0ZW1CbGFkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVMaXN0KCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuZ3JpZEFwaSAmJiBfLmFueSgkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIC8vIHVpLWdyaWRcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZE9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVVdGlscy5pbml0aWFsaXplUGFnaW5hdGlvbigkc2NvcGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50ID0gMjA7XG5cbiAgICAgICAgICAgICAgICAgICAgdWlHcmlkSGVscGVyLmluaXRpYWxpemUoJHNjb3BlLCBncmlkT3B0aW9ucywgZnVuY3Rpb24gKGdyaWRBcGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpID0gZ3JpZEFwaTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdWlHcmlkSGVscGVyLmJpbmRSZWZyZXNoT25Tb3J0Q2hhbmdlZCgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwub24ubmVlZExvYWRNb3JlRGF0YSgkc2NvcGUsIGxvYWRNb3JlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byBjYWxsIHJlZnJlc2ggYWZ0ZXIgZGlnZXN0IGN5Y2xlIGFzIHdlIGRvIG5vdCBcIiR3YXRjaFwiIGZvciAkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYnVsa0FjdGlvblByb2dyZXNzQ29udHJvbGxlcicsIFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJyxcbiAgICAgICAgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ0J1bGtBY3Rpb25zTW9kdWxlLndlYkFwaScsXG4gICAgICAgIGZ1bmN0aW9uIChcbiAgICAgICAgICAgICRzY29wZSxcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICB3ZWJBcGkpXG4gICAgICAgIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtdXBsb2FkJztcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplQmxhZGUoKSB7XG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHdlYkFwaS5ydW5CdWxrQWN0aW9uKGJsYWRlLmFjdGlvbkRhdGFDb250ZXh0LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLm5vdGlmaWNhdGlvbiA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuJG9uKFwibmV3LW5vdGlmaWNhdGlvbi1ldmVudFwiLCBmdW5jdGlvbiAoZXZlbnQsIG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgaWYgKGJsYWRlLm5vdGlmaWNhdGlvbiAmJiBub3RpZmljYXRpb24uaWQgPT09IGJsYWRlLm5vdGlmaWNhdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShub3RpZmljYXRpb24sIGJsYWRlLm5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKG5vdGlmaWNhdGlvbi5lcnJvckNvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdBY3Rpb24gZXJyb3InLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLm5vdGlmaWNhdGlvbi5maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUub25Db21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLm9uQ29tcGxldGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjb21tYW5kQ2FuY2VsID0ge1xuICAgICAgICAgICAgbmFtZTogJ3BsYXRmb3JtLmNvbW1hbmRzLmNhbmNlbCcsXG4gICAgICAgICAgICBpY29uOiAnZmEgZmEtdGltZXMnLFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibGFkZS5ub3RpZmljYXRpb24gJiYgIWJsYWRlLm5vdGlmaWNhdGlvbi5maW5pc2hlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgd2ViQXBpLmNhbmNlbCh7IGpvYklkOiBibGFkZS5ub3RpZmljYXRpb24uam9iSWQgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbY29tbWFuZENhbmNlbF07XG4gICAgICAgIGluaXRpYWxpemVCbGFkZSgpO1xuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0J1bGtBY3Rpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uTGlzdCA9IFtdO1xuICAgICAgICB2YXIgcmV0VmFsID0ge1xuICAgICAgICAgICAgZ2V0QnlOYW1lOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfLmZpbmQocmVnaXN0cmF0aW9uTGlzdCwgZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGluZm8ubmFtZSA9PT0gbmFtZX0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiAocmVnaXN0cmF0aW9uSW5mbykge1xuXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gXy5maW5kSW5kZXgocmVnaXN0cmF0aW9uTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGluZm8ubmFtZSA9PT0gcmVnaXN0cmF0aW9uSW5mby5uYW1lOyB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25MaXN0W2luZGV4XSA9IHJlZ2lzdHJhdGlvbkluZm87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZWdpc3RyYXRpb25MaXN0LnB1c2gocmVnaXN0cmF0aW9uSW5mbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmV0VmFsO1xuICAgIH0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dBZGRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBjYXRhbG9ncykge1xuXG4gICAgJHNjb3BlLmFkZENhdGFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhdGFsb2dzLm5ld0NhdGFsb2coe30sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICdjYXRhbG9nRWRpdCcsXG4gICAgICAgICAgICAgICAgaXNOZXc6IHRydWUsXG4gICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogZGF0YSxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGFsb2ctZGV0YWlsLnRpdGxlLW5ldycsXG4gICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRhbG9nLWRldGFpbC5zdWJ0aXRsZS1uZXcnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0RldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvY2F0YWxvZy1kZXRhaWwudHBsLmh0bWwnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgJHNjb3BlLmJsYWRlLnBhcmVudEJsYWRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsICRzY29wZS5ibGFkZSk7IH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuYWRkVmlydHVhbENhdGFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhdGFsb2dzLm5ld1ZpcnR1YWxDYXRhbG9nKHt9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiAnY2F0YWxvZ0VkaXQnLFxuICAgICAgICAgICAgICAgIGlzTmV3OiB0cnVlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IGRhdGEsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRhbG9nLWRldGFpbC50aXRsZS1uZXctdmlydHVhbCcsXG4gICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRhbG9nLWRldGFpbC5zdWJ0aXRsZS12aXJ0dWFsJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZpcnR1YWxDYXRhbG9nRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jYXRhbG9nLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgJHNjb3BlLmJsYWRlLnBhcmVudEJsYWRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsICRzY29wZS5ibGFkZSk7IH0pO1xuICAgIH07XG4gICAgXG4gICAgJHNjb3BlLmJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXHJcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dEZXRhaWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLCAncGxhdGZvcm1XZWJBcHAubWV0YUZvcm1zU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGNhdGFsb2dzLCBtZXRhRm9ybXNTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xyXG4gICAgICAgIGJsYWRlLnVwZGF0ZVBlcm1pc3Npb24gPSAnY2F0YWxvZzp1cGRhdGUnO1xyXG5cclxuICAgICAgICBibGFkZS5tZXRhRmllbGRzID0gbWV0YUZvcm1zU2VydmljZS5nZXRNZXRhRmllbGRzKFwiY2F0YWxvZ0RldGFpbFwiKTtcclxuXHJcbiAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uIChwYXJlbnRSZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2F0YWxvZ3MuZ2V0KHsgaWQ6IGJsYWRlLmN1cnJlbnRFbnRpdHlJZCB9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZShkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLmNoaWxkcmVuQmxhZGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChibGFkZS5jaGlsZHJlbkJsYWRlcywgZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4LnJlZnJlc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnJlZnJlc2goYmxhZGUuY3VycmVudEVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFJlZnJlc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZShkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmICghYmxhZGUuaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5jb3B5KGRhdGEpO1xyXG4gICAgICAgICAgICBibGFkZS5vcmlnRW50aXR5ID0gZGF0YTtcclxuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJsYWRlLnNlY3VyaXR5U2NvcGVzID0gZGF0YS5zZWN1cml0eVNjb3BlcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpICYmIGJsYWRlLmhhc1VwZGF0ZVBlcm1pc3Npb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNhblNhdmUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0RpcnR5KCkgJiYgZm9ybVNjb3BlICYmIGZvcm1TY29wZS4kdmFsaWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZm9ybVNjb3BlO1xyXG4gICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHsgZm9ybVNjb3BlID0gZm9ybTsgfVxyXG5cclxuICAgICAgICAkc2NvcGUuY2FuY2VsQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHksIGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xyXG4gICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJsYWRlLmlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICBjYXRhbG9ncy5zYXZlKHt9LCBibGFkZS5jdXJyZW50RW50aXR5LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTmV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHlJZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVUb29sYmFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRzdGVyT3B0cy5tYXhSb3dzID0gMzsgLy8gZm9yY2UgcmUtaW5pdGlhbGl6aW5nIHRoZSB3aWRnZXRzXHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2F0YWxvZ3MudXBkYXRlKHt9LCBibGFkZS5jdXJyZW50RW50aXR5LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYmxhZGUub25DbG9zZSA9IGZ1bmN0aW9uIChjbG9zZUNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbklmTmVlZGVkKGlzRGlydHkoKSwgY2FuU2F2ZSgpLCBibGFkZSwgJHNjb3BlLnNhdmVDaGFuZ2VzLCBjbG9zZUNhbGxiYWNrLCBcImNhdGFsb2cuZGlhbG9ncy5jYXRhbG9nLXNhdmUudGl0bGVcIiwgXCJjYXRhbG9nLmRpYWxvZ3MuY2F0YWxvZy1zYXZlLm1lc3NhZ2VcIik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVRvb2xiYXIoKSB7XHJcbiAgICAgICAgICAgIGlmICghYmxhZGUuaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLCBpY29uOiAnZmFzIGZhLXNhdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogY2FuU2F2ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlc2V0XCIsIGljb246ICdmYSBmYS11bmRvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHksIGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBpc0RpcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmdyaWRzdGVyT3B0cyA9IHsgY29sdW1uczogMyB9O1xyXG5cclxuICAgICAgICBpbml0aWFsaXplVG9vbGJhcigpO1xyXG4gICAgICAgIGJsYWRlLnJlZnJlc2goZmFsc2UpO1xyXG4gICAgfV0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0xhbmd1YWdlc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgc2V0dGluZ3MsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgYmxhZGUudXBkYXRlUGVybWlzc2lvbiA9ICdjYXRhbG9nOnVwZGF0ZSc7XG4gICAgdmFyIHByb21pc2UgPSBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLkxhbmd1YWdlcycgfSkuJHByb21pc2U7XG4gICAgJHNjb3BlLmxhbmd1YWdlcyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKGRhdGEpIHtcbiAgICAgICAgYmxhZGUuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChwcm9taXNlRGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmxhbmd1YWdlcyA9IHByb21pc2VEYXRhO1xuXG4gICAgICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gXy5maW5kKHByb21pc2VEYXRhLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50b0xvd2VyQ2FzZSgpID09PSBkYXRhLmRlZmF1bHRMYW5ndWFnZS5sYW5ndWFnZUNvZGUudG9Mb3dlckNhc2UoKTsgfSk7XG4gICAgICAgICAgICB2YXIgbGFuZ3VhZ2VzID0gXy5wbHVjayhkYXRhLmxhbmd1YWdlcywgJ2xhbmd1YWdlQ29kZScpO1xuXG4gICAgICAgICAgICB2YXIgbmV3TW9kZWwgPSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZXM6IF8ud2l0aG91dChsYW5ndWFnZXMsIGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBuZXdNb2RlbDtcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBhbmd1bGFyLmNvcHkobmV3TW9kZWwpO1xuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGJsYWRlLm9uQ2xvc2UgPSBmdW5jdGlvbiAoY2xvc2VDYWxsYmFjaykge1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIHRydWUsIGJsYWRlLCAkc2NvcGUuc2F2ZUNoYW5nZXMsIGNsb3NlQ2FsbGJhY2ssIFwiY2F0YWxvZy5kaWFsb2dzLmxhbmd1YWdlLXNhdmUudGl0bGVcIiwgXCJjYXRhbG9nLmRpYWxvZ3MubGFuZ3VhZ2Utc2F2ZS5tZXNzYWdlXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpICYmIGJsYWRlLmhhc1VwZGF0ZVBlcm1pc3Npb24oKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNhbmNlbENoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBibGFkZS5vcmlnRW50aXR5O1xuICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgIH1cblxuICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFibGFkZS5oYXNVcGRhdGVQZXJtaXNzaW9uKCkpIHJldHVybjtcblxuICAgICAgICB2YXIgc2VsZWN0ZWRWYWx1ZXMgPSBfLm1hcChibGFkZS5jdXJyZW50RW50aXR5LnNlbGVjdGVkVmFsdWVzLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geyBsYW5ndWFnZUNvZGU6IHggfTsgfSk7XG4gICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBfLmZpbmQoc2VsZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4Lmxhbmd1YWdlQ29kZS50b0xvd2VyQ2FzZSgpID09PSBibGFkZS5jdXJyZW50RW50aXR5LmRlZmF1bHRWYWx1ZS50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgZGVmYXVsdFZhbHVlLmlzRGVmYXVsdCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VDb2RlOiBibGFkZS5jdXJyZW50RW50aXR5LmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICBpc0RlZmF1bHQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlcy5wdXNoKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBibGFkZS5kYXRhLmRlZmF1bHRMYW5ndWFnZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgYmxhZGUuZGF0YS5sYW5ndWFnZXMgPSBzZWxlY3RlZFZhbHVlcztcblxuICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICRzY29wZS5ibGFkZUNsb3NlKCk7XG4gICAgfTtcblxuICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLWxhbmd1YWdlJztcblxuICAgICRzY29wZS5vcGVuRGljdGlvbmFyeVNldHRpbmdNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICBpZDogJ3NldHRpbmdEZXRhaWxDaGlsZCcsXG4gICAgICAgICAgICBpc0FwaVNhdmU6IHRydWUsXG4gICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6ICdWaXJ0b0NvbW1lcmNlLkNvcmUuR2VuZXJhbC5MYW5ndWFnZXMnLFxuICAgICAgICAgICAgcGFyZW50UmVmcmVzaDogZnVuY3Rpb24gKGRhdGEpIHsgJHNjb3BlLmxhbmd1YWdlcyA9IGRhdGE7IH0sXG4gICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ0RpY3Rpb25hcnlDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvc2V0dGluZ3MvYmxhZGVzL3NldHRpbmctZGljdGlvbmFyeS50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eScsIGluaXRpYWxpemVCbGFkZSk7XG5cbiAgICAvLyBvbiBsb2FkOiBcbiAgICAvLyAkc2NvcGUuJHdhdGNoKCdibGFkZS5wYXJlbnRCbGFkZS5jdXJyZW50RW50aXR5JyBnZXRzIGZpcmVkXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dzTGlzdENvbnRyb2xsZXInLCBbJyRzY29wZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmF1dGhTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgJyR0aW1lb3V0JyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgY2F0YWxvZ3MsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGRpYWxvZ1NlcnZpY2UsIGF1dGhTZXJ2aWNlLCB1aUdyaWRIZWxwZXIsIGJsYWRlVXRpbHMsICR0aW1lb3V0KSB7XG4gICAgICAgICAgICAkc2NvcGUudWlHcmlkQ29uc3RhbnRzID0gdWlHcmlkSGVscGVyLnVpR3JpZENvbnN0YW50cztcbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgICRzY29wZS5oYXNNb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IFtdO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkTm9kZSA9IG51bGw7XG5cbiAgICAgICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlICE9PSAxKVxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID0gMTtcblxuICAgICAgICAgICAgICAgIGNhdGFsb2dzLnNlYXJjaChnZXRTZWFyY2hDcml0ZXJpYSgpLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbENvdW50O1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5oYXNNb3JlID0gZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NlbGVjdCB0aGUgbm9kZSBpbiB0aGUgbmV3IGxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTm9kZSA9IF8uZmluZFdoZXJlKGRhdGEucmVzdWx0cywgeyBpZDogc2VsZWN0ZWROb2RlLmlkIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5yZXNldFNjcm9sbCh0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwuZGF0YUxvYWRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dNb3JlKCkge1xuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaGFzTW9yZSkge1xuICAgICAgICAgICAgICAgICAgICArKyRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2U7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLnNhdmVTY3JvbGxQZXJjZW50YWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ3Muc2VhcmNoKGdldFNlYXJjaENyaXRlcmlhKCksIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IGRhdGEudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IGJsYWRlLmN1cnJlbnRFbnRpdGllcy5jb25jYXQoZGF0YS5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5oYXNNb3JlID0gZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLmRhdGFMb2FkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRTZWFyY2hDcml0ZXJpYSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzb3J0OiB1aUdyaWRIZWxwZXIuZ2V0U29ydEV4cHJlc3Npb24oJHNjb3BlKSxcbiAgICAgICAgICAgICAgICAgICAgc2tpcDogKCRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgLSAxKSAqICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgIHRha2U6ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWROb2RlSWQgPSBzZWxlY3RlZE5vZGUuaWQ7XG5cbiAgICAgICAgICAgICAgICBvcGVuSXRlbXNCbGFkZShub2RlKTtcblxuICAgICAgICAgICAgICAgIC8vIHNldHRpbmcgY3VycmVudCBjYXRhbG9nIHRvIGJlIGdsb2JhbGx5IGF2YWlsYWJsZSBcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNhdGFsb2dzU2VsZWN0ZWRDYXRhbG9nID0gc2VsZWN0ZWROb2RlO1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2F0YWxvZ3NTZWxlY3RlZENhdGVnb3J5SWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBvcGVuSXRlbXNCbGFkZShub2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ2l0ZW1zTGlzdDEnLFxuICAgICAgICAgICAgICAgICAgICBsZXZlbDogMSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWRjcnVtYnM6IGJsYWRlLmJyZWFkY3J1bWJzLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtbGlzdC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcmllc0l0ZW1zTGlzdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2NhdGVnb3JpZXMtaXRlbXMtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaWQpXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5ld0JsYWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuY2F0ZWdvcmllcy1pdGVtcy1saXN0LnN1YnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZVZhbHVlczogeyBuYW1lOiBub2RlLm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRhbG9nSWQ6IG5vZGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZzogbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN1cml0eVNjb3Blczogbm9kZS5zZWN1cml0eVNjb3Blc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChuZXdCbGFkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJLZXl3b3JkOiBmaWx0ZXIua2V5d29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtbGlzdC5zdWJ0aXRsZS1zZWFyY2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlVmFsdWVzOiB7IGtleXdvcmQ6IGZpbHRlci5rZXl3b3JkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLmVkaXRDYXRhbG9nID0gZnVuY3Rpb24gKGNhdGFsb2cpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2F0YWxvZy5pc1ZpcnR1YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hvd1ZpcnR1YWxDYXRhbG9nQmxhZGUoY2F0YWxvZy5pZCwgbnVsbCwgY2F0YWxvZy5uYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaG93Q2F0YWxvZ0JsYWRlKGNhdGFsb2cuaWQsIG51bGwsIGNhdGFsb2cubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUNhdGFsb2cgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcImNvbmZpcm1EZWxldGVcIixcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbm9kZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VDaGlsZHJlbkJsYWRlcyhibGFkZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2dzLmRlbGV0ZSh7IGlkOiBub2RlLmlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dEaWFsb2coZGlhbG9nLFxuICAgICAgICAgICAgICAgICAgICAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9kaWFsb2dzL2RlbGV0ZUNhdGFsb2ctZGlhbG9nLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgJ3BsYXRmb3JtV2ViQXBwLmNvbmZpcm1EaWFsb2dDb250cm9sbGVyJyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93Q2F0YWxvZ0JsYWRlKGlkLCBkYXRhLCB0aXRsZSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICBpZDogJ2NhdGFsb2dFZGl0JyxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRhbG9nLWRldGFpbC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0RldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2NhdGFsb2ctZGV0YWlsLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1ZpcnR1YWxDYXRhbG9nQmxhZGUoaWQsIGRhdGEsIHRpdGxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5OiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuY2F0YWxvZy1kZXRhaWwuc3VidGl0bGUtdmlydHVhbCcsXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnY2F0YWxvZ0VkaXQnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZpcnR1YWxDYXRhbG9nRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvY2F0YWxvZy1kZXRhaWwudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlZnJlc2hcIixcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXJlZnJlc2gnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBibGFkZS5yZWZyZXNoLFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGlmIChhdXRoU2VydmljZS5jaGVja1Blcm1pc3Npb24oJ2NhdGFsb2c6Y3JlYXRlJykpIHtcbiAgICAgICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMuc3BsaWNlKDEsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLXBsdXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWROb2RlSWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbGlzdEl0ZW1DaGlsZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuY2F0YWxvZy1hZGQudGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGFsb2ctYWRkLnN1YnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nQWRkQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvY2F0YWxvZy1hZGQudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2ltcGxlIGFuZCBhZHZhbmNlZCBmaWx0ZXJpbmdcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBibGFkZS5maWx0ZXIgPSB7IGtleXdvcmQ6IG51bGwgfTtcblxuICAgICAgICAgICAgZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLmtleXdvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3Blbkl0ZW1zQmxhZGUoe30pO1xuICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQ2hpbGRyZW5CbGFkZXMoYmxhZGUpO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWROb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWROb2RlSWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2F0YWxvZ3NTZWxlY3RlZENhdGFsb2cgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jYXRhbG9nc1NlbGVjdGVkQ2F0ZWdvcnlJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zZXRHcmlkT3B0aW9ucyA9IGZ1bmN0aW9uIChncmlkT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGJsYWRlVXRpbHMuaW5pdGlhbGl6ZVBhZ2luYXRpb24oJHNjb3BlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50ID0gMjA7XG5cbiAgICAgICAgICAgICAgICB1aUdyaWRIZWxwZXIuaW5pdGlhbGl6ZSgkc2NvcGUsIGdyaWRPcHRpb25zLCBmdW5jdGlvbiAoZ3JpZEFwaSkge1xuICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSBncmlkQXBpIGZvciBjdXJyZW50IGdyaWRcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkgPSBncmlkQXBpO1xuXG4gICAgICAgICAgICAgICAgICAgIHVpR3JpZEhlbHBlci5iaW5kUmVmcmVzaE9uU29ydENoYW5nZWQoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwub24ubmVlZExvYWRNb3JlRGF0YSgkc2NvcGUsIHNob3dNb3JlKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBjYWxsIHJlZnJlc2ggYWZ0ZXIgZGlnZXN0IGN5Y2xlIGFzIHdlIGRvIG5vdCBcIiR3YXRjaFwiIGZvciAkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBhY3Rpb25zIG9uIGxvYWRcbiAgICAgICAgICAgIC8vIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIF0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dzU2VsZWN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9ncycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgY2F0YWxvZ3MsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAvL1RvRG86IEFwcGx5IEluZmluaXRlIHNjcm9sbGluZ1xuICAgICAgICBjYXRhbG9ncy5zZWFyY2goe3Rha2U6IDEwMDB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgaWYgKGJsYWRlLmRvU2hvd0FsbENhdGFsb2dzKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm9iamVjdHMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRzY29wZS5vYmplY3RzID0gXy53aGVyZShkYXRhLnJlc3VsdHMsIHsgaXNWaXJ0dWFsOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7IH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIChzZWxlY3RlZE5vZGUpIHtcbiAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUub25BZnRlckNhdGFsb2dTZWxlY3RlZChzZWxlY3RlZE5vZGUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gYWN0aW9ucyBvbiBsb2FkXG4gICAgYmxhZGUucmVmcmVzaCgpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yaWVzSXRlbXNBZGRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcmllcycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbXMnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1UeXBlc1Jlc29sdmVyU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGNhdGVnb3JpZXMsIGl0ZW1zLCBpdGVtVHlwZXNSZXNvbHZlclNlcnZpY2UpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICB2YXIgcGIgPSBibGFkZS5wYXJlbnRCbGFkZTtcblxuICAgICAgICAkc2NvcGUuYXZhaWxhYmxlVHlwZXMgPSBpdGVtVHlwZXNSZXNvbHZlclNlcnZpY2Uub2JqZWN0cztcblxuICAgICAgICAkc2NvcGUuYWRkQ2F0ZWdvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYXRlZ29yaWVzLm5ld0NhdGVnb3J5KHsgY2F0YWxvZ0lkOiBwYi5jYXRhbG9nSWQsIHBhcmVudENhdGVnb3J5SWQ6IHBiLmNhdGVnb3J5SWQgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwibmV3Q2F0ZWdvcnlXaXphcmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5OiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cud2l6YXJkcy5jYXRlZ29yeS50aXRsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy53aXphcmRzLmNhdGVnb3J5LnN1YnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLm5ld0NhdGVnb3J5V2l6YXJkQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpemFyZHMvbmV3Q2F0ZWdvcnkvY2F0ZWdvcnktd2l6YXJkLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBwYik7XG5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHsgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgJHNjb3BlLmJsYWRlKTsgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZExpbmtlZENhdGVnb3J5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdzZWxlY3RDYXRhbG9nJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRhbG9ncy1zZWxlY3QudGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGFsb2dzLXNlbGVjdC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3NTZWxlY3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jYXRhbG9ncy1zZWxlY3QudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgcGIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmFkZFByb2R1Y3QgPSBmdW5jdGlvbiAocHJvZHVjdFR5cGUpIHtcbiAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQocGIuY2F0ZWdvcnlJZCkpIHtcbiAgICAgICAgICAgICAgICBpdGVtcy5uZXdJdGVtSW5DYXRhbG9nKHsgY2F0YWxvZ0lkOiBwYi5jYXRhbG9nSWQgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0VHlwZSA9IHByb2R1Y3RUeXBlO1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFja0ludmVudG9yeShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd05ld0l0ZW1XaXphcmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCAkc2NvcGUuYmxhZGUpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZW1zLm5ld0l0ZW1JbkNhdGVnb3J5KHsgY2F0YWxvZ0lkOiBwYi5jYXRhbG9nSWQsIGNhdGVnb3J5SWQ6IHBiLmNhdGVnb3J5SWQgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0VHlwZSA9IHByb2R1Y3RUeXBlO1xuICAgICAgICAgICAgICAgICAgICBzZXRUcmFja0ludmVudG9yeShkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd05ld0l0ZW1XaXphcmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCAkc2NvcGUuYmxhZGUpOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBzaG93TmV3SXRlbVdpemFyZChkYXRhKSB7XG4gICAgICAgICAgICAvLyB0YWtlIHByb2R1Y3QgYW5kIHZhcmlhdGlvbiBwcm9wZXJ0aWVzIG9ubHlcbiAgICAgICAgICAgIGRhdGEucHJvcGVydGllcyA9IF8uZmlsdGVyKGRhdGEucHJvcGVydGllcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PT0gJ1Byb2R1Y3QnIHx8IHgudHlwZSA9PT0gJ1ZhcmlhdGlvbic7IH0pO1xuXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICdsaXN0SXRlbURldGFpbCcsXG4gICAgICAgICAgICAgICAgaXRlbTogZGF0YSxcbiAgICAgICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cud2l6YXJkcy5uZXctcHJvZHVjdC50aXRsZVwiLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy53aXphcmRzLm5ldy1wcm9kdWN0LnN1YnRpdGxlJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLm5ld1Byb2R1Y3RXaXphcmRDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvd2l6YXJkcy9uZXdQcm9kdWN0L25ldy1wcm9kdWN0LXdpemFyZC50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgcGIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldFRyYWNrSW52ZW50b3J5KHByb2R1Y3QpIHtcbiAgICAgICAgICAgIGlmIChwcm9kdWN0LnByb2R1Y3RUeXBlID09PSAnRGlnaXRhbCdcbiAgICAgICAgICAgICAgICB8fCBwcm9kdWN0LnByb2R1Y3RUeXBlID09PSAnQmlsbE9mTWF0ZXJpYWxzJykge1xuICAgICAgICAgICAgICAgIHByb2R1Y3QudHJhY2tJbnZlbnRvcnkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcmllc0l0ZW1zTGlzdENvbnRyb2xsZXInLCBbXG4gICAgICAgICckc2Vzc2lvblN0b3JhZ2UnLCAnJGxvY2FsU3RvcmFnZScsICckdGltZW91dCcsICckc2NvcGUnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3JpZXMnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1zJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5saXN0RW50cmllcycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYXV0aFNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAudWlHcmlkSGVscGVyJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9ncycsXG4gICAgICAgIGZ1bmN0aW9uICgkc2Vzc2lvblN0b3JhZ2UsICRsb2NhbFN0b3JhZ2UsICR0aW1lb3V0LCAkc2NvcGUsIGNhdGVnb3JpZXMsIGl0ZW1zLCBsaXN0RW50cmllcywgYmxhZGVVdGlscywgZGlhbG9nU2VydmljZSwgYXV0aFNlcnZpY2UsIHVpR3JpZEhlbHBlciwgY2F0YWxvZ3MpIHtcbiAgICAgICAgICAgICRzY29wZS51aUdyaWRDb25zdGFudHMgPSB1aUdyaWRIZWxwZXIudWlHcmlkQ29uc3RhbnRzO1xuICAgICAgICAgICAgJHNjb3BlLmhhc01vcmUgPSB0cnVlO1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1zID0gW107XG5cbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgIHZhciBibGFkZU5hdmlnYXRpb25TZXJ2aWNlID0gYmxhZGVVdGlscy5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlO1xuICAgICAgICAgICAgaWYgKGJsYWRlLmNhdGFsb2dJZClcbiAgICAgICAgICAgICAgICBibGFkZS5jYXRhbG9nID0gY2F0YWxvZ3MuZ2V0KHsgaWQ6IGJsYWRlLmNhdGFsb2dJZCB9KTtcblxuICAgICAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSAhPT0gMSlcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA9IDE7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoQ3JpdGVyaWEgPSBnZXRTZWFyY2hDcml0ZXJpYSgpO1xuXG4gICAgICAgICAgICAgICAgbGlzdEVudHJpZXMubGlzdGl0ZW1zc2VhcmNoKFxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hDcml0ZXJpYSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUJ5RmlsdGVycyhkYXRhLmxpc3RFbnRyaWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbENvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1zID0gZGF0YS5saXN0RW50cmllcztcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5oYXNNb3JlID0gZGF0YS5saXN0RW50cmllcy5sZW5ndGggPT09ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU2V0IG5hdmlnYXRpb24gYnJlYWRjcnVtYnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJyZWFkY3J1bWJzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy9yZXNldCBzdGF0ZSBncmlkXG4gICAgICAgICAgICAgICAgcmVzZXRTdGF0ZUdyaWQoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93TW9yZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmhhc01vcmUpIHtcblxuICAgICAgICAgICAgICAgICAgICArKyRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2U7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLnNhdmVTY3JvbGxQZXJjZW50YWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYXJjaENyaXRlcmlhID0gZ2V0U2VhcmNoQ3JpdGVyaWEoKTtcblxuICAgICAgICAgICAgICAgICAgICBsaXN0RW50cmllcy5saXN0aXRlbXNzZWFyY2goXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hDcml0ZXJpYSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtQnlGaWx0ZXJzKGRhdGEubGlzdEVudHJpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IGRhdGEudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXRlbXMgPSAkc2NvcGUuaXRlbXMuY29uY2F0KGRhdGEubGlzdEVudHJpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5oYXNNb3JlID0gZGF0YS5saXN0RW50cmllcy5sZW5ndGggPT09ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwuZGF0YUxvYWRlZCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YWl0IGZvciBncmlkIHRvIGluZ2VzdCBkYXRhIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RBbGxTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uc2VsZWN0QWxsUm93cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2VhcmNoIENyaXRlcmlhXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRTZWFyY2hDcml0ZXJpYSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoQ3JpdGVyaWEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGFsb2dJZDogYmxhZGUuY2F0YWxvZ0lkLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUlkOiBibGFkZS5jYXRlZ29yeUlkLFxuICAgICAgICAgICAgICAgICAgICBrZXl3b3JkOiBmaWx0ZXIua2V5d29yZCA/IGZpbHRlci5rZXl3b3JkIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hJblZhcmlhdGlvbnM6IGZpbHRlci5zZWFyY2hJblZhcmlhdGlvbnMgPyBmaWx0ZXIuc2VhcmNoSW5WYXJpYXRpb25zIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlR3JvdXA6ICd3aXRoQ2F0ZWdvcmllcywgd2l0aFByb2R1Y3RzJyxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogdWlHcmlkSGVscGVyLmdldFNvcnRFeHByZXNzaW9uKCRzY29wZSksXG4gICAgICAgICAgICAgICAgICAgIHNraXA6ICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICB0YWtlOiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoQ3JpdGVyaWE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vQnJlYWRjcnVtYnNcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldEJyZWFkY3J1bWJzKCkge1xuICAgICAgICAgICAgICAgIC8vQ2xvbmUgYXJyYXkgKGFuZ3VsYXIuY29weSBsZWF2ZSBhIHNhbWUgcmVmZXJlbmNlKVxuICAgICAgICAgICAgICAgIGJsYWRlLmJyZWFkY3J1bWJzID0gYmxhZGUuYnJlYWRjcnVtYnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWJsYWRlLmNhdGFsb2dJZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgLy9jYXRhbG9nIGJyZWFkY3J1bWIgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgIHZhciBicmVhZENydW1iID0ge1xuICAgICAgICAgICAgICAgICAgICBibGFkZTogYmxhZGVcbiAgICAgICAgICAgICAgICB9O1xuXHJcbiAgICAgICAgICAgICAgICAvL2lmIGNhdGVnb3J5IG5lZWQgY2hhbmdlIHRvIGNhdGVnb3J5IGJyZWFkY3J1bWJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYmxhZGUuY2F0ZWdvcnkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWRDcnVtYi5pZCA9IGJsYWRlLmNhdGVnb3J5SWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFkQ3J1bWIubmFtZSA9IGJsYWRlLmNhdGVnb3J5Lm5hbWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhZENydW1iLmlkID0gYmxhZGUuY2F0YWxvZ0lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmNhdGFsb2cuJHByb21pc2UudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhZENydW1iLm5hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL3ByZXZlbnQgZHVwbGljYXRlIGl0ZW1zXG4gICAgICAgICAgICAgICAgaWYgKCFfLnNvbWUoYmxhZGUuYnJlYWRjcnVtYnMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09PSBicmVhZENydW1iLmlkIH0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmJyZWFkY3J1bWJzLnB1c2goYnJlYWRDcnVtYik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWRDcnVtYi5uYXZpZ2F0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKGJsYWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmRpc2FibGVPcGVuQW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShibGFkZSwgYmxhZGUucGFyZW50QmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9yZXNldCBzdGF0ZSBncmlkIChoZWFkZXIgY2hlY2tib3gsIHNjcm9sbClcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc2V0U3RhdGVHcmlkKCkge1xuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZ3JpZEFwaSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmNsZWFyU2VsZWN0ZWRSb3dzKCk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLnJlc2V0U2Nyb2xsKHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5kYXRhTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbS50eXBlID09PSAnY2F0ZWdvcnknKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnNldFNlbGVjdGVkSXRlbShsaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnNob3dDYXRlZ29yeUJsYWRlKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdEl0ZW0obnVsbCwgbGlzdEl0ZW0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYmxhZGUuc2hvd0NhdGVnb3J5QmxhZGUgPSBmdW5jdGlvbiAobGlzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcImxpc3RDYXRlZ29yeURldGFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogbGlzdEl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yeS1kZXRhaWwuc3VidGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3J5RGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvY2F0ZWdvcnktZGV0YWlsLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuY3V0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjdXRMaXN0KFtkYXRhXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGN1dExpc3Qoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgJHNlc3Npb25TdG9yYWdlLmNhdGFsb2dDbGlwYm9hcmRDb250ZW50ID0gc2VsZWN0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVMaXN0KFtkYXRhXSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBpc0l0ZW1zQ2hlY2tlZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmdyaWRBcGkgJiYgXy5hbnkoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlTGlzdChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdEVudHJ5TGlua3MgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnlJZHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbUlkcyA9IFtdO1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxlY3Rpb24sIGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZXRpbmdMaW5rID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RJdGVtLnR5cGUgPT09ICdjYXRlZ29yeScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5jYXRhbG9nICYmIGJsYWRlLmNhdGFsb2cuaXNWaXJ0dWFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgXy5zb21lKGxpc3RJdGVtLmxpbmtzLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5jYXRlZ29yeUlkID09PSBibGFkZS5jYXRlZ29yeUlkOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0aW5nTGluayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWRzLnB1c2gobGlzdEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLmNhdGFsb2cgJiYgYmxhZGUuY2F0YWxvZy5pc1ZpcnR1YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGluZ0xpbmsgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtSWRzLnB1c2gobGlzdEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbGV0aW5nTGluaylcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyeUxpbmtzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyeUlkOiBsaXN0SXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cnlUeXBlOiBsaXN0SXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2dJZDogYmxhZGUuY2F0YWxvZ0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQ6IGJsYWRlLmNhdGVnb3J5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBsaXN0Q2F0ZWdvcnlMaW5rQ291bnQgPSBfLndoZXJlKGxpc3RFbnRyeUxpbmtzLCB7IGxpc3RFbnRyeVR5cGU6ICdjYXRlZ29yeScgfSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxldCBpZHNUb0RlbGV0ZSA9IGNhdGVnb3J5SWRzLmNvbmNhdChpdGVtSWRzKTtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlSXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUNvdW50OiBjYXRlZ29yeUlkcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Db3VudDogaXRlbUlkcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGxpc3RDYXRlZ29yeUxpbmtDb3VudDogbGlzdENhdGVnb3J5TGlua0NvdW50LFxuICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbUxpbmtDb3VudDogbGlzdEVudHJ5TGlua3MubGVuZ3RoIC0gbGlzdENhdGVnb3J5TGlua0NvdW50LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VDaGlsZHJlbkJsYWRlcyhibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0RW50cnlMaW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyaWVzLmRlbGV0ZWxpbmtzKGxpc3RFbnRyeUxpbmtzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5tb2RlID09PSAnbWFwcGluZ1NvdXJjZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRzVG9EZWxldGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cmllcy5kZWxldGUoeyBvYmplY3RJZHM6IGlkc1RvRGVsZXRlIH0sICgpID0+IGJsYWRlLnJlZnJlc2goKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0RpYWxvZyhkaWFsb2csICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2RpYWxvZ3MvZGVsZXRlQ2F0ZWdvcnlJdGVtLWRpYWxvZy50cGwuaHRtbCcsICdwbGF0Zm9ybVdlYkFwcC5jb25maXJtRGlhbG9nQ29udHJvbGxlcicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBtYXBDaGVja2VkKCkge1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VDaGlsZHJlbkJsYWRlcyhibGFkZSk7XG5cbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ncmlkQXBpICYmICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RBbGxTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyaWVzLmJ1bGtjcmVhdGVsaW5rcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWFyY2hDcml0ZXJpYTogZ2V0U2VhcmNoQ3JpdGVyaWEoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXRhbG9nSWQ6IGJsYWRlLnBhcmVudEJsYWRlLmNhdGFsb2dJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXRlZ29yeUlkOiBibGFkZS5wYXJlbnRCbGFkZS5jYXRlZ29yeUlkXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSAkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0RW50cnlMaW5rcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2VsZWN0aW9uLCBmdW5jdGlvbiAobGlzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyeUxpbmtzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyeUlkOiBsaXN0SXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cnlUeXBlOiBsaXN0SXRlbS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2dJZDogYmxhZGUucGFyZW50QmxhZGUuY2F0YWxvZ0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQ6IGJsYWRlLnBhcmVudEJsYWRlLmNhdGVnb3J5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGlzdEVudHJpZXMuY3JlYXRlbGlua3MobGlzdEVudHJ5TGlua3MsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmxhZGUuc2V0U2VsZWN0ZWRJdGVtID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbGlzdEl0ZW0uaWQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChlLCBsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgIGJsYWRlLnNldFNlbGVjdGVkSXRlbShsaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlO1xuICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbS50eXBlID09PSAnY2F0ZWdvcnknKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcGVuTmV3QmxhZGUgPSBlLmN0cmxLZXkgfHwgZmlsdGVyLmtleXdvcmQ7XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdpdGVtc0xpc3QnICsgKGJsYWRlLmxldmVsICsgKG9wZW5OZXdCbGFkZSA/IDEgOiAwKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDogYmxhZGUubGV2ZWwgKyAob3Blbk5ld0JsYWRlID8gMSA6IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogYmxhZGUubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzQnJvd3NpbmdMaW5rZWRDYXRlZ29yeTogYmxhZGUuaXNCcm93c2luZ0xpbmtlZENhdGVnb3J5IHx8ICRzY29wZS5oYXNMaW5rcyhsaXN0SXRlbSksXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhZGNydW1iczogYmxhZGUuYnJlYWRjcnVtYnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtbGlzdC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtbGlzdC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZVZhbHVlczogbGlzdEl0ZW0ubmFtZSAhPT0gbnVsbCA/IHsgbmFtZTogbGlzdEl0ZW0ubmFtZSB9IDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRhbG9nSWQ6IGJsYWRlLmNhdGFsb2dJZCB8fCBsaXN0SXRlbS5jYXRhbG9nSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUlkOiBsaXN0SXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBsaXN0SXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlT3BlbkFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcmllc0l0ZW1zTGlzdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jYXRlZ29yaWVzLWl0ZW1zLWxpc3QudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5OZXdCbGFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZS5wYXJlbnRCbGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwibGlzdEl0ZW1EZXRhaWxcIiArIGJsYWRlLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSWQ6IGxpc3RJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFR5cGU6IGxpc3RJdGVtLnByb2R1Y3RUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGxpc3RJdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2l0ZW0tZGV0YWlsLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldHRpbmcgY3VycmVudCBjYXRlZ29yeUlkIHRvIGJlIGdsb2JhbGx5IGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNhdGFsb2dzU2VsZWN0ZWRDYXRlZ29yeUlkID0gYmxhZGUuY2F0ZWdvcnlJZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG5cbiAgICAgICAgICAgICRzY29wZS5oYXNMaW5rcyA9IGZ1bmN0aW9uIChsaXN0RW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmxhZGUuY2F0YWxvZyAmJiBibGFkZS5jYXRhbG9nLmlzVmlydHVhbCAmJlxuICAgICAgICAgICAgICAgICAgICBfLmFueShsaXN0RW50cnkubGlua3MsIGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbC5jYXRhbG9nSWQgPT09IGJsYWRlLmNhdGFsb2dJZCAmJiAoIWJsYWRlLmNhdGVnb3J5SWQgfHwgbC5jYXRlZ29yeUlkID09PSBibGFkZS5jYXRlZ29yeUlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVmcmVzaFwiLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtcmVmcmVzaCcsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGJsYWRlLnJlZnJlc2gsXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkgeyBkZWxldGVMaXN0KCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSk7IH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzSXRlbXNDaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnY2F0YWxvZzpkZWxldGUnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuaW1wb3J0XCIsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1kb3dubG9hZCcsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2NhdGFsb2dJbXBvcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuaW1wb3J0ZXJzLWxpc3QudGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuaW1wb3J0ZXJzLWxpc3Quc3VidGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pbXBvcnRlckxpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2ltcG9ydC9pbXBvcnRlcnMtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7IHJldHVybiBibGFkZS5jYXRhbG9nSWQ7IH0sXG4gICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246ICdjYXRhbG9nOmltcG9ydCdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5leHBvcnRcIixcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXVwbG9hZCcsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2NhdGFsb2dFeHBvcnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuZXhwb3J0ZXItbGlzdC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5leHBvcnRlci1saXN0LnN1YnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuZXhwb3J0ZXJMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9leHBvcnQvZXhwb3J0ZXItbGlzdC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9kdWN0czogXy5maWx0ZXIoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09PSAncHJvZHVjdCcgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDYXRlZ29yaWVzOiBfLmZpbHRlcigkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCksIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT09ICdjYXRlZ29yeScgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBbGxTZWxlY3RlZDogJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdEFsbFN0YXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUuaXRlbXMubGVuZ3RoICYmIGJsYWRlLmNhdGFsb2dJZDsgfSxcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ2NhdGFsb2c6ZXhwb3J0J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmN1dFwiLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLWN1dCcsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1dExpc3QoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNJdGVtc0NoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246ICdjYXRhbG9nOmNyZWF0ZSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5wYXN0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLXBhc3RlJyxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyaWVzLm1vdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2dJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogYmxhZGUuY2F0ZWdvcnlJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cmllczogJHNlc3Npb25TdG9yYWdlLmNhdGFsb2dDbGlwYm9hcmRDb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRzZXNzaW9uU3RvcmFnZS5jYXRhbG9nQ2xpcGJvYXJkQ29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzZXNzaW9uU3RvcmFnZS5jYXRhbG9nQ2xpcGJvYXJkQ29udGVudCAmJiBibGFkZS5jYXRhbG9nICYmICFibGFkZS5jYXRhbG9nLmlzVmlydHVhbDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ2NhdGFsb2c6Y3JlYXRlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGlmIChibGFkZS5pc0Jyb3dzaW5nTGlua2VkQ2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMuc3BsaWNlKDEsIDUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYmxhZGUubW9kZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBtYXBwaW5nU291cmNlXG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLm1vZGUgPT09ICdtYXBwaW5nU291cmNlJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWFwQ29tbWFuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiY2F0YWxvZy5jb21tYW5kcy5tYXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtbGluaycsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwQ2hlY2tlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzSXRlbXNDaGVja2VkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzLnNwbGljZSgxLCA1LCBtYXBDb21tYW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFibGFkZS5pc0Jyb3dzaW5nTGlua2VkQ2F0ZWdvcnkgJiYgYXV0aFNlcnZpY2UuY2hlY2tQZXJtaXNzaW9uKCdjYXRhbG9nOmNyZWF0ZScpKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzLnNwbGljZSgxLCAwLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtcGx1cycsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2xpc3RJdGVtQ2hpbGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yaWVzLWl0ZW1zLWFkZC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yaWVzLWl0ZW1zLWFkZC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yaWVzSXRlbXNBZGRDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2NhdGVnb3JpZXMtaXRlbXMtYWRkLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJsYWRlLmNhdGFsb2dJZDsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBibGFkZS5vbkFmdGVyQ2F0YWxvZ1NlbGVjdGVkID0gZnVuY3Rpb24gKHNlbGVjdGVkTm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdpdGVtc0xpc3QnICsgKGJsYWRlLmxldmVsICsgMSksXG4gICAgICAgICAgICAgICAgICAgIGxldmVsOiBibGFkZS5sZXZlbCArIDEsXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6ICdtYXBwaW5nU291cmNlJyxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWRjcnVtYnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3JpZXMtaXRlbXMtbGlzdC50aXRsZS1tYXBwaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yaWVzLWl0ZW1zLWxpc3Quc3VidGl0bGUtbWFwcGluZycsXG4gICAgICAgICAgICAgICAgICAgIGNhdGFsb2dJZDogc2VsZWN0ZWROb2RlLmlkLFxuICAgICAgICAgICAgICAgICAgICBjYXRhbG9nOiBzZWxlY3RlZE5vZGUsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVPcGVuQW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3JpZXNJdGVtc0xpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jYXRlZ29yaWVzLWl0ZW1zLWxpc3QudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICAvLyBzaW1wbGUgYW5kIGFkdmFuY2VkIGZpbHRlcmluZ1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9IGJsYWRlLmZpbHRlciA9IHsga2V5d29yZDogYmxhZGUuZmlsdGVyS2V5d29yZCB9O1xuXG4gICAgICAgICAgICBmaWx0ZXIuY3JpdGVyaWFDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghYmxhZGUuY2F0YWxvZ0lkICYmICFmaWx0ZXIua2V5d29yZCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUJ5RmlsdGVycyhkYXRhKSB7XG4gICAgICAgICAgICAgICAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHguJHBhdGggPSBfLmFueSh4LnBhdGgpID8geC5wYXRoLmpvaW4oXCIgXFxcXCBcIikgOiAnXFxcXCc7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHVpLWdyaWRcbiAgICAgICAgICAgICRzY29wZS5zZXRHcmlkT3B0aW9ucyA9IGZ1bmN0aW9uIChncmlkT3B0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgLy9kaXNhYmxlIHdhdGNoZWRcbiAgICAgICAgICAgICAgICBibGFkZVV0aWxzLmluaXRpYWxpemVQYWdpbmF0aW9uKCRzY29wZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy9jaG9vc2UgdGhlIG9wdGltYWwgYW1vdW50IHRoYXQgZW5zdXJlcyB0aGUgYXBwZWFyYW5jZSBvZiB0aGUgc2Nyb2xsXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudCA9IDUwO1xuXG4gICAgICAgICAgICAgICAgdWlHcmlkSGVscGVyLmluaXRpYWxpemUoJHNjb3BlLCBncmlkT3B0aW9ucywgZnVuY3Rpb24gKGdyaWRBcGkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgZ3JpZEFwaSBmb3IgY3VycmVudCBncmlkXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpID0gZ3JpZEFwaTtcblxuICAgICAgICAgICAgICAgICAgICB1aUdyaWRIZWxwZXIuYmluZFJlZnJlc2hPblNvcnRDaGFuZ2VkKCRzY29wZSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLm9uLm5lZWRMb2FkTW9yZURhdGEoJHNjb3BlLCBzaG93TW9yZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL05vIG5lZWQgdG8gY2FsbCB0aGlzIGJlY2F1c2UgcGFnZSAncGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlJyBpcyB3YXRjaGVkISEhIEl0IHdvdWxkIHRyaWdnZXIgc3Vic2VxdWVudCBkdXBsaWNhdGVkIHJlcS4uLlxuICAgICAgICAgICAgLy9ibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yeURldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdzJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yaWVzJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9ncycsICdwbGF0Zm9ybVdlYkFwcC5tZXRhRm9ybXNTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgc2V0dGluZ3MsIGNhdGVnb3JpZXMsIGNhdGFsb2dzLCBtZXRhRm9ybXNTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xyXG4gICAgICAgIGJsYWRlLnVwZGF0ZVBlcm1pc3Npb24gPSAnY2F0YWxvZzp1cGRhdGUnO1xyXG5cclxuICAgICAgICBibGFkZS5tZXRhRmllbGRzID0gbWV0YUZvcm1zU2VydmljZS5nZXRNZXRhRmllbGRzKFwiY2F0ZWdvcnlEZXRhaWxcIik7XHJcblxyXG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAocGFyZW50UmVmcmVzaCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2F0ZWdvcmllcy5nZXQoeyBpZDogYmxhZGUuY3VycmVudEVudGl0eUlkIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFibGFkZS5jYXRhbG9nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY2F0YWxvZyA9IGNhdGFsb2dzLmdldCh7IGlkOiBkYXRhLmNhdGFsb2dJZCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLmNoaWxkcmVuQmxhZGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGJsYWRlLmNoaWxkcmVuQmxhZGVzLCBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeC5yZWZyZXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnJlZnJlc2goYmxhZGUuY3VycmVudEVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50UmVmcmVzaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLnJlZnJlc2goKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7IH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZShkYXRhKSB7XHJcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XHJcbiAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBkYXRhO1xyXG4gICAgICAgICAgICBibGFkZS50aXRsZSA9IGRhdGEubmFtZTtcclxuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJsYWRlLnNlY3VyaXR5U2NvcGVzID0gZGF0YS5zZWN1cml0eVNjb3BlcztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBibGFkZS5jb2RlVmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1skKzs9JXt9W1xcXXxAfiFeKiYoKT8nPD4sXS87XHJcbiAgICAgICAgICAgIHJldHVybiAhcGF0dGVybi50ZXN0KHZhbHVlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpICYmIGJsYWRlLmhhc1VwZGF0ZVBlcm1pc3Npb24oKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjYW5TYXZlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmIGJsYWRlLmZvcm1TY29wZSAmJiBibGFkZS5mb3JtU2NvcGUuJHZhbGlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2F2ZUNoYW5nZXMoKSB7XHJcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGNhdGVnb3JpZXMudXBkYXRlKHt9LCBibGFkZS5jdXJyZW50RW50aXR5LCBmdW5jdGlvbiAoZGF0YSwgaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCh0cnVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7IH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJsYWRlLm9uQ2xvc2UgPSBmdW5jdGlvbiAoY2xvc2VDYWxsYmFjaykge1xyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIGNhblNhdmUoKSwgYmxhZGUsIHNhdmVDaGFuZ2VzLCBjbG9zZUNhbGxiYWNrLCBcImNhdGFsb2cuZGlhbG9ncy5jYXRlZ29yeS1zYXZlLnRpdGxlXCIsIFwiY2F0YWxvZy5kaWFsb2dzLmNhdGVnb3J5LXNhdmUubWVzc2FnZVwiKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBibGFkZS5mb3JtU2NvcGUgPSBudWxsO1xyXG4gICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHsgYmxhZGUuZm9ybVNjb3BlID0gZm9ybTsgfVxyXG5cclxuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLCBpY29uOiAnZmFzIGZhLXNhdmUnLFxyXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogc2F2ZUNoYW5nZXMsXHJcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBjYW5TYXZlLFxyXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlc2V0XCIsIGljb246ICdmYSBmYS11bmRvJyxcclxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUub3JpZ0VudGl0eSwgYmxhZGUuY3VycmVudEVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNEaXJ0eSxcclxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGJsYWRlLm9wZW5EaWN0aW9uYXJ5U2V0dGluZ01hbmFnZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiAnc2V0dGluZ0RldGFpbENoaWxkJyxcclxuICAgICAgICAgICAgICAgIGlzQXBpU2F2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLlRheFR5cGVzJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudFJlZnJlc2g6IGZ1bmN0aW9uIChkYXRhKSB7IGJsYWRlLnRheFR5cGVzID0gZGF0YTsgfSxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5nRGljdGlvbmFyeUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJsYWRlLnJlZnJlc2goKTtcclxuICAgICAgICBibGFkZS50YXhUeXBlcyA9IHNldHRpbmdzLmdldFZhbHVlcyh7IGlkOiAnVmlydG9Db21tZXJjZS5Db3JlLkdlbmVyYWwuVGF4VHlwZXMnIH0pO1xyXG4gICAgfV0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcnlEZXNjcmlwdGlvbkRldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ0ZpbGVVcGxvYWRlcicsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICckdGltZW91dCcsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgRmlsZVVwbG9hZGVyLCBzZXR0aW5ncywgJHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpbGl6ZSgpIHtcbiAgICAgICAgICAgIGlmICghYmxhZGUuY2F0ZWdvcnkuZGVzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY2F0ZWdvcnkuZGVzY3JpcHRpb25zID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWJsYWRlLmN1cnJlbnRFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0ge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUNvZGU6IGJsYWRlLmNhdGFsb2cuZGVmYXVsdExhbmd1YWdlLmxhbmd1YWdlQ29kZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBibGFkZS5jdXJyZW50RW50aXR5O1xuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXR5KTtcblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdyZXNldENvbnRlbnQnLCB7IGJvZHk6IGJsYWRlLmN1cnJlbnRFbnRpdHkuY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleGlzdERlc2NyaXB0aW9uID0gXy5maW5kKGJsYWRlLmNhdGVnb3J5LmRlc2NyaXB0aW9ucywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT0gYmxhZGUub3JpZ0VudGl0eTsgfSk7XG4gICAgICAgICAgICBpZiAoIWV4aXN0RGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICBibGFkZS5jYXRlZ29yeS5kZXNjcmlwdGlvbnMucHVzaChibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgICRzY29wZS5ibGFkZUNsb3NlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtY29tbWVudHMnO1xuICAgICAgICBibGFkZS50aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yeURlc2NyaXB0aW9uLWRldGFpbC50aXRsZSc7XG4gICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3J5RGVzY3JpcHRpb24tZGV0YWlsLnN1YnRpdGxlJztcbiAgICAgICAgYmxhZGUuZWRpdEFzTWFya2Rvd24gPSB0cnVlO1xuICAgICAgICBibGFkZS5oYXNBc3NldENyZWF0ZVBlcm1pc3Npb24gPSBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNoZWNrUGVybWlzc2lvbigncGxhdGZvcm06YXNzZXQ6Y3JlYXRlJyk7XG5cbiAgICAgICAgaWYgKGJsYWRlLmhhc0Fzc2V0Q3JlYXRlUGVybWlzc2lvbikge1xuICAgICAgICAgICAgJHNjb3BlLmZpbGVVcGxvYWRlciA9IG5ldyBGaWxlVXBsb2FkZXIoe1xuICAgICAgICAgICAgICAgIHVybDogJ2FwaS9hc3NldHM/Zm9sZGVyVXJsPWNhdGFsb2cvJyArIGJsYWRlLmNhdGVnb3J5LmNvZGUsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgIGF1dG9VcGxvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVtb3ZlQWZ0ZXJVcGxvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgb25CZWZvcmVVcGxvYWRJdGVtOiBmdW5jdGlvbiAoZmlsZUl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU3VjY2Vzc0l0ZW06IGZ1bmN0aW9uIChmaWxlSXRlbSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2ZpbGVzVXBsb2FkZWQnLCB7IGl0ZW1zOiByZXNwb25zZSB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uRXJyb3JJdGVtOiBmdW5jdGlvbiAoZmlsZUl0ZW0sIHJlc3BvbnNlLCBzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcihmaWxlSXRlbS5fZmlsZS5uYW1lICsgJyBmYWlsZWQ6ICcgKyAocmVzcG9uc2UubWVzc2FnZSA/IHJlc3BvbnNlLm1lc3NhZ2UgOiBzdGF0dXMpLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdDYXRhbG9nLkNhdGVnb3J5RGVzY3JpcHRpb25UeXBlcycgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICRzY29wZS50eXBlcyA9IGRhdGE7XG4gICAgICAgICAgICBpZiAoIWJsYWRlLmN1cnJlbnRFbnRpdHkuZGVzY3JpcHRpb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5kZXNjcmlwdGlvblR5cGUgPSAkc2NvcGUudHlwZXNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5vcGVuRGljdGlvbmFyeVNldHRpbmdNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiAnc2V0dGluZ0RldGFpbENoaWxkJyxcbiAgICAgICAgICAgICAgICBpc0FwaVNhdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiAnQ2F0YWxvZy5DYXRlZ29yeURlc2NyaXB0aW9uVHlwZXMnLFxuICAgICAgICAgICAgICAgIHBhcmVudFJlZnJlc2g6IGZ1bmN0aW9uIChkYXRhKSB7ICRzY29wZS50eXBlcyA9IGRhdGE7IH0sXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdEaWN0aW9uYXJ5Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGZvcm1TY29wZTtcbiAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkgeyBmb3JtU2NvcGUgPSBmb3JtOyB9XG5cbiAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLCBpY29uOiAnZmFzIGZhLXNhdmUnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IHNhdmVDaGFuZ2VzLFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGNhblNhdmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZXNldFwiLCBpY29uOiAnZmEgZmEtdW5kbycsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUub3JpZ0VudGl0eSwgYmxhZGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdyZXNldENvbnRlbnQnLCB7IGJvZHk6IGJsYWRlLmN1cnJlbnRFbnRpdHkuY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzRGlydHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICBmdW5jdGlvbiBzYXZlQ2hhbmdlcygpIHtcbiAgICAgICAgICAgIHZhciBleGlzdERlc2NyaXB0aW9uID0gXy5maW5kKGJsYWRlLmNhdGVnb3J5LmRlc2NyaXB0aW9ucywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IGJsYWRlLm9yaWdFbnRpdHk7IH0pO1xuICAgICAgICAgICAgaWYgKCFleGlzdERlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY2F0ZWdvcnkuZGVzY3JpcHRpb25zLnB1c2goYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVxdWFscyhibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNhblNhdmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmIGZvcm1TY29wZSAmJiBmb3JtU2NvcGUuJHZhbGlkO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGUub25DbG9zZSA9IGZ1bmN0aW9uIChjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIGNhblNhdmUoKSwgYmxhZGUsIHNhdmVDaGFuZ2VzLCBjbG9zZUNhbGxiYWNrLCBcImNhdGFsb2cuZGlhbG9ncy5yZXZpZXctc2F2ZS50aXRsZVwiLCBcImNhdGFsb2cuZGlhbG9ncy5yZXZpZXctc2F2ZS5tZXNzYWdlXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGluaXRpbGl6ZSgpO1xuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yeURlc2NyaXB0aW9uc0xpc3RDb250cm9sbGVyJywgWyckdGltZW91dCcsICckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC51aUdyaWRIZWxwZXInLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsIGZ1bmN0aW9uICgkdGltZW91dCwgJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCB1aUdyaWRIZWxwZXIsIGRpYWxvZ1NlcnZpY2UpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAkc2NvcGUuc2VsZWN0ZWROb2RlSWQgPSBudWxsOyAvLyBuZWVkIHRvIGluaXRpYWxpemUgdG8gbnVsbFxuICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgaW5pdGlhbGl6ZShjYXRlZ29yeSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoY2F0ZWdvcnkpIHtcbiAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtY29tbWVudHMnO1xuICAgICAgICBibGFkZS5jYXRlZ29yeSA9IGNhdGVnb3J5O1xuICAgICAgICBibGFkZS50aXRsZSA9IGJsYWRlLmNhdGVnb3J5Lm5hbWU7XG4gICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLmNhdGVnb3J5RGVzY3JpcHRpb25zLWxpc3Quc3VidGl0bGUnO1xuICAgICAgICBibGFkZS5zZWxlY3ROb2RlID0gJHNjb3BlLm9wZW5CbGFkZTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE5vZGVJZCA9IG5vZGUuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgaWQ6ICdjYXRlZ29yeURlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IG5vZGUsXG4gICAgICAgICAgICBjYXRlZ29yeTogYmxhZGUuY2F0ZWdvcnksXG4gICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxuICAgICAgICAgICAgbGFuZ3VhZ2VzOiBibGFkZS5jYXRhbG9nLmxhbmd1YWdlcyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcnlEZXNjcmlwdGlvbkRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jYXRlZ29yeURlc2NyaXB0aW9uLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsICRzY29wZS5ibGFkZSk7XG4gICAgfSAgICAgICAgXG4gICBcblxuICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBkZWxldGVMaXN0KFtkYXRhXSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUxpc3Qoc2VsZWN0aW9uKSB7XG4gICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmRpYWxvZ3MucmV2aWV3LWRlbGV0ZS50aXRsZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJjYXRhbG9nLmRpYWxvZ3MucmV2aWV3LWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goc2VsZWN0aW9uLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmNhdGVnb3J5LmRlc2NyaXB0aW9ucy5zcGxpY2UoYmxhZGUuY2F0ZWdvcnkuZGVzY3JpcHRpb25zLmluZGV4T2YoeCksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZGlhbG9nU2VydmljZS5zaG93Q29uZmlybWF0aW9uRGlhbG9nKGRpYWxvZyk7XG4gICAgfVxuXG4gICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLCBpY29uOiAnZmFzIGZhLXBsdXMnLFxuICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuQmxhZGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHsgZGVsZXRlTGlzdCgkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCkpOyB9LFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuZ3JpZEFwaSAmJiBfLmFueSgkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICBdO1xuXG4gICAgLy8gdWktZ3JpZFxuICAgICRzY29wZS5zZXRHcmlkT3B0aW9ucyA9IGZ1bmN0aW9uIChncmlkT3B0aW9ucykge1xuICAgICAgICB1aUdyaWRIZWxwZXIuaW5pdGlhbGl6ZSgkc2NvcGUsIGdyaWRPcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLy8gb3BlbiBibGFkZSBmb3IgbmV3IGRlc2NyaXB0aW9uXG4gICAgaWYgKCFfLnNvbWUoYmxhZGUuY2F0ZWdvcnkuZGVzY3JpcHRpb25zKSkge1xuICAgICAgICAkdGltZW91dCgkc2NvcGUub3BlbkJsYWRlLCA2MCwgZmFsc2UpO1xuICAgIH1cblxuICAgIGluaXRpYWxpemUoYmxhZGUuY2F0ZWdvcnkpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmVkaXRvcmlhbFJldmlld0RldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ0ZpbGVVcGxvYWRlcicsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICckdGltZW91dCcsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgRmlsZVVwbG9hZGVyLCBzZXR0aW5ncywgJHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpbGl6ZSgpIHtcbiAgICAgICAgICAgIGlmICghYmxhZGUuaXRlbS5yZXZpZXdzKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXRlbS5yZXZpZXdzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWJsYWRlLmN1cnJlbnRFbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0ge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUNvZGU6IGJsYWRlLmNhdGFsb2cuZGVmYXVsdExhbmd1YWdlLmxhbmd1YWdlQ29kZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBibGFkZS5jdXJyZW50RW50aXR5O1xuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXR5KTtcblxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdyZXNldENvbnRlbnQnLCB7IGJvZHk6IGJsYWRlLmN1cnJlbnRFbnRpdHkuY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleGlzdFJldmlldyA9IF8uZmluZChibGFkZS5pdGVtLnJldmlld3MsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09IGJsYWRlLm9yaWdFbnRpdHk7IH0pO1xuICAgICAgICAgICAgaWYgKCFleGlzdFJldmlldykge1xuICAgICAgICAgICAgICAgIGJsYWRlLml0ZW0ucmV2aWV3cy5wdXNoKGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgICRzY29wZS5ibGFkZUNsb3NlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtY29tbWVudHMnO1xuICAgICAgICBibGFkZS50aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy5lZGl0b3JpYWxSZXZpZXctZGV0YWlsLnRpdGxlJztcbiAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnY2F0YWxvZy5ibGFkZXMuZWRpdG9yaWFsUmV2aWV3LWRldGFpbC5zdWJ0aXRsZSc7XG4gICAgICAgIGJsYWRlLmVkaXRBc01hcmtkb3duID0gdHJ1ZTtcbiAgICAgICAgYmxhZGUuaGFzQXNzZXRDcmVhdGVQZXJtaXNzaW9uID0gYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jaGVja1Blcm1pc3Npb24oJ3BsYXRmb3JtOmFzc2V0OmNyZWF0ZScpO1xuXG4gICAgICAgIGlmIChibGFkZS5oYXNBc3NldENyZWF0ZVBlcm1pc3Npb24pIHtcbiAgICAgICAgICAgICRzY29wZS5maWxlVXBsb2FkZXIgPSBuZXcgRmlsZVVwbG9hZGVyKHtcbiAgICAgICAgICAgICAgICB1cmw6ICdhcGkvYXNzZXRzP2ZvbGRlclVybD1jYXRhbG9nLycgKyBibGFkZS5pdGVtLmNvZGUsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgIGF1dG9VcGxvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVtb3ZlQWZ0ZXJVcGxvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgb25CZWZvcmVVcGxvYWRJdGVtOiBmdW5jdGlvbiAoZmlsZUl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU3VjY2Vzc0l0ZW06IGZ1bmN0aW9uIChmaWxlSXRlbSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoJ2ZpbGVzVXBsb2FkZWQnLCB7IGl0ZW1zOiByZXNwb25zZSB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uRXJyb3JJdGVtOiBmdW5jdGlvbiAoZmlsZUl0ZW0sIHJlc3BvbnNlLCBzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcihmaWxlSXRlbS5fZmlsZS5uYW1lICsgJyBmYWlsZWQ6ICcgKyAocmVzcG9uc2UubWVzc2FnZSA/IHJlc3BvbnNlLm1lc3NhZ2UgOiBzdGF0dXMpLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdDYXRhbG9nLkVkaXRvcmlhbFJldmlld1R5cGVzJyB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLnR5cGVzID0gZGF0YTtcbiAgICAgICAgICAgIGlmICghYmxhZGUuY3VycmVudEVudGl0eS5yZXZpZXdUeXBlKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5yZXZpZXdUeXBlID0gJHNjb3BlLnR5cGVzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUub3BlbkRpY3Rpb25hcnlTZXR0aW5nTWFuYWdlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogJ3NldHRpbmdEZXRhaWxDaGlsZCcsXG4gICAgICAgICAgICAgICAgaXNBcGlTYXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogJ0NhdGFsb2cuRWRpdG9yaWFsUmV2aWV3VHlwZXMnLFxuICAgICAgICAgICAgICAgIHBhcmVudFJlZnJlc2g6IGZ1bmN0aW9uIChkYXRhKSB7ICRzY29wZS50eXBlcyA9IGRhdGE7IH0sXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdEaWN0aW9uYXJ5Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGZvcm1TY29wZTtcbiAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkgeyBmb3JtU2NvcGUgPSBmb3JtOyB9XG5cbiAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLCBpY29uOiAnZmFzIGZhLXNhdmUnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IHNhdmVDaGFuZ2VzLFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGNhblNhdmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZXNldFwiLCBpY29uOiAnZmEgZmEtdW5kbycsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUub3JpZ0VudGl0eSwgYmxhZGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KCdyZXNldENvbnRlbnQnLCB7IGJvZHk6IGJsYWRlLmN1cnJlbnRFbnRpdHkuY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzRGlydHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICBmdW5jdGlvbiBzYXZlQ2hhbmdlcygpIHtcbiAgICAgICAgICAgIHZhciBleGlzdFJldmlldyA9IF8uZmluZChibGFkZS5pdGVtLnJldmlld3MsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ID09PSBibGFkZS5vcmlnRW50aXR5OyB9KTtcbiAgICAgICAgICAgIGlmICghZXhpc3RSZXZpZXcpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5pdGVtLnJldmlld3MucHVzaChibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGlydHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGNhblNhdmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmIGZvcm1TY29wZSAmJiBmb3JtU2NvcGUuJHZhbGlkO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGUub25DbG9zZSA9IGZ1bmN0aW9uIChjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIGNhblNhdmUoKSwgYmxhZGUsIHNhdmVDaGFuZ2VzLCBjbG9zZUNhbGxiYWNrLCBcImNhdGFsb2cuZGlhbG9ncy5yZXZpZXctc2F2ZS50aXRsZVwiLCBcImNhdGFsb2cuZGlhbG9ncy5yZXZpZXctc2F2ZS5tZXNzYWdlXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGluaXRpbGl6ZSgpO1xuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5lZGl0b3JpYWxSZXZpZXdzTGlzdENvbnRyb2xsZXInLCBbJyR0aW1lb3V0JywgJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJywgZnVuY3Rpb24gKCR0aW1lb3V0LCAkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIHVpR3JpZEhlbHBlciwgZGlhbG9nU2VydmljZSkge1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICRzY29wZS5zZWxlY3RlZE5vZGVJZCA9IG51bGw7IC8vIG5lZWQgdG8gaW5pdGlhbGl6ZSB0byBudWxsXG4gICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGluaXRpYWxpemUoaXRlbSk7ICAgIFx0XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoaXRlbSkge1xuICAgICAgICBibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS1jb21tZW50cyc7XG4gICAgICAgIGJsYWRlLml0ZW0gPSBpdGVtO1xuICAgICAgICBibGFkZS50aXRsZSA9IGJsYWRlLml0ZW0ubmFtZTtcbiAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnY2F0YWxvZy5ibGFkZXMuZWRpdG9yaWFsUmV2aWV3cy1saXN0LnN1YnRpdGxlJztcbiAgICAgICAgYmxhZGUuc2VsZWN0Tm9kZSA9ICRzY29wZS5vcGVuQmxhZGU7XG4gICAgfTtcblxuICAgICRzY29wZS5vcGVuQmxhZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSkge1xuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbm9kZS5pZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICBpZDogJ2VkaXRvcmlhbFJldmlldycsXG4gICAgICAgICAgICBjdXJyZW50RW50aXR5OiBub2RlLFxuICAgICAgICAgICAgaXRlbTogYmxhZGUuaXRlbSxcbiAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICBsYW5ndWFnZXM6IGJsYWRlLmNhdGFsb2cubGFuZ3VhZ2VzLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5lZGl0b3JpYWxSZXZpZXdEZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvZWRpdG9yaWFsUmV2aWV3LWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsICRzY29wZS5ibGFkZSk7XG4gICAgfSAgICAgICAgXG4gICBcblxuICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBkZWxldGVMaXN0KFtkYXRhXSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUxpc3Qoc2VsZWN0aW9uKSB7XG4gICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmRpYWxvZ3MucmV2aWV3LWRlbGV0ZS50aXRsZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJjYXRhbG9nLmRpYWxvZ3MucmV2aWV3LWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goc2VsZWN0aW9uLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLml0ZW0ucmV2aWV3cy5zcGxpY2UoYmxhZGUuaXRlbS5yZXZpZXdzLmluZGV4T2YoeCksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZGlhbG9nU2VydmljZS5zaG93Q29uZmlybWF0aW9uRGlhbG9nKGRpYWxvZyk7XG4gICAgfVxuXG4gICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLCBpY29uOiAnZmFzIGZhLXBsdXMnLFxuICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuQmxhZGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHsgZGVsZXRlTGlzdCgkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCkpOyB9LFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuZ3JpZEFwaSAmJiBfLmFueSgkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICBdO1xuXG4gICAgLy8gdWktZ3JpZFxuICAgICRzY29wZS5zZXRHcmlkT3B0aW9ucyA9IGZ1bmN0aW9uIChncmlkT3B0aW9ucykge1xuICAgICAgICB1aUdyaWRIZWxwZXIuaW5pdGlhbGl6ZSgkc2NvcGUsIGdyaWRPcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLy8gb3BlbiBibGFkZSBmb3IgbmV3IHJldmlldyBcbiAgICBpZiAoIV8uc29tZShibGFkZS5pdGVtLnJldmlld3MpKSB7XG4gICAgICAgICR0aW1lb3V0KCRzY29wZS5vcGVuQmxhZGUsIDYwLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShibGFkZS5pdGVtKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5maWx0ZXJEZXRhaWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvY2FsU3RvcmFnZScsICckdHJhbnNsYXRlJyxcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYWxTdG9yYWdlLCAkdHJhbnNsYXRlKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5Lmxhc3RVcGRhdGVUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICBpZiAoYmxhZGUuaXNOZXcpIHtcbiAgICAgICAgICAgICAgICAkbG9jYWxTdG9yYWdlLmNhdGFsb2dTZWFyY2hGaWx0ZXJzLnNwbGljZSgwLCAwLCBibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgICAgICAkbG9jYWxTdG9yYWdlLmNhdGFsb2dTZWFyY2hGaWx0ZXJJZCA9IGJsYWRlLm9yaWdFbnRpdHkuaWQ7XG4gICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUuZmlsdGVyLmN1cnJlbnQgPSBibGFkZS5vcmlnRW50aXR5O1xuICAgICAgICAgICAgICAgIGJsYWRlLmlzTmV3ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZShibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLmZpbHRlci5jaGFuZ2UodHJ1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKGRhdGEpIHtcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XG4gICAgICAgICAgICBibGFkZS5vcmlnRW50aXR5ID0gZGF0YTtcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBibGFkZS50aXRsZSA9IGJsYWRlLmlzTmV3ID8gJ2NhdGFsb2cuYmxhZGVzLmZpbHRlci1kZXRhaWwubmV3LXRpdGxlJyA6IGRhdGEubmFtZTtcbiAgICAgICAgICAgIGJsYWRlLnN1YnRpdGxlID0gYmxhZGUuaXNOZXcgPyAnY2F0YWxvZy5ibGFkZXMuZmlsdGVyLWRldGFpbC5uZXctc3VidGl0bGUnIDogJ2NhdGFsb2cuYmxhZGVzLmZpbHRlci1kZXRhaWwuc3VidGl0bGUnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZvcm1TY29wZTtcbiAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkgeyBmb3JtU2NvcGUgPSBmb3JtOyB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGlydHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtZmlsdGVyJztcblxuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImNvcmUuY29tbWFuZHMuYXBwbHktZmlsdGVyXCIsIGljb246ICdmYSBmYS1maWx0ZXInLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1TY29wZSAmJiBmb3JtU2NvcGUuJHZhbGlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVzZXRcIiwgaWNvbjogJ2ZhIGZhLXVuZG8nLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUub3JpZ0VudGl0eSwgYmxhZGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzRGlydHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBkZWxldGVFbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFibGFkZS5pc05ldztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dO1xuXG5cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlRW50cnkoKSB7XG4gICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5maWx0ZXIuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAkbG9jYWxTdG9yYWdlLmNhdGFsb2dTZWFyY2hGaWx0ZXJzLnNwbGljZSgkbG9jYWxTdG9yYWdlLmNhdGFsb2dTZWFyY2hGaWx0ZXJzLmluZGV4T2YoYmxhZGUub3JpZ0VudGl0eSksIDEpO1xuICAgICAgICAgICAgZGVsZXRlICRsb2NhbFN0b3JhZ2UuY2F0YWxvZ1NlYXJjaEZpbHRlcklkO1xuICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUuZmlsdGVyLmNoYW5nZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWN0aW9ucyBvbiBsb2FkICAgICAgICBcbiAgICAgICAgaWYgKGJsYWRlLmlzTmV3KSB7XG4gICAgICAgICAgICAkdHJhbnNsYXRlKCdjYXRhbG9nLmJsYWRlcy5jYXRlZ29yaWVzLWl0ZW1zLWxpc3QubGFiZWxzLnVubmFtZWQtZmlsdGVyJykudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKHsgaWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBuYW1lOiByZXN1bHQgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZShibGFkZS5kYXRhKTtcbiAgICAgICAgfVxuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dCdWxrQWN0aW9uc01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ0J1bGtBY3Rpb25zTW9kdWxlLmhlbGxvV29ybGRDb250cm9sbGVyJywgWyckc2NvcGUnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nQnVsa0FjdGlvbnNNb2R1bGUud2ViQXBpJywgZnVuY3Rpb24gKCRzY29wZSwgYXBpKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgYmxhZGUudGl0bGUgPSAnVmlydG9Db21tZXJjZS5DYXRhbG9nQnVsa0FjdGlvbnNNb2R1bGUnO1xuXG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhcGkuZ2V0KGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAndmlydG9Db21tZXJjZS5jYXRhbG9nQnVsa0FjdGlvbnNNb2R1bGUuYmxhZGVzLmhlbGxvLXdvcmxkLnRpdGxlJztcbiAgICAgICAgICAgICAgICBibGFkZS5kYXRhID0gZGF0YS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgfV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmltYWdlRGV0YWlsc0NvbnRyb2xsZXInLFxuICAgIFsnJHNjb3BlJywgJyRmaWx0ZXInLCAnJHRyYW5zbGF0ZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmFzc2V0cy5hcGknLCAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ3MnLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkZmlsdGVyLCAkdHJhbnNsYXRlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBhc3NldHMsIHNldHRpbmdzKSB7XG4gICAgICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBhbmd1bGFyLmNvcHkoYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICBibGFkZS50aXRsZSA9IGJsYWRlLmN1cnJlbnRFbnRpdHkubmFtZTtcblxuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdWaXJ0b0NvbW1lcmNlLkNvcmUuR2VuZXJhbC5MYW5ndWFnZXMnIH0pLiRwcm9taXNlO1xuICAgICAgICAgICAgJHNjb3BlLmxhbmd1YWdlcyA9IFtdO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbihwcm9taXNlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZ3VhZ2VzID0gcHJvbWlzZURhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlVHlwZXMgPSBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ0NhdGFsb2cuSW1hZ2VDYXRlZ29yaWVzJyB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBmb3JtU2NvcGU7XG4gICAgICAgICAgICAkc2NvcGUuc2V0Rm9ybSA9IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgICAgICAgICAgICAgZm9ybVNjb3BlID0gZm9ybTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChcImJsYWRlLmN1cnJlbnRFbnRpdHlcIiwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSBmb3JtU2NvcGUgJiYgZm9ybVNjb3BlLiR2YWxpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAgICAgJHNjb3BlLm9wZW5EaWN0aW9uYXJ5U2V0dGluZ01hbmFnZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ3NldHRpbmdEZXRhaWxDaGlsZCcsXG4gICAgICAgICAgICAgICAgICAgIGlzQXBpU2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiAnQ2F0YWxvZy5JbWFnZUNhdGVnb3JpZXMnLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWZyZXNoOiBmdW5jdGlvbiAoZGF0YSkgeyAkc2NvcGUuaW1hZ2VUeXBlcyA9IGRhdGE7IH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5nRGljdGlvbmFyeUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJyQoUGxhdGZvcm0pL1NjcmlwdHMvYXBwL3NldHRpbmdzL2JsYWRlcy9zZXR0aW5nLWRpY3Rpb25hcnkudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpbml0aWFsaXplKCk7XG4gICAgICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaW1hZ2VzQWRkQ29udHJvbGxlcicsXG4gICAgICAgIFsnJHNjb3BlJywgJyRmaWx0ZXInLCAnJHRyYW5zbGF0ZScsICdGaWxlVXBsb2FkZXInLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsXG4gICAgICAgICAgICAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5hdXRoU2VydmljZScsXG4gICAgICAgICAgICAncGxhdGZvcm1XZWJBcHAuYXNzZXRzLmFwaScsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkZmlsdGVyLCAkdHJhbnNsYXRlLCBGaWxlVXBsb2FkZXIsIGRpYWxvZ1NlcnZpY2UsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGF1dGhTZXJ2aWNlLCBhc3NldHMsIHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgICAgICAgICAgYmxhZGUuaGFzQXNzZXRDcmVhdGVQZXJtaXNzaW9uID0gYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jaGVja1Blcm1pc3Npb24oJ3BsYXRmb3JtOmFzc2V0OmNyZWF0ZScpO1xuXG4gICAgICAgICAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtaW1hZ2UnO1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBibGFkZS51c2VFeHRlcm5hbFVybCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemUoaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLkxhbmd1YWdlcycgfSkuJHByb21pc2U7XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUubGFuZ3VhZ2VzID0gW107XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocHJvbWlzZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5ndWFnZXMgPSBwcm9taXNlRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXRlbSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLmltYWdlLXVwbG9hZC50aXRsZSc7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZVR5cGVzID0gc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdDYXRhbG9nLkltYWdlQ2F0ZWdvcmllcycgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUudXBsb2FkZXIgJiYgYmxhZGUuaGFzQXNzZXRDcmVhdGVQZXJtaXNzaW9uKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgdXBsb2FkZXIgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRlciA9ICRzY29wZS51cGxvYWRlciA9IG5ldyBGaWxlVXBsb2FkZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9VcGxvYWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQWZ0ZXJVcGxvYWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlci51cmwgPSBnZXRJbWFnZVVybChibGFkZS5mb2xkZXJQYXRoLCBibGFkZS5pbWFnZVR5cGUpLnJlbGF0aXZlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlci5vblN1Y2Nlc3NJdGVtID0gZnVuY3Rpb24gKGZpbGVJdGVtLCBpbWFnZXMsIHN0YXR1cywgaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpbWFnZXMsIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0FERCB1cGxvYWRlZCBpbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5pc0ltYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuZ3JvdXAgPSBibGFkZS5pbWFnZVR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcy5wdXNoKGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVyLm9uQWZ0ZXJBZGRpbmdBbGwgPSBmdW5jdGlvbiAoYWRkZWRJdGVtcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IobnVsbCwgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkZXIub25FcnJvckl0ZW0gPSBmdW5jdGlvbiAoZWxlbWVudCwgcmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoZWxlbWVudC5fZmlsZS5uYW1lICsgJyBmYWlsZWQ6ICcgKyAocmVzcG9uc2UubWVzc2FnZSA/IHJlc3BvbnNlLm1lc3NhZ2UgOiBzdGF0dXMpLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRJbWFnZUZyb21VcmxIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUudXNlRXh0ZXJuYWxVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRJbWFnZURpcmVjdGx5RnJvbVVybCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEltYWdlRnJvbVVybCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRJbWFnZUZyb21VcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5uZXdFeHRlcm5hbEltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NldHMudXBsb2FkRnJvbVVybCh7IGZvbGRlclVybDogZ2V0SW1hZ2VVcmwoYmxhZGUuZm9sZGVyUGF0aCwgYmxhZGUuaW1hZ2VUeXBlKS5mb2xkZXJVcmwsIHVybDogYmxhZGUubmV3RXh0ZXJuYWxJbWFnZVVybCB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChkYXRhLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmlzSW1hZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4Lmdyb3VwID0gYmxhZGUuaW1hZ2VUeXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMucHVzaCh4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5uZXdFeHRlcm5hbEltYWdlVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEltYWdlRGlyZWN0bHlGcm9tVXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUubmV3RXh0ZXJuYWxJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSW1hZ2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IGJsYWRlLmltYWdlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGJsYWRlLm5ld0V4dGVybmFsSW1hZ2VVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYmxhZGUubmV3RXh0ZXJuYWxJbWFnZVVybC5zcGxpdCgnLycpLnBvcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlVXJsOiBibGFkZS5uZXdFeHRlcm5hbEltYWdlVXJsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzLnB1c2goaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUubmV3RXh0ZXJuYWxJbWFnZVVybCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5vblNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGJsYWRlLmN1cnJlbnRFbnRpdGllcywgZnVuY3Rpb24gKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5sYW5ndWFnZUNvZGUgPSBibGFkZS5zZWxlY3RlZExhbmd1YWdlQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUub25TZWxlY3QoYmxhZGUuY3VycmVudEVudGl0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ibGFkZUNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICRzY29wZS50b2dnbGVJbWFnZVNlbGVjdCA9IGZ1bmN0aW9uIChlLCBpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLiRzZWxlY3RlZCA9ICFpbWFnZS4kc2VsZWN0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuJHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuJHNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLiRzZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuY29weVVybCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICR0cmFuc2xhdGUoJ2NhdGFsb2cuYmxhZGVzLmltYWdlcy5sYWJlbHMuY29weS11cmwtcHJvbXB0JykudGhlbihmdW5jdGlvbiAocHJvbXB0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnByb21wdChwcm9tcHRNZXNzYWdlLCBkYXRhLnVybCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuRGljdGlvbmFyeVNldHRpbmdNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3NldHRpbmdEZXRhaWxDaGlsZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FwaVNhdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6ICdDYXRhbG9nLkltYWdlQ2F0ZWdvcmllcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWZyZXNoOiBmdW5jdGlvbiAoZGF0YSkgeyAkc2NvcGUuaW1hZ2VUeXBlcyA9IGRhdGE7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ0RpY3Rpb25hcnlDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvc2V0dGluZ3MvYmxhZGVzL3NldHRpbmctZGljdGlvbmFyeS50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZUltYWdlQ2F0ZWdvcnkgPSBmdW5jdGlvbiAoJGl0ZW0sICRtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkZXIudXJsID0gZ2V0SW1hZ2VVcmwoYmxhZGUuZm9sZGVyUGF0aCwgYmxhZGUuaW1hZ2VUeXBlKS5yZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0SW1hZ2VVcmwocGF0aCwgaW1hZ2VUeXBlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRlclVybCA9ICdjYXRhbG9nLycgKyAocGF0aCArIChpbWFnZVR5cGUgPyAnLycgKyBpbWFnZVR5cGUgOiAnJykpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGZvbGRlclVybDogZm9sZGVyVXJsLCByZWxhdGl2ZTogJ2FwaS9hc3NldHM/Zm9sZGVyVXJsPScgKyBmb2xkZXJVcmwgfTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpbml0aWFsaXplKGJsYWRlLml0ZW0pO1xuXG4gICAgICAgICAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmltYWdlc0NvbnRyb2xsZXInLFxuICAgICAgICBbXG4gICAgICAgICAgICAnJHNjb3BlJywgJyR0cmFuc2xhdGUnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsXG4gICAgICAgICAgICAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5hdXRoU2VydmljZScsXG4gICAgICAgICAgICAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ3MnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVVdGlscycsICdwbGF0Zm9ybVdlYkFwcC51aUdyaWRIZWxwZXInLCAnJHRpbWVvdXQnLFxuICAgICAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkdHJhbnNsYXRlLCBkaWFsb2dTZXJ2aWNlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBhdXRoU2VydmljZSwgc2V0dGluZ3MsIGJsYWRlVXRpbHMsIHVpR3JpZEhlbHBlciwgJHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgICAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtaW1hZ2UnO1xuICAgICAgICAgICAgICAgIHZhciBsYW5ndWFnZXMgPSBibGFkZS5wYXJlbnRCbGFkZS5jYXRhbG9nLmxhbmd1YWdlcztcblxuICAgICAgICAgICAgICAgIGJsYWRlLmhhc0Fzc2V0Q3JlYXRlUGVybWlzc2lvbiA9IGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2hlY2tQZXJtaXNzaW9uKCdwbGF0Zm9ybTphc3NldDpjcmVhdGUnKTtcblxuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZShpdGVtKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLml0ZW0gPSBpdGVtO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS50aXRsZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnY2F0YWxvZy53aWRnZXRzLml0ZW1JbWFnZS5ibGFkZS1zdWJ0aXRsZSc7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZVR5cGVzID0gc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdDYXRhbG9nLkltYWdlQ2F0ZWdvcmllcycgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzID0gaXRlbS5pbWFnZXMgPyBhbmd1bGFyLmNvcHkoaXRlbS5pbWFnZXMpIDogW107XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLml0ZW0uaW1hZ2VzID0gYmxhZGUuY3VycmVudEVudGl0aWVzO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlSW1hZ2VTZWxlY3QgPSBmdW5jdGlvbihlLCBpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS4kc2VsZWN0ZWQgPSAhaW1hZ2UuJHNlbGVjdGVkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlLiRzZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLiRzZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS4kc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IGJsYWRlLmN1cnJlbnRFbnRpdGllcy5pbmRleE9mKGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvcHlVcmwgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICR0cmFuc2xhdGUoJ2NhdGFsb2cuYmxhZGVzLmltYWdlcy5sYWJlbHMuY29weS11cmwtcHJvbXB0JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHByb21wdE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJvbXB0KHByb21wdE1lc3NhZ2UsIGRhdGEudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuZG93bmxvYWRVcmwgPSBmdW5jdGlvbihpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihpbWFnZS51cmwsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlbW92ZUFjdGlvbiA9IGZ1bmN0aW9uKHNlbGVjdGVkSW1hZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZEltYWdlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEltYWdlcyA9ICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxlY3RlZEltYWdlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IGJsYWRlLmN1cnJlbnRFbnRpdGllcy5pbmRleE9mKGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uKGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2ltYWdlRGV0YWlsQ2hpbGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ0VudGl0eTogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pbWFnZURldGFpbHNDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaW1hZ2UtZGV0YWlsLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwbGF0Zm9ybS5jb21tYW5kcy5yZW1vdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24oKSB7ICRzY29wZS5yZW1vdmVBY3Rpb24oKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXRWYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUuY3VycmVudEVudGl0aWVzICYmICRzY29wZS5ncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFZhbCA9ICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmxlbmd0aCA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0VmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY2F0YWxvZy5jb21tYW5kcy5nYWxsZXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtaW1hZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiBibGFkZS5jdXJyZW50RW50aXRpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbWFnZTogYmxhZGUuY3VycmVudEVudGl0aWVzWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dHYWxsZXJ5RGlhbG9nKGRpYWxvZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsYWRlLmN1cnJlbnRFbnRpdGllcyAmJiBfLmFueShibGFkZS5jdXJyZW50RW50aXRpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkFkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VzOiBsYW5ndWFnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGJsYWRlLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclBhdGg6IGJsYWRlLmZvbGRlclBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0OiBsaW5rQXNzZXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmltYWdlc0FkZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2ltYWdlcy1hZGQudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkxpbmtcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtbGluaycsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuaW1hZ2VzLXNlbGVjdC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9sZGVyOiBcImNhdGFsb2dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q6IGxpbmtBc3NldHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmFzc2V0c01vZHVsZS5hc3NldFNlbGVjdENvbnRyb2xsZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uKCkgeyByZXR1cm4gYXV0aFNlcnZpY2UuY2hlY2tQZXJtaXNzaW9uKCdwbGF0Zm9ybTphc3NldDpyZWFkJyk7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBsaW5rQXNzZXRzKGFzc2V0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLmN1cnJlbnRFbnRpdGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXhFbnRpdHkgPSBfLm1heChibGFkZS5jdXJyZW50RW50aXRpZXMsIGZ1bmN0aW9uKGVudGl0eSkgeyByZXR1cm4gZW50aXR5LnNvcnRPcmRlcjsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXggPSBtYXhFbnRpdHkuc29ydE9yZGVyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChhc3NldHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihhc3NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhc3NldC5pc0ltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBhbmd1bGFyLmNvcHkoYXNzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zb3J0T3JkZXIgPSBtYXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1hZ2UuZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLmdyb3VwID0gXCJpbWFnZXNcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcy5wdXNoKGltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkRpY3Rpb25hcnlTZXR0aW5nTWFuYWdlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3NldHRpbmdEZXRhaWxDaGlsZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0FwaVNhdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6ICdDYXRhbG9nLkltYWdlQ2F0ZWdvcmllcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWZyZXNoOiBmdW5jdGlvbihkYXRhKSB7ICRzY29wZS5pbWFnZVR5cGVzID0gZGF0YTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5nRGljdGlvbmFyeUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRFbnRpdHlHcmlkSW5kZXgoc2VhcmNoRW50aXR5LCBncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZEFwaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGdyaWRBcGkuZ3JpZC5yZW5kZXJDb250YWluZXJzLmJvZHkudmlzaWJsZVJvd0NhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKHJvdywgaWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmlzRXF1YWwocm93LmVudGl0eSwgc2VhcmNoRW50aXR5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHByaW9yaXR5Q2hhbmdlZCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0luZGV4ID0gZ2V0RW50aXR5R3JpZEluZGV4KGRhdGEucm93RW50aXR5LCBkYXRhLmdyaWRBcGkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggIT09IGRhdGEuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZ3JpZEFwaS5jZWxsTmF2LnNjcm9sbFRvRm9jdXMoZGF0YS5yb3dFbnRpdHksIGRhdGEuY29sRGVmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYmxhZGUuc2VsZWN0ZWRJbWFnZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbihncmlkT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBncmlkT3B0aW9ucy5lbmFibGVDZWxsRWRpdE9uRm9jdXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdWlHcmlkSGVscGVyLmluaXRpYWxpemUoJHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZEFwaS5lZGl0Lm9uLmFmdGVyQ2VsbEVkaXQoJHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihyb3dFbnRpdHksIGNvbERlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZ2V0RW50aXR5R3JpZEluZGV4KHJvd0VudGl0eSwgZ3JpZEFwaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dFbnRpdHk6IHJvd0VudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xEZWY6IGNvbERlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZEFwaTogZ3JpZEFwaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KHByaW9yaXR5Q2hhbmdlZCwgMTAwLCB0cnVlLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLnByaW9yaXR5VmFsaWQgPSBmdW5jdGlvbihlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFfLmlzVW5kZWZpbmVkKGVudGl0eS5zb3J0T3JkZXIpICYmIGVudGl0eS5zb3J0T3JkZXIgPj0gMDtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChcImJsYWRlLmN1cnJlbnRFbnRpdGllc1wiLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXy5hbGwoYmxhZGUuY3VycmVudEVudGl0aWVzLCAkc2NvcGUucHJpb3JpdHlWYWxpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmlzVmFsaWQgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgYmxhZGVVdGlscy5pbml0aWFsaXplUGFnaW5hdGlvbigkc2NvcGUsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZShibGFkZS5pdGVtKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICBdKVxuICAgIC5ydW4oXG4gICAgICAgIFtcbiAgICAgICAgICAgICdwbGF0Zm9ybVdlYkFwcC51aS1ncmlkLmV4dGVuc2lvbicsICd1aUdyaWRWYWxpZGF0ZVNlcnZpY2UnLCBmdW5jdGlvbihncmlkT3B0aW9uRXh0ZW5zaW9uLCB1aUdyaWRWYWxpZGF0ZVNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgICB1aUdyaWRWYWxpZGF0ZVNlcnZpY2Uuc2V0VmFsaWRhdG9yKCdtaW5Qcmlvcml0eVZhbGlkYXRvcicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9sZFZhbHVlLCBuZXdWYWx1ZSwgcm93RW50aXR5LCBjb2xEZWYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3VmFsdWUgPj0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyByZXR1cm4gJ1ByaW9yaXR5IHZhbHVlIHNob3VsZCBiZSBlcXVhbCBvciBtb3JlIHRoYW4gemVybyc7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICBdKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtQXNzZXRBZGRDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHRyYW5zbGF0ZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJyRmaWx0ZXInLCAnRmlsZVVwbG9hZGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJHRyYW5zbGF0ZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgJGZpbHRlciwgRmlsZVVwbG9hZGVyKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7ICBcblxuICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIFx0aW5pdGlhbGl6ZShpdGVtKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuaXNWYWxpZCA9IHRydWU7XG5cbiAgICAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKGJsYWRlLm9uU2VsZWN0KVxuICAgICAgICAgICAgYmxhZGUub25TZWxlY3QoYmxhZGUuY3VycmVudEVudGl0aWVzKTtcblxuICAgIFx0JHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpdGVtKSB7XG4gICAgXHRibGFkZS5pdGVtID0gaXRlbTtcbiAgICAgICAgaWYgKCEkc2NvcGUudXBsb2FkZXIgJiYgYmxhZGUuaGFzVXBkYXRlUGVybWlzc2lvbigpKSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgdGhlIHVwbG9hZGVyXG4gICAgICAgICAgICB2YXIgdXBsb2FkZXIgPSAkc2NvcGUudXBsb2FkZXIgPSBuZXcgRmlsZVVwbG9hZGVyKHtcbiAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBhdXRvVXBsb2FkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlbW92ZUFmdGVyVXBsb2FkOiB0cnVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICBcdHVwbG9hZGVyLnVybCA9ICdhcGkvYXNzZXRzP2ZvbGRlclVybD1jYXRhbG9nLycgKyBpdGVtLmNvZGU7XG5cbiAgICAgICAgICAgIHVwbG9hZGVyLm9uU3VjY2Vzc0l0ZW0gPSBmdW5jdGlvbiAoZmlsZUl0ZW0sIGFzc2V0cywgc3RhdHVzLCBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGFzc2V0cywgZnVuY3Rpb24gKGFzc2V0KSB7ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgYXNzZXQuaXRlbUlkID0gYmxhZGUuaXRlbS5pZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVJdGVtLmZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2V0LnNpemUgPSBmaWxlSXRlbS5maWxlLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIC8vQUREIHVwbG9hZGVkIGFzc2V0IHRvIHRoZSBpdGVtXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcy5wdXNoKGFzc2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHVwbG9hZGVyLm9uQWZ0ZXJBZGRpbmdBbGwgPSBmdW5jdGlvbiAoYWRkZWRJdGVtcykge1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IobnVsbCwgYmxhZGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdXBsb2FkZXIub25FcnJvckl0ZW0gPSBmdW5jdGlvbiAoaXRlbSwgcmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoaXRlbS5fZmlsZS5uYW1lICsgJyBmYWlsZWQ6ICcgKyAocmVzcG9uc2UubWVzc2FnZSA/IHJlc3BvbnNlLm1lc3NhZ2UgOiBzdGF0dXMpLCBibGFkZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IFtdO1xuICAgIH07XG5cbiAgICAkc2NvcGUudG9nZ2xlQXNzZXRTZWxlY3QgPSBmdW5jdGlvbiAoZSwgYXNzZXQpIHtcbiAgICAgICAgaWYgKGUuY3RybEtleSA9PSAxKSB7XG4gICAgICAgICAgICBhc3NldC5zZWxlY3RlZCA9ICFhc3NldC5zZWxlY3RlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhc3NldC5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIGFzc2V0LnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFzc2V0LnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5yZW1vdmVBY3Rpb24gPSBmdW5jdGlvbiAoYXNzZXQpIHtcbiAgICBcdHZhciBpZHggPSBibGFkZS5jdXJyZW50RW50aXRpZXMuaW5kZXhPZihhc3NldCk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICBcdGJsYWRlLmN1cnJlbnRFbnRpdGllcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUuY29weVVybCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICR0cmFuc2xhdGUoJ2NhdGFsb2cuYmxhZGVzLml0ZW0tYXNzZXQtZGV0YWlsLmxhYmVscy5jb3B5LXVybC1wcm9tcHQnKS50aGVuKGZ1bmN0aW9uIChwcm9tcHRNZXNzYWdlKSB7XG4gICAgICAgICAgICB3aW5kb3cucHJvbXB0KHByb21wdE1lc3NhZ2UsIGRhdGEudXJsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtcGx1cyc7XG4gICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW107XG5cbiAgICBpbml0aWFsaXplKGJsYWRlLml0ZW0pO1xuXG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1Bc3NldHNEZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgWyckc2NvcGUnLCAnJGZpbHRlcicsICckdHJhbnNsYXRlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYXNzZXRzLmFwaScsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGZpbHRlciwgJHRyYW5zbGF0ZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgYXNzZXRzLCBzZXR0aW5ncywgY2F0YWxvZ3MpIHtcbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gYmxhZGUuY3VycmVudEVudGl0eS5uYW1lO1xuXG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICRzY29wZS5pc1ZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAgICAgJHNjb3BlLmxhbmd1YWdlcyA9IFtdO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgICAgICAgICAgICAgIGNhdGFsb2dzLmdldCh7IGlkOiBibGFkZS5jdXJyZW50RW50aXR5LmNhdGFsb2dJZCB9LCBmdW5jdGlvbiAoY2F0YWxvZykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZ3VhZ2VzID0gXy5wbHVjayhjYXRhbG9nLmxhbmd1YWdlcywgJ2xhbmd1YWdlQ29kZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZVR5cGVzID0gc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdDYXRhbG9nLkltYWdlQ2F0ZWdvcmllcycgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgZm9ybVNjb3BlO1xuICAgICAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICAgICAgICAgICAgIGZvcm1TY29wZSA9IGZvcm07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJibGFkZS5jdXJyZW50RW50aXR5XCIsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1ZhbGlkID0gZm9ybVNjb3BlICYmIGZvcm1TY29wZS4kdmFsaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICRzY29wZS5vcGVuRGljdGlvbmFyeVNldHRpbmdNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdzZXR0aW5nRGV0YWlsQ2hpbGQnLFxuICAgICAgICAgICAgICAgICAgICBpc0FwaVNhdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogJ0NhdGFsb2cuSW1hZ2VDYXRlZ29yaWVzJyxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVmcmVzaDogZnVuY3Rpb24gKGRhdGEpIHsgJHNjb3BlLmltYWdlVHlwZXMgPSBkYXRhOyB9LFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ0RpY3Rpb25hcnlDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1Bc3NldENvbnRyb2xsZXInLCBbJyRzY29wZScsICckdHJhbnNsYXRlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAnJGZpbHRlcicsICdwbGF0Zm9ybVdlYkFwcC51aUdyaWRIZWxwZXInLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdHJhbnNsYXRlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCAkZmlsdGVyLCB1aUdyaWRIZWxwZXIsICR0aW1lb3V0KSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtY2hhaW4nO1xuXG4gICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAncGxhdGZvcm0uY29tbWFuZHMucmVtb3ZlJyxcbiAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLXRyYXNoLWFsdCcsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkgeyAkc2NvcGUucmVtb3ZlQWN0aW9uKCk7IH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0VmFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXRpZXMgJiYgJHNjb3BlLmdyaWRBcGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldFZhbCA9ICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXRWYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkFkZFwiLFxuICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtcGx1cycsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmJsYWRlcy5hc3NldC11cGxvYWQudGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGJsYWRlLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdDogbGlua0Fzc2V0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbUFzc2V0QWRkQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2l0ZW0tYXNzZXQtYWRkLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIkxpbmtcIixcbiAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLWxpbmsnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5hc3NldC1zZWxlY3QudGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb2xkZXI6IFwiY2F0YWxvZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q6IGxpbmtBc3NldHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5hc3NldHNNb2R1bGUuYXNzZXRTZWxlY3RDb250cm9sbGVyJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgfV07XG5cbiAgICAgICAgZnVuY3Rpb24gbGlua0Fzc2V0cyhhc3NldHMpIHtcbiAgICAgICAgICAgIF8uZWFjaChhc3NldHMsIGZ1bmN0aW9uIChhc3NldCkge1xuICAgICAgICAgICAgICAgIHZhciBjb252ZXJ0ZWQgPSBhbmd1bGFyLmNvcHkoYXNzZXQpO1xuICAgICAgICAgICAgICAgIGNvbnZlcnRlZC5taW1lVHlwZSA9IGFzc2V0LmNvbnRlbnRUeXBlO1xuICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcy5wdXNoKGNvbnZlcnRlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaW5pdGlhbGl6ZShpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5pc1ZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBibGFkZS5pdGVtLmFzc2V0cyA9IGJsYWRlLmN1cnJlbnRFbnRpdGllcztcbiAgICAgICAgICAgICRzY29wZS5ibGFkZUNsb3NlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShpdGVtKSB7XG4gICAgICAgICAgICBibGFkZS5pdGVtID0gaXRlbTtcblxuICAgICAgICAgICAgYmxhZGUudGl0bGUgPSBpdGVtLm5hbWU7XG4gICAgICAgICAgICBibGFkZS5zdWJ0aXRsZSA9ICdjYXRhbG9nLndpZGdldHMuaXRlbUFzc2V0LmJsYWRlLXN1YnRpdGxlJztcblxuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzID0gaXRlbS5hc3NldHMgPyBhbmd1bGFyLmNvcHkoaXRlbS5hc3NldHMpIDogW107XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUudG9nZ2xlQXNzZXRTZWxlY3QgPSBmdW5jdGlvbiAoZSwgYXNzZXQpIHtcbiAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBhc3NldC5zZWxlY3RlZCA9ICFhc3NldC5zZWxlY3RlZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGFzc2V0LnNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2V0LnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXNzZXQuc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5yZW1vdmVBY3Rpb24gPSBmdW5jdGlvbiAoYXNzZXQpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSBibGFkZS5jdXJyZW50RW50aXRpZXMuaW5kZXhPZihhc3NldCk7XG4gICAgICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNvcHlVcmwgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgJHRyYW5zbGF0ZSgnY2F0YWxvZy5ibGFkZXMuaXRlbS1hc3NldC1saXN0LmxhYmVscy5jb3B5LXVybC1wcm9tcHQnKS50aGVuKGZ1bmN0aW9uIChwcm9tcHRNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnByb21wdChwcm9tcHRNZXNzYWdlLCBkYXRhLnVybCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RW50aXR5R3JpZEluZGV4KHNlYXJjaEVudGl0eSwgZ3JpZEFwaSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICBpZiAoZ3JpZEFwaSkge1xuICAgICAgICAgICAgICAgIF8uZWFjaChncmlkQXBpLmdyaWQucmVuZGVyQ29udGFpbmVycy5ib2R5LnZpc2libGVSb3dDYWNoZSwgKHJvdywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXy5pc0VxdWFsKHJvdy5lbnRpdHksIHNlYXJjaEVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGlkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByaW9yaXR5Q2hhbmdlZCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBuZXdJbmRleCA9IGdldEVudGl0eUdyaWRJbmRleChkYXRhLnJvd0VudGl0eSwgZGF0YS5ncmlkQXBpKTtcbiAgICAgICAgICAgIGlmIChuZXdJbmRleCAhPT0gZGF0YS5pbmRleCkge1xuICAgICAgICAgICAgICAgIGRhdGEuZ3JpZEFwaS5jZWxsTmF2LnNjcm9sbFRvRm9jdXMoZGF0YS5yb3dFbnRpdHksIGRhdGEuY29sRGVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgICAgIGlmICghZW50aXR5LmNhdGFsb2dJZCkgZW50aXR5LmNhdGFsb2dJZCA9IGJsYWRlLml0ZW0uY2F0YWxvZ0lkO1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiAnaXRlbURldGFpbENoaWxkJyxcbiAgICAgICAgICAgICAgICBvcmlnRW50aXR5OiBlbnRpdHksXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtQXNzZXRzRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9pdGVtLWFzc2V0LWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRHcmlkT3B0aW9ucyA9IGZ1bmN0aW9uIChncmlkT3B0aW9ucykge1xuICAgICAgICAgICAgZ3JpZE9wdGlvbnMuZW5hYmxlQ2VsbEVkaXRPbkZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgICB1aUdyaWRIZWxwZXIuaW5pdGlhbGl6ZSgkc2NvcGUsIGdyaWRPcHRpb25zLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdyaWRBcGkuZWRpdC5vbi5hZnRlckNlbGxFZGl0KCRzY29wZSwgZnVuY3Rpb24gKHJvd0VudGl0eSwgY29sRGVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBnZXRFbnRpdHlHcmlkSW5kZXgocm93RW50aXR5LCBncmlkQXBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0VudGl0eTogcm93RW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbERlZjogY29sRGVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQXBpOiBncmlkQXBpXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQocHJpb3JpdHlDaGFuZ2VkLCAxMDAsIHRydWUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgICAgICRzY29wZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gYmxhZGUuY3VycmVudEVudGl0aWVzLmluZGV4T2YoaW1hZ2UpO1xuICAgICAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgJHNjb3BlLmRvd25sb2FkVXJsID0gZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihpbWFnZS51cmwsICdfYmxhbmsnKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5yZW1vdmVBY3Rpb24gPSBmdW5jdGlvbiAoc2VsZWN0ZWRJbWFnZXMpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEltYWdlcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEltYWdlcyA9ICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkSW1hZ2VzLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gYmxhZGUuY3VycmVudEVudGl0aWVzLmluZGV4T2YoaW1hZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5pdGlhbGl6ZShibGFkZS5pdGVtKTtcblxuICAgIH1dKS5ydW4oXG4gICAgICAgIFsncGxhdGZvcm1XZWJBcHAudWktZ3JpZC5leHRlbnNpb24nLCAndWlHcmlkVmFsaWRhdGVTZXJ2aWNlJywgZnVuY3Rpb24gKGdyaWRPcHRpb25FeHRlbnNpb24sIHVpR3JpZFZhbGlkYXRlU2VydmljZSkge1xuICAgICAgICAgICAgdWlHcmlkVmFsaWRhdGVTZXJ2aWNlLnNldFZhbGlkYXRvcignbWluUHJpb3JpdHlWYWxpZGF0b3InLFxuICAgICAgICAgICAgICAgICgpID0+IChvbGRWYWx1ZSwgbmV3VmFsdWUpID0+IG5ld1ZhbHVlID49IDAsXG4gICAgICAgICAgICAgICAgKCkgPT4gJ1ByaW9yaXR5IHZhbHVlIHNob3VsZCBiZSBlcXVhbCBvciBtb3JlIHRoYW4gemVybycpO1xuICAgICAgICB9XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbUFzc29jaWF0aW9uRGV0YWlsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgZGlhbG9nU2VydmljZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgc2V0dGluZ3MpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgICRzY29wZS5pc1ZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaChcImJsYWRlLmN1cnJlbnRFbnRpdHlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSAkc2NvcGUuZm9ybVNjb3BlICYmICRzY29wZS5mb3JtU2NvcGUuJHZhbGlkO1xuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKGl0ZW0pIHtcbiAgICAgICAgICAgICRzY29wZS5hc3NvY2lhdGlvbkdyb3VwcyA9IHNldHRpbmdzLmdldFZhbHVlcyh7IGlkOiAnQ2F0YWxvZy5Bc3NvY2lhdGlvbkdyb3VwcycgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuZ3JvdXBOYW1lID0gZGF0YVswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShpdGVtKTtcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNhdGFsb2cuY29tbWFuZHMub3Blbi1pdGVtXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWVkaXQnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHsgb3BlbkN1cnJlbnRJdGVtKCk7IH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5DdXJyZW50SXRlbSgpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogJ2Fzc29jaWF0aW9uRGV0YWlsJyxcbiAgICAgICAgICAgICAgICBpdGVtSWQ6IGJsYWRlLmN1cnJlbnRFbnRpdHkuYXNzb2NpYXRlZE9iamVjdElkLFxuICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiBibGFkZS5jdXJyZW50RW50aXR5LmFzc29jaWF0ZWRPYmplY3RJZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5LmFzc29jaWF0ZWRPYmplY3RUeXBlID09PSAncHJvZHVjdCcpIHtcbiAgICAgICAgICAgICAgICBuZXdCbGFkZS5jb250cm9sbGVyID0gJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtRGV0YWlsQ29udHJvbGxlcic7XG4gICAgICAgICAgICAgICAgbmV3QmxhZGUudGVtcGxhdGUgPSAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaXRlbS1kZXRhaWwudHBsLmh0bWwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmxhZGUuY3VycmVudEVudGl0eS5hc3NvY2lhdGVkT2JqZWN0VHlwZSA9PT0gJ2NhdGVnb3J5Jykge1xuICAgICAgICAgICAgICAgIG5ld0JsYWRlLmNvbnRyb2xsZXIgPSAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3J5RGV0YWlsQ29udHJvbGxlcic7XG4gICAgICAgICAgICAgICAgbmV3QmxhZGUudGVtcGxhdGUgPSAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvY2F0ZWdvcnktZGV0YWlsLnRwbC5odG1sJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLm9wZW5EaWN0aW9uYXJ5U2V0dGluZ01hbmFnZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICdzZXR0aW5nRGV0YWlsQ2hpbGQnLFxuICAgICAgICAgICAgICAgIGlzQXBpU2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6ICdDYXRhbG9nLkFzc29jaWF0aW9uR3JvdXBzJyxcbiAgICAgICAgICAgICAgICBwYXJlbnRSZWZyZXNoOiBmdW5jdGlvbiAoZGF0YSkgeyAkc2NvcGUuYXNzb2NpYXRpb25Hcm91cHMgPSBkYXRhOyB9LFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5nRGljdGlvbmFyeUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvc2V0dGluZ3MvYmxhZGVzL3NldHRpbmctZGljdGlvbmFyeS50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHsgJHNjb3BlLmZvcm1TY29wZSA9IGZvcm07IH07XG5cbiAgICAgICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICAgICAgaWYgKF8uYW55KGJsYWRlLmN1cnJlbnRFbnRpdHkudGFncykpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5vcmlnRW50aXR5LnRhZ3MgPSBfLm1hcChibGFkZS5jdXJyZW50RW50aXR5LnRhZ3MsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4LnZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbml0aWFsaXplKGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgIH1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcclxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbUFzc29jaWF0aW9uc0xpc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd1aUdyaWRDb25zdGFudHMnLCAncGxhdGZvcm1XZWJBcHAudWlHcmlkSGVscGVyJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9ncycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbXMnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3JpZXMnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCB1aUdyaWRDb25zdGFudHMsIHVpR3JpZEhlbHBlciwgY2F0YWxvZ3MsIGl0ZW1zLCBjYXRlZ29yaWVzKSB7XHJcbiAgICAgICAgJHNjb3BlLnVpR3JpZENvbnN0YW50cyA9IHVpR3JpZENvbnN0YW50cztcclxuICAgICAgICB2YXIgYWxsQ2F0YWxvZ0lkcyA9IFtdO1xyXG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcclxuICAgICAgICBibGFkZS5zdWJ0aXRsZSA9ICdjYXRhbG9nLndpZGdldHMuaXRlbUFzc29jaWF0aW9ucy5ibGFkZS1zdWJ0aXRsZSc7XHJcblxyXG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgICAgICBpbml0aWFsaXplKGl0ZW0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoaXRlbSkge1xyXG4gICAgICAgICAgICBibGFkZS50aXRsZSA9IGl0ZW0ubmFtZTtcclxuICAgICAgICAgICAgYmxhZGUuaXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgIHBvcHVsYXRlUHJvZHVjdENhdGFsb2dzKGl0ZW0uYXNzb2NpYXRpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHBvcHVsYXRlUHJvZHVjdENhdGFsb2dzKGFzc29jaWF0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAoIV8uc29tZShhc3NvY2lhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBhbGxDYXRhbG9nSWRzID0gW107XHJcbiAgICAgICAgICAgIHByb2Nlc3NQcm9kdWN0c0Fzc29jaWF0aW9ucyhhc3NvY2lhdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihwcm9jZXNzQ2F0ZWdvcnlBc3NvY2lhdGlvbnMoYXNzb2NpYXRpb25zKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKGZpbmRDYXRhbG9ncyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwcm9jZXNzUHJvZHVjdHNBc3NvY2lhdGlvbnMoYXNzb2NpYXRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9kdWN0QXNzb2NpYXRpb25zID0gXy5maWx0ZXIoYXNzb2NpYXRpb25zLCBmdW5jdGlvbiAoYXNzb2NpYXRpb24pIHsgcmV0dXJuIGFzc29jaWF0aW9uLmFzc29jaWF0ZWRPYmplY3RUeXBlID09PSAncHJvZHVjdCcgfSk7XHJcbiAgICAgICAgICAgIHZhciBpdGVtSWRzID0gXy5wbHVjayhwcm9kdWN0QXNzb2NpYXRpb25zLCAnYXNzb2NpYXRlZE9iamVjdElkJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcy5wbGVudHkoeyByZXNwR3JvdXA6ICdJdGVtU21hbGwnIH0sIGl0ZW1JZHMsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBhZGRBc3NvY2lhdGlvblByb3BlcnRpZXMocHJvZHVjdEFzc29jaWF0aW9ucywgZGF0YSk7XHJcbiAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc0NhdGVnb3J5QXNzb2NpYXRpb25zKGFzc29jaWF0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgY2F0ZWdvcnlBc3NvY2lhdGlvbnMgPSBfLmZpbHRlcihhc3NvY2lhdGlvbnMsIGZ1bmN0aW9uIChhc3NvY2lhdGlvbikgeyByZXR1cm4gYXNzb2NpYXRpb24uYXNzb2NpYXRlZE9iamVjdFR5cGUgIT09ICdwcm9kdWN0JyB9KTtcclxuICAgICAgICAgICAgdmFyIGNhdGVnb3J5SWRzID0gXy5wbHVjayhjYXRlZ29yeUFzc29jaWF0aW9ucywgJ2Fzc29jaWF0ZWRPYmplY3RJZCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2F0ZWdvcmllcy5wbGVudHkoeyByZXNwR3JvdXA6ICdJbmZvJyB9LCBjYXRlZ29yeUlkcywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGFkZEFzc29jaWF0aW9uUHJvcGVydGllcyhjYXRlZ29yeUFzc29jaWF0aW9ucywgZGF0YSk7XHJcbiAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZmluZENhdGFsb2dzKCkge1xyXG4gICAgICAgICAgICB2YXIgdW5pcXVlQ2F0YWxvZ0lkcyA9IF8udW5pcShhbGxDYXRhbG9nSWRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNhdGFsb2dzLnNlYXJjaCh7XHJcbiAgICAgICAgICAgICAgICBza2lwOiAwLFxyXG4gICAgICAgICAgICAgICAgdGFrZTogdW5pcXVlQ2F0YWxvZ0lkcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBjYXRhbG9nSWRzOiB1bmlxdWVDYXRhbG9nSWRzXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBfLmVhY2goYmxhZGUuaXRlbS5hc3NvY2lhdGlvbnMsIGZ1bmN0aW9uIChhc3NvY2lhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFzc29jaWF0aW9uLiQkY2F0YWxvZyA9IF8uZmluZChkYXRhLnJlc3VsdHMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09PSBhc3NvY2lhdGlvbi4kJGNhdGFsb2dJZDsgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZEFzc29jaWF0aW9uUHJvcGVydGllcyhhc3NvY2lhdGlvbnMsIGRhdGEpIHtcclxuICAgICAgICAgICAgXy5lYWNoKGFzc29jaWF0aW9ucywgZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gXy5maW5kKGRhdGEsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmlkID09PSB4LmFzc29jaWF0ZWRPYmplY3RJZDsgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHguJCRjYXRhbG9nSWQgPSBpdGVtLmNhdGFsb2dJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHguYXNzb2NpYXRlZE9iamVjdFR5cGUgPT09ICdwcm9kdWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4LiQkcHJvZHVjdFR5cGUgPSBpdGVtLnByb2R1Y3RUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGFsbENhdGFsb2dJZHMucHVzaC5hcHBseShhbGxDYXRhbG9nSWRzLCBfLnBsdWNrKGFzc29jaWF0aW9ucywgJyQkY2F0YWxvZ0lkJykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLnNlbGVjdE5vZGUgPSBmdW5jdGlvbiAobGlzdEl0ZW0pIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbGlzdEl0ZW0uYXNzb2NpYXRlZE9iamVjdElkO1xyXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ2Fzc29jaWF0aW9uRGV0YWlsJyxcclxuICAgICAgICAgICAgICAgIGl0ZW1JZDogbGlzdEl0ZW0uYXNzb2NpYXRlZE9iamVjdElkLFxyXG4gICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbURldGFpbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9pdGVtLWRldGFpbC50cGwuaHRtbCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgaWYgKGxpc3RJdGVtLmFzc29jaWF0ZWRPYmplY3RUeXBlID09PSAnY2F0ZWdvcnknKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdCbGFkZS5jdXJyZW50RW50aXR5SWQgPSBsaXN0SXRlbS5hc3NvY2lhdGVkT2JqZWN0SWQ7XHJcbiAgICAgICAgICAgICAgICBuZXdCbGFkZS5jb250cm9sbGVyID0gJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yeURldGFpbENvbnRyb2xsZXInO1xyXG4gICAgICAgICAgICAgICAgbmV3QmxhZGUudGVtcGxhdGUgPSAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvY2F0ZWdvcnktZGV0YWlsLnRwbC5odG1sJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGlzdEl0ZW0uYXNzb2NpYXRlZE9iamVjdFR5cGUgPT09ICdwcm9kdWN0Jykge1xyXG4gICAgICAgICAgICAgICAgbmV3QmxhZGUucHJvZHVjdFR5cGUgPSBsaXN0SXRlbS4kJHByb2R1Y3RUeXBlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5kZWxldGVMaXN0ID0gZnVuY3Rpb24gKGxpc3QpIHtcclxuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1bmRlbGV0ZWRFbnRyaWVzID0gXy5kaWZmZXJlbmNlKGJsYWRlLml0ZW0uYXNzb2NpYXRpb25zLCBsaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS5pdGVtLmFzc29jaWF0aW9ucyA9IHVuZGVsZXRlZEVudHJpZXM7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ2Fzc29jaWF0aW9uRWRpdERldGFpbCcsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogbGlzdEl0ZW0uYXNzb2NpYXRlZE9iamVjdE5hbWUsXHJcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLml0ZW0tYXNzb2NpYXRpb24tZGV0YWlsLnN1YnRpdGxlJyxcclxuICAgICAgICAgICAgICAgIG9yaWdFbnRpdHk6IGxpc3RJdGVtLFxyXG4gICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbUFzc29jaWF0aW9uRGV0YWlsQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2l0ZW0tYXNzb2NpYXRpb24tZGV0YWlsLnRwbC5odG1sJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9wZW5BZGRFbnRpdHlXaXphcmQoKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBcImFzc29jaWF0aW9uV2l6YXJkXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxyXG4gICAgICAgICAgICAgICAgaXRlbTogYmxhZGUuaXRlbSxcclxuICAgICAgICAgICAgICAgIG9uU2F2ZUNoYW5nZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZVByb2R1Y3RDYXRhbG9ncyhibGFkZS5pdGVtLmFzc29jaWF0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hc3NvY2lhdGlvbldpemFyZENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpemFyZHMvbmV3QXNzb2NpYXRpb24vYXNzb2NpYXRpb24td2l6YXJkLnRwbC5odG1sJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLCBpY29uOiAnZmFzIGZhLXBsdXMnLFxyXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5BZGRFbnRpdHlXaXphcmQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcclxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlTGlzdCgkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCkpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmdyaWRBcGkgJiYgXy5hbnkoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIHVpLWdyaWRcclxuICAgICAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdWlHcmlkSGVscGVyLmluaXRpYWxpemUoJHNjb3BlLCBncmlkT3B0aW9ucywgZnVuY3Rpb24gKGdyaWRBcGkpIHtcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIGdyaWRBcGkgZm9yIGN1cnJlbnQgZ3JpZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkgPSBncmlkQXBpO1xyXG5cclxuICAgICAgICAgICAgICAgIGdyaWRBcGkuZHJhZ2dhYmxlUm93cy5vbi5yb3dGaW5pc2hEcmFnKCRzY29wZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxhZGUuaXRlbS5hc3NvY2lhdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXRlbS5hc3NvY2lhdGlvbnNbaV0ucHJpb3JpdHkgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaW5pdGlhbGl6ZShibGFkZS5pdGVtKTtcclxuICAgIH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXHJcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1EZXRhaWxDb250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckdHJhbnNsYXRlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ3MnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1zJywgJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVycycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLCAncGxhdGZvcm1XZWJBcHAubWV0YUZvcm1zU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcmllcycsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkc2NvcGUsICR0cmFuc2xhdGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIHNldHRpbmdzLCBpdGVtcywgbWVtYmVycywgY2F0YWxvZ3MsIG1ldGFGb3Jtc1NlcnZpY2UsIGNhdGVnb3JpZXMpIHtcclxuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XHJcbiAgICAgICAgYmxhZGUudXBkYXRlUGVybWlzc2lvbiA9ICdjYXRhbG9nOnVwZGF0ZSc7XHJcbiAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eUlkID0gYmxhZGUuaXRlbUlkO1xyXG5cclxuICAgICAgICBibGFkZS5tZXRhRmllbGRzID0gbWV0YUZvcm1zU2VydmljZS5nZXRNZXRhRmllbGRzKFwicHJvZHVjdERldGFpbFwiKTtcclxuICAgICAgICBibGFkZS5tZXRhRmllbGRzMSA9IG1ldGFGb3Jtc1NlcnZpY2UuZ2V0TWV0YUZpZWxkcyhcInByb2R1Y3REZXRhaWwxXCIpO1xyXG4gICAgICAgIGJsYWRlLm1ldGFGaWVsZHMyID0gbWV0YUZvcm1zU2VydmljZS5nZXRNZXRhRmllbGRzKFwicHJvZHVjdERldGFpbDJcIik7XHJcblxyXG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAocGFyZW50UmVmcmVzaCkge1xyXG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAvLzIwMTUgPSBGdWxsIH4mIFZhcmlhdGlvbnMgZG8gbm90IGxvYWQgcHJvZHVjdCB2YXJpYXRpb25zXHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcy5nZXQoeyBpZDogYmxhZGUuaXRlbUlkLCByZXNwR3JvdXA6IDIwMTUgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYmxhZGUuY2F0YWxvZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdGFsb2dzLmdldCh7IGlkOiBkYXRhLmNhdGFsb2dJZCB9LCBmdW5jdGlvbiAoY2F0YWxvZ1Jlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jYXRhbG9nID0gY2F0YWxvZ1Jlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbEl0ZW0oZGF0YSwgcGFyZW50UmVmcmVzaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxJdGVtKGRhdGEsIHBhcmVudFJlZnJlc2gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTsgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBmaWxsSXRlbShkYXRhLCBwYXJlbnRSZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIGJsYWRlLml0ZW1JZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gZGF0YS5jb2RlO1xyXG4gICAgICAgICAgICBibGFkZS5zZWN1cml0eVNjb3BlcyA9IGRhdGEuc2VjdXJpdHlTY29wZXM7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5wcm9kdWN0VHlwZSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wcm9kdWN0VHlwZSA9ICdQaHlzaWNhbCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLml0ZW0tZGV0YWlsLnN1YnRpdGxlJztcclxuICAgICAgICAgICAgYmxhZGUuc3VidGl0bGVWYWx1ZXMgPSB7IHByb2R1Y3RUeXBlTmFtZTogJHRyYW5zbGF0ZS5pbnN0YW50KCdjYXRhbG9nLnByb2R1Y3QtdHlwZXMuJyArIGRhdGEucHJvZHVjdFR5cGUpIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgbGlua1dpdGhQcmlvcml0eSA9IGdldExpbmtXaXRoUHJpb3JpdHkoZGF0YSk7XHJcbiAgICAgICAgICAgIGRhdGEuX3ByaW9yaXR5ID0gKGxpbmtXaXRoUHJpb3JpdHkgPyBsaW5rV2l0aFByaW9yaXR5LnByaW9yaXR5IDogZGF0YS5wcmlvcml0eSkgfHwgMDtcclxuXHJcbiAgICAgICAgICAgIGJsYWRlLml0ZW0gPSBhbmd1bGFyLmNvcHkoZGF0YSk7XHJcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBibGFkZS5pdGVtO1xyXG4gICAgICAgICAgICBibGFkZS5vcmlnSXRlbSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBhcmVudFJlZnJlc2ggJiYgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCkge1xyXG4gICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChibGFkZS5jaGlsZHJlbkJsYWRlcykge1xyXG4gICAgICAgICAgICAgICAgXy5lYWNoKGJsYWRlLmNoaWxkcmVuQmxhZGVzLCBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4LnJlZnJlc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeC5yZWZyZXNoKGJsYWRlLml0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBibGFkZS5jb2RlVmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1skKzs9JXt9W1xcXXxAfiFeKiYoKT8nPD4sXS87XHJcbiAgICAgICAgICAgIHJldHVybiAhcGF0dGVybi50ZXN0KHZhbHVlKTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaXNEaXJ0eSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVxdWFscyhibGFkZS5pdGVtLCBibGFkZS5vcmlnSXRlbSkgJiYgYmxhZGUuaGFzVXBkYXRlUGVybWlzc2lvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2FuU2F2ZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlzRGlydHkoKSAmJiBibGFkZS5mb3JtU2NvcGUgJiYgYmxhZGUuZm9ybVNjb3BlLiR2YWxpZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVDaGFuZ2VzKCkge1xyXG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxpbmtXaXRoUHJpb3JpdHkgPSBnZXRMaW5rV2l0aFByaW9yaXR5KGJsYWRlLml0ZW0pO1xyXG4gICAgICAgICAgICBpZiAobGlua1dpdGhQcmlvcml0eSkge1xyXG4gICAgICAgICAgICAgICAgbGlua1dpdGhQcmlvcml0eS5wcmlvcml0eSA9IGJsYWRlLml0ZW0uX3ByaW9yaXR5O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmxhZGUuaXRlbS5wcmlvcml0eSA9IGJsYWRlLml0ZW0uX3ByaW9yaXR5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpdGVtcy51cGRhdGUoe30sIGJsYWRlLml0ZW0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2godHJ1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmxhZGUub25DbG9zZSA9IGZ1bmN0aW9uIChjbG9zZUNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbklmTmVlZGVkKGlzRGlydHkoKSwgY2FuU2F2ZSgpLCBibGFkZSwgc2F2ZUNoYW5nZXMsIGNsb3NlQ2FsbGJhY2ssIFwiY2F0YWxvZy5kaWFsb2dzLml0ZW0tc2F2ZS50aXRsZVwiLCBcImNhdGFsb2cuZGlhbG9ncy5pdGVtLXNhdmUubWVzc2FnZVwiKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRMaW5rV2l0aFByaW9yaXR5KGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHJldFZhbDtcclxuICAgICAgICAgICAgaWYgKGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2F0YWxvZ3NTZWxlY3RlZENhdGFsb2cgJiYgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jYXRhbG9nc1NlbGVjdGVkQ2F0YWxvZy5pc1ZpcnR1YWwpIHtcclxuICAgICAgICAgICAgICAgIHJldFZhbCA9IF8uZmluZChkYXRhLmxpbmtzLCBmdW5jdGlvbiAobCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsLmNhdGFsb2dJZCA9PT0gYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jYXRhbG9nc1NlbGVjdGVkQ2F0YWxvZy5pZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2F0YWxvZ3NTZWxlY3RlZENhdGVnb3J5SWQgfHwgbC5jYXRlZ29yeUlkID09PSBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNhdGFsb2dzU2VsZWN0ZWRDYXRlZ29yeUlkKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXRWYWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBibGFkZS5mb3JtU2NvcGUgPSBudWxsO1xyXG4gICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHsgYmxhZGUuZm9ybVNjb3BlID0gZm9ybTsgfVxyXG5cclxuICAgICAgICBibGFkZS5oZWFkSWNvbiA9IGJsYWRlLnByb2R1Y3RUeXBlID09PSAnRGlnaXRhbCcgPyAnZmEgZmEtZmlsZS16aXAtbycgOiAnZmEgZmEtZHJvcGJveCc7XHJcblxyXG4gICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5zYXZlXCIsIGljb246ICdmYXMgZmEtc2F2ZScsXHJcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBzYXZlQ2hhbmdlcyxcclxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGNhblNhdmUsXHJcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVzZXRcIiwgaWNvbjogJ2ZhIGZhLXVuZG8nLFxyXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5vcmlnSXRlbSwgYmxhZGUuaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNEaXJ0eSxcclxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5jbG9uZVwiLCBpY29uOiAnZmFzIGZhLWNsb25lJyxcclxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmNsb25lSXRlbSh7IGl0ZW1JZDogYmxhZGUuaXRlbUlkIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBibGFkZS5pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW06IGRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy53aXphcmRzLm5ldy1wcm9kdWN0LnRpdGxlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2NhdGFsb2cud2l6YXJkcy5uZXctcHJvZHVjdC5zdWJ0aXRsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLm5ld1Byb2R1Y3RXaXphcmRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy93aXphcmRzL25ld1Byb2R1Y3QvbmV3LXByb2R1Y3Qtd2l6YXJkLnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUucGFyZW50QmxhZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhaXNEaXJ0eSgpOyB9LFxyXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ2NhdGFsb2c6Y3JlYXRlJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gZGF0ZXBpY2tlclxyXG4gICAgICAgIGJsYWRlLmRhdGVwaWNrZXJzID0ge307XHJcbiAgICAgICAgYmxhZGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGJsYWRlLmRhdGVwaWNrZXJzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdFZlbmRvcnMoKSB7XHJcbiAgICAgICAgICAgIGJsYWRlLnZlbmRvcnMgPSBtZW1iZXJzLnNlYXJjaCh7XHJcbiAgICAgICAgICAgICAgICBtZW1iZXJUeXBlOiAnVmVuZG9yJyxcclxuICAgICAgICAgICAgICAgIHNvcnQ6ICduYW1lOmFzYycsXHJcbiAgICAgICAgICAgICAgICB0YWtlOiAxMDAwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmxhZGUub3BlblZlbmRvcnNNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICBtZW1iZXJUeXBlOiAnVmVuZG9yJyxcclxuICAgICAgICAgICAgICAgIHBhcmVudFJlZnJlc2g6IGluaXRWZW5kb3JzLFxyXG4gICAgICAgICAgICAgICAgaWQ6ICd2ZW5kb3JMaXN0JyxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IHsgaWQ6IG51bGwgfSxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlckxpc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIpL1NjcmlwdHMvYmxhZGVzL21lbWJlci1saXN0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGJsYWRlLm9wZW5EaWN0aW9uYXJ5U2V0dGluZ01hbmFnZW1lbnQgPSBmdW5jdGlvbiAoc2V0dGluZykge1xyXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ3NldHRpbmdEZXRhaWxDaGlsZCcsXHJcbiAgICAgICAgICAgICAgICBpc0FwaVNhdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ0RpY3Rpb25hcnlDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvc2V0dGluZ3MvYmxhZGVzL3NldHRpbmctZGljdGlvbmFyeS50cGwuaHRtbCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgc3dpdGNoIChzZXR0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdUYXhUeXBlcyc6XHJcbiAgICAgICAgICAgICAgICAgICAgXy5leHRlbmQobmV3QmxhZGUsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiAnVmlydG9Db21tZXJjZS5Db3JlLkdlbmVyYWwuVGF4VHlwZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWZyZXNoOiBmdW5jdGlvbiAoZGF0YSkgeyBibGFkZS50YXhUeXBlcyA9IGRhdGE7IH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuJG9uKFwicmVmcmVzaC1lbnRpdHktYnktaWRcIiwgZnVuY3Rpb24gKGV2ZW50LCBpZCkge1xyXG4gICAgICAgICAgICBpZiAoYmxhZGUuY3VycmVudEVudGl0eUlkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGluaXRWZW5kb3JzKCk7XHJcbiAgICAgICAgYmxhZGUudGF4VHlwZXMgPSBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLlRheFR5cGVzJyB9KTtcclxuXHJcbiAgICAgICAgYmxhZGUucmVmcmVzaChmYWxzZSk7XHJcbiAgICB9XSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtRGltZW5zaW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ3MnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1zJywgJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVycycsICd2aXJ0b0NvbW1lcmNlLmNvcmVNb2R1bGUucGFja2FnZVR5cGUucGFja2FnZVR5cGVVdGlscycsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIHNldHRpbmdzLCBpdGVtcywgbWVtYmVycywgcGFja2FnZVR5cGVVdGlscykge1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICBibGFkZS50aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy5pdGVtLWRpbWVuc2lvbnMudGl0bGUnO1xuICAgIGJsYWRlLnN1YnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLml0ZW0tZGltZW5zaW9ucy5zdWJ0aXRsZSc7XG4gICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgJHNjb3BlLmlzVmFsaWQgPSBmYWxzZTtcblxuICAgIHZhciBmb3JtU2NvcGU7XG4gICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICBmb3JtU2NvcGUgPSBmb3JtO1xuICAgIH1cblxuICAgICRzY29wZS4kd2F0Y2goXCJibGFkZS5jdXJyZW50RW50aXR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSBmb3JtU2NvcGUgJiYgZm9ybVNjb3BlLiR2YWxpZDtcbiAgICB9LCB0cnVlKTtcblxuICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgaW5pdGlhbGl6ZShpdGVtKTtcbiAgICAgICAgfVx0XG4gICAgfTtcbiAgICBmdW5jdGlvbiBpbml0YWxpemUoaXRlbSkge1xyXG4gICAgICAgICRzY29wZS5wYWNrYWdlVHlwZVV0aWxzID0gcGFja2FnZVR5cGVVdGlscztcclxuICAgICAgICAkc2NvcGUucGFja2FnZVR5cGVzID0gcGFja2FnZVR5cGVVdGlscy5nZXRQYWNrYWdlVHlwZXMoKTtcclxuXG4gICAgICAgIGJsYWRlLml0ZW0gPSBpdGVtO1xuXG4gICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSB7XG4gICAgICAgICAgICB3ZWlnaHRVbml0IDogaXRlbS53ZWlnaHRVbml0LFxuICAgICAgICAgICAgcGFja2FnZVR5cGUgOiBpdGVtLnBhY2thZ2VUeXBlLFxuICAgICAgICAgICAgd2VpZ2h0IDogaXRlbS53ZWlnaHQsXG4gICAgICAgICAgICBtZWFzdXJlVW5pdCA6IGl0ZW0ubWVhc3VyZVVuaXQsXG4gICAgICAgICAgICBoZWlnaHQgOiBpdGVtLmhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoIDogaXRlbS53aWR0aCxcbiAgICAgICAgICAgIGxlbmd0aDogaXRlbS5sZW5ndGgsXHJcbiAgICAgICAgICAgIHVzZVBhY2thZ2VUeXBlOiBpdGVtLnBhY2thZ2VUeXBlICYmICEoaXRlbS5tZWFzdXJlVW5pdCAmJiBpdGVtLmhlaWdodCAmJiBpdGVtLndpZHRoICYmIGl0ZW0ubGVuZ3RoKVxuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS53ZWlnaHRVbml0cyA9IHNldHRpbmdzLmdldFZhbHVlcyh7IGlkOiAnVmlydG9Db21tZXJjZS5Db3JlLkdlbmVyYWwuV2VpZ2h0VW5pdHMnIH0pO1xuICAgICAgICAkc2NvcGUubWVhc3VyZVVuaXRzID0gc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdWaXJ0b0NvbW1lcmNlLkNvcmUuR2VuZXJhbC5NZWFzdXJlVW5pdHMnIH0pOyAgICAgICAgXHJcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhbmd1bGFyLmV4dGVuZChibGFkZS5pdGVtLCBibGFkZS5jdXJyZW50RW50aXR5KTtcclxuICAgICAgICBpZiAoYmxhZGUuaXRlbS51c2VQYWNrYWdlVHlwZSkge1xyXG4gICAgICAgICAgICBkZWxldGUgYmxhZGUuaXRlbS5tZWFzdXJlVW5pdDtcclxuICAgICAgICAgICAgZGVsZXRlIGJsYWRlLml0ZW0uaGVpZ2h0O1xyXG4gICAgICAgICAgICBkZWxldGUgYmxhZGUuaXRlbS53aWR0aDtcclxuICAgICAgICAgICAgZGVsZXRlIGJsYWRlLml0ZW0ubGVuZ3RoO1xyXG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICB9O1xuICAgIFxuICAgICRzY29wZS5vcGVuRGljdGlvbmFyeVNldHRpbmdNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKHNldHRpbmcpIHtcbiAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgaWQ6ICdzZXR0aW5nRGV0YWlsQ2hpbGQnLFxuICAgICAgICAgICAgaXNBcGlTYXZlOiB0cnVlLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdEaWN0aW9uYXJ5Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJyQoUGxhdGZvcm0pL1NjcmlwdHMvYXBwL3NldHRpbmdzL2JsYWRlcy9zZXR0aW5nLWRpY3Rpb25hcnkudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAoc2V0dGluZykge1xuICAgICAgICAgICAgY2FzZSAnV2VpZ2h0VW5pdHMnOlxuICAgICAgICAgICAgICAgIF8uZXh0ZW5kKG5ld0JsYWRlLCB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLldlaWdodFVuaXRzJyxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVmcmVzaDogZnVuY3Rpb24gKGRhdGEpIHsgJHNjb3BlLndlaWdodFVuaXRzID0gZGF0YTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTWVhc3VyZVVuaXRzJzpcbiAgICAgICAgICAgICAgICBfLmV4dGVuZChuZXdCbGFkZSwge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6ICdWaXJ0b0NvbW1lcmNlLkNvcmUuR2VuZXJhbC5NZWFzdXJlVW5pdHMnLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWZyZXNoOiBmdW5jdGlvbiAoZGF0YSkgeyAkc2NvcGUubWVhc3VyZVVuaXRzID0gZGF0YTsgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUuY3VycmVudEVudGl0eS5wYWNrYWdlVHlwZScsIGZ1bmN0aW9uIChwYWNrYWdlVHlwZUlkKSB7XHJcbiAgICAgICAgaWYgKCFwYWNrYWdlVHlwZUlkKSB7XHJcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkudXNlUGFja2FnZVR5cGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcblxyXG4gICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUuY3VycmVudEVudGl0eS51c2VQYWNrYWdlVHlwZScsIGZ1bmN0aW9uICh1c2VQYWNrYWdlVHlwZVZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCF1c2VQYWNrYWdlVHlwZVZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghYmxhZGUuY3VycmVudEVudGl0eS5tZWFzdXJlVW5pdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhY2thZ2VUeXBlID0gXy5maW5kKCRzY29wZS5wYWNrYWdlVHlwZXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09IGJsYWRlLmN1cnJlbnRFbnRpdHkucGFja2FnZVR5cGU7IH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhY2thZ2VUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5tZWFzdXJlVW5pdCA9IHBhY2thZ2VUeXBlLm1lYXN1cmVVbml0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XG5cbiAgICBpbml0YWxpemUoYmxhZGUuaXRlbSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1Qcm9wZXJ0eURldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckcScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydGllcycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZhbHVlVHlwZXMnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnR5VmFsaWRhdG9ycycsIGZ1bmN0aW9uICgkc2NvcGUsICRxLCBwcm9wZXJ0aWVzLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBkaWFsb2dTZXJ2aWNlLCB2YWx1ZVR5cGVzLCBwcm9wZXJ0eVZhbGlkYXRvcnMpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICBibGFkZS5hdmFpbGFibGVWYWx1ZVR5cGVzID0gdmFsdWVUeXBlcy5nZXQoKTtcbiAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSBmYWxzZTtcblxuICAgICAgICBibGFkZS50aXRsZSA9IFwiY2F0YWxvZy5ibGFkZXMuaXRlbS1wcm9wZXJ0eS1kZXRhaWwudGl0bGVcIjtcbiAgICAgICAgYmxhZGUuc3VidGl0bGUgPSBcImNhdGFsb2cuYmxhZGVzLml0ZW0tcHJvcGVydHktZGV0YWlsLnN1YnRpdGxlXCI7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaChcImJsYWRlLmN1cnJlbnRFbnRpdHlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSAkc2NvcGUuZm9ybVNjb3BlICYmICRzY29wZS5mb3JtU2NvcGUuJHZhbGlkO1xuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnZhbHVlVHlwZSA9PT0gJ051bWJlcicgJiYgZGF0YS5kaWN0aW9uYXJ5VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgXy5mb3JFYWNoKGRhdGEuZGljdGlvbmFyeVZhbHVlcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5LnZhbHVlID0gcGFyc2VGbG9hdChlbnRyeS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5jb3B5KGRhdGEpO1xyXG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuZG9WYWxpZGF0ZU5hbWVBc3luYyA9IHZhbHVlID0+IHtcclxuICAgICAgICAgICAgLy8gY29tbW9uIHByb3BlcnR5IG5hbWUgZXJyb3JzIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgaWYgKHZhbHVlICYmICFwcm9wZXJ0eVZhbGlkYXRvcnMuaXNOYW1lVmFsaWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogJ3Byb3BlcnR5LW5hbWluZy1lcnJvcidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnRpZXMudmFsaWRhdGVOYW1lKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxOYW1lOiBibGFkZS5vcmlnRW50aXR5Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IGJsYWRlLnByb2R1Y3RJZFxyXG4gICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JEYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JEYXRhID0gcmVzdWx0LmVycm9yc1swXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5vcGVuQmxhZGUgPSBuZXdCbGFkZURhdGEgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgICAgICAgICAgaWQ6IFwiZHVwbGljYXRlVmFyaWF0aW9uRGV0YWlsXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IG5ld0JsYWRlRGF0YS5jb2RlLFxuICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9pdGVtLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgIH0sIG5ld0JsYWRlRGF0YSk7XHJcblxyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICBpZiAoYmxhZGUuaXNOZXcgJiYgYmxhZGUucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGJsYWRlLnByb3BlcnRpZXMucHVzaChibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5ibGFkZUNsb3NlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUHJvcGVydHkocHJvcCkge1xuICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHtcbiAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwicGxhdGZvcm0uZGlhbG9ncy5kZWxldGUudGl0bGVcIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnY2F0YWxvZy5kaWFsb2dzLml0ZW0tcHJvcGVydHktZGVsZXRlLm1lc3NhZ2UnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VWYWx1ZXM6IHsgbmFtZTogcHJvcC5uYW1lIH0sXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IGJsYWRlLnByb3BlcnRpZXMuaW5kZXhPZihibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnByb3BlcnRpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlhbG9nU2VydmljZS5zaG93Q29uZmlybWF0aW9uRGlhbG9nKGRpYWxvZyk7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuc2V0Rm9ybSA9IGZ1bmN0aW9uIChmb3JtKSB7ICRzY29wZS5mb3JtU2NvcGUgPSBmb3JtOyB9O1xuXG4gICAgICAgIGlmICghYmxhZGUuaXNOZXcpIHtcbiAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLWdlYXInO1xuICAgICAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVQcm9wZXJ0eShibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWN0aW9ucyBvbiBsb2FkICAgIFxuICAgICAgICBpbml0aWFsaXplKGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgIH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtVmFyaWF0aW9uTGlzdENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1zJywgJ2ZpbHRlckZpbHRlcicsICd1aUdyaWRDb25zdGFudHMnLCAncGxhdGZvcm1XZWJBcHAudWlHcmlkSGVscGVyJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5zZWFyY2gnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVVdGlscycsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGRpYWxvZ1NlcnZpY2UsIGl0ZW1zLCBmaWx0ZXJGaWx0ZXIsIHVpR3JpZENvbnN0YW50cywgdWlHcmlkSGVscGVyLCBzZWFyY2gsIGJsYWRlVXRpbHMpIHtcbiAgICAkc2NvcGUudWlHcmlkQ29uc3RhbnRzID0gdWlHcmlkQ29uc3RhbnRzO1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICBibGFkZS50aXRsZSA9IGJsYWRlLml0ZW0ubmFtZTtcbiAgICBibGFkZS5zdWJ0aXRsZSA9ICdjYXRhbG9nLndpZGdldHMuaXRlbVZhcmlhdGlvbi5ibGFkZS1zdWJ0aXRsZSc7XG5cblxuICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAocGFnZU51bWJlcikge1xuXG4gICAgICAgIGlmICghcGFnZU51bWJlcikge1xuICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNlYXJjaENyaXRlcmlhID0ge1xuICAgICAgICAgICAgbWFpblByb2R1Y3RJZDogYmxhZGUuaXRlbS5pZCxcbiAgICAgICAgICAgIHJlc3BvbnNlR3JvdXA6ICd3aXRoUHJvZHVjdHMnLFxuICAgICAgICAgICAgb2JqZWN0VHlwZTogJ0NhdGFsb2dQcm9kdWN0JyxcbiAgICAgICAgICAgIHNvcnQ6IHVpR3JpZEhlbHBlci5nZXRTb3J0RXhwcmVzc2lvbigkc2NvcGUpLFxuICAgICAgICAgICAgc2tpcDogKCRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgLSAxKSAqICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQsXG4gICAgICAgICAgICB0YWtlOiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgd2l0aEhpZGRlbjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlYXJjaC5zZWFyY2hQcm9kdWN0cyhcbiAgICAgICAgICAgIHNlYXJjaENyaXRlcmlhLFxuICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsQ291bnQ7XG4gICAgICAgICAgICAgICAgYmxhZGUudmFyaWF0aW9ucyA9IGRhdGEucmVzdWx0cztcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGFzTW9yZSA9IGRhdGEucmVzdWx0cy5sZW5ndGggPT09ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQ7XG4gICAgICAgICAgICB9KTtcbiAgICB9O1xuXG5cbiAgICBibGFkZS5zZXRTZWxlY3RlZEl0ZW0gPSBmdW5jdGlvbiAobGlzdEl0ZW0pIHtcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbGlzdEl0ZW0uaWQ7XG4gICAgfTtcblxuICAgICRzY29wZS5zZWxlY3RWYXJpYXRpb24gPSBmdW5jdGlvbiAobGlzdEl0ZW0pIHtcbiAgICAgICAgYmxhZGUuc2V0U2VsZWN0ZWRJdGVtKGxpc3RJdGVtKTtcbiAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgaWQ6ICd2YXJpYXRpb25EZXRhaWwnLFxuICAgICAgICAgICAgaXRlbUlkOiBsaXN0SXRlbS5pZCxcbiAgICAgICAgICAgIHByb2R1Y3RUeXBlOiBsaXN0SXRlbS5wcm9kdWN0VHlwZSxcbiAgICAgICAgICAgIHRpdGxlOiBsaXN0SXRlbS5jb2RlLFxuICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcbiAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuaXRlbS1kZXRhaWwuc3VidGl0bGUtdmFyaWF0aW9uJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbURldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9pdGVtLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmRlbGV0ZUxpc3QgPSBmdW5jdGlvbiAobGlzdCkge1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQ2hpbGRyZW5CbGFkZXMoYmxhZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IFwiY29uZmlybURlbGV0ZUl0ZW1cIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmRpYWxvZ3MudmFyaWF0aW9uLWRlbGV0ZS50aXRsZVwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiY2F0YWxvZy5kaWFsb2dzLnZhcmlhdGlvbi1kZWxldGUubWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHMgPSBfLnBsdWNrKGxpc3QsICdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucmVtb3ZlKHsgaWRzOiBpZHMgfSwgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCwgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dDb25maXJtYXRpb25EaWFsb2coZGlhbG9nKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuXG4gICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtZHJvcGJveCc7XG5cbiAgICBpZiAoYmxhZGUudG9vbGJhckNvbW1hbmRzQW5kRXZlbnRzICYmIGJsYWRlLnRvb2xiYXJDb21tYW5kc0FuZEV2ZW50cy50b29sYmFyQ29tbWFuZHMpIHtcbiAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gYmxhZGUudG9vbGJhckNvbW1hbmRzQW5kRXZlbnRzLnRvb2xiYXJDb21tYW5kcztcbiAgICB9IGVsc2VcbiAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVmcmVzaFwiLCBpY29uOiAnZmEgZmEtcmVmcmVzaCcsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5hZGRcIiwgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLm5ld1ZhcmlhdGlvbih7IGl0ZW1JZDogYmxhZGUuaXRlbS5pZCB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFrZSB2YXJpYXRpb24gcHJvcGVydGllcyBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnByb3BlcnRpZXMgPSBfLndoZXJlKGRhdGEucHJvcGVydGllcywgeyB0eXBlOiAnVmFyaWF0aW9uJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucHJvZHVjdFR5cGUgPSBibGFkZS5pdGVtLnByb2R1Y3RUeXBlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wcm9kdWN0VHlwZSA9PT0gJ0RpZ2l0YWwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZGF0YS5wcm9kdWN0VHlwZSA9PT0gJ0JpbGxPZk1hdGVyaWFscycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnRyYWNrSW52ZW50b3J5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3ZhcmlhdGlvbkRldGFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cud2l6YXJkcy5uZXctdmFyaWF0aW9uLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjYXRhbG9nLndpemFyZHMubmV3LXZhcmlhdGlvbi5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5uZXdQcm9kdWN0V2l6YXJkQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL3dpemFyZHMvbmV3UHJvZHVjdC9uZXctdmFyaWF0aW9uLXdpemFyZC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTsgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246ICdjYXRhbG9nOmNyZWF0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUxpc3QoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ncmlkQXBpICYmIF8uYW55KCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnY2F0YWxvZzpkZWxldGUnXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG5cbiAgICAvLyBzaW1wbGUgYW5kIGFkdmFuY2VkIGZpbHRlcmluZ1xuICAgIHZhciBmaWx0ZXIgPSAkc2NvcGUuZmlsdGVyID0ge307XG5cbiAgICBmaWx0ZXIuY3JpdGVyaWFDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA+IDEpIHtcbiAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIHVpLWdyaWRcbiAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZE9wdGlvbnMpIHtcbiAgICAgICAgdWlHcmlkSGVscGVyLmluaXRpYWxpemUoJHNjb3BlLCBncmlkT3B0aW9ucywgZnVuY3Rpb24gKGdyaWRBcGkpIHtcbiAgICAgICAgICAgIGdyaWRBcGkuZ3JpZC5yZWdpc3RlclJvd3NQcm9jZXNzb3IoJHNjb3BlLnNpbmdsZUZpbHRlciwgOTApO1xuICAgICAgICAgICAgdWlHcmlkSGVscGVyLmJpbmRSZWZyZXNoT25Tb3J0Q2hhbmdlZCgkc2NvcGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgYmxhZGVVdGlscy5pbml0aWFsaXplUGFnaW5hdGlvbigkc2NvcGUpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2luZ2xlRmlsdGVyID0gZnVuY3Rpb24gKHJlbmRlcmFibGVSb3dzKSB7XG4gICAgICAgIHZhciB2aXNpYmxlQ291bnQgPSAwO1xuICAgICAgICByZW5kZXJhYmxlUm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIHJvdy52aXNpYmxlID0gXy5hbnkoZmlsdGVyRmlsdGVyKFtyb3cuZW50aXR5XSwgYmxhZGUuc2VhcmNoVGV4dCkpO1xuICAgICAgICAgICAgaWYgKHJvdy52aXNpYmxlKSB2aXNpYmxlQ291bnQrKztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLmZpbHRlcmVkRW50aXRpZXNDb3VudCA9IHZpc2libGVDb3VudDtcbiAgICAgICAgcmV0dXJuIHJlbmRlcmFibGVSb3dzO1xuICAgIH07XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eUF0dHJpYnV0ZXNDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGZpbHRlcicsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgJGZpbHRlciwgZGlhbG9nU2VydmljZSkge1xuICAgIHZhciBwYiA9ICRzY29wZS5ibGFkZS5wYXJlbnRCbGFkZTtcbiAgICAkc2NvcGUucGIgPSBwYjtcblxuICAgIHZhciBmb3JtU2NvcGU7XG5cbiAgICAkc2NvcGUuYXR0cmlidXRlTmFtZVZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gXy5hbGwocGIuY3VycmVudEVudGl0eS5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5uYW1lICE9PSB2YWx1ZTsgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICBmb3JtU2NvcGUgPSBmb3JtO1xuICAgIH1cblxuICAgICRzY29wZS5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChmb3JtU2NvcGUuJHZhbGlkKSB7XG4gICAgICAgICAgICBwYi5jdXJyZW50RW50aXR5LmF0dHJpYnV0ZXMucHVzaCgkc2NvcGUubmV3VmFsdWUpO1xuICAgICAgICAgICAgcmVzZXROZXdWYWx1ZSgpO1xuICAgICAgICAgICAgZm9ybVNjb3BlLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5kZWxldGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcGIuY3VycmVudEVudGl0eS5hdHRyaWJ1dGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgICRzY29wZS5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBsaXN0SXRlbTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLWdlYXInO1xuXG4gICAgJHNjb3BlLmJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAge1xuICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgIGRlbGV0ZUNoZWNrZWQoKTtcbiAgICAgICAgIH0sXG4gICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgcmV0dXJuIGlzSXRlbXNDaGVja2VkKCk7XG4gICAgICAgICB9XG4gICAgIH1cbiAgICBdO1xuXG4gICAgJHNjb3BlLmNoZWNrQWxsID0gZnVuY3Rpb24gKHNlbGVjdGVkKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwYi5jdXJyZW50RW50aXR5LmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZXNldE5ld1ZhbHVlKCkge1xuICAgICAgICAkc2NvcGUubmV3VmFsdWUgPSB7IG5hbWU6IG51bGwsIHZhbHVlOiBudWxsIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNJdGVtc0NoZWNrZWQoKSB7XG4gICAgICAgIHJldHVybiBfLmFueShwYi5jdXJyZW50RW50aXR5LmF0dHJpYnV0ZXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnNlbGVjdGVkOyB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWxldGVDaGVja2VkKCkge1xuICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgaWQ6IFwiY29uZmlybURlbGV0ZUl0ZW1cIixcbiAgICAgICAgICAgIHRpdGxlOiBcImNhdGFsb2cuZGlhbG9ncy5hdHRyaWJ1dC1kZWxldGUudGl0bGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiY2F0YWxvZy5kaWFsb2dzLmF0dHJpYnV0LWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9ICRmaWx0ZXIoJ2ZpbHRlcicpKHBiLmN1cnJlbnRFbnRpdHkuYXR0cmlidXRlcywgeyBzZWxlY3RlZDogdHJ1ZSB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGlvbiwgZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlKHBiLmN1cnJlbnRFbnRpdHkuYXR0cmlidXRlcy5pbmRleE9mKGxpc3RJdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dDb25maXJtYXRpb25EaWFsb2coZGlhbG9nKTtcbiAgICB9XG5cbiAgICAvLyBvbiBsb2FkXG4gICAgcmVzZXROZXdWYWx1ZSgpO1xuICAgICRzY29wZS5ibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlEZXRhaWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHEnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnRpZXMnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS52YWx1ZVR5cGVzJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eVZhbGlkYXRvcnMnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcSwgcHJvcGVydGllcywgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgZGlhbG9nU2VydmljZSwgdmFsdWVUeXBlcywgcHJvcGVydHlWYWxpZGF0b3JzKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcclxuICAgICAgICBibGFkZS51cGRhdGVQZXJtaXNzaW9uID0gJ2NhdGFsb2c6dXBkYXRlJztcbiAgICAgICAgYmxhZGUub3JpZ0VudGl0eSA9IHt9O1xuICAgICAgICAkc2NvcGUuY3VycmVudENoaWxkID0gdW5kZWZpbmVkO1xuICAgICAgICBibGFkZS50aXRsZSA9IFwiY2F0YWxvZy5ibGFkZXMucHJvcGVydHktZGV0YWlsLnRpdGxlXCI7XG4gICAgICAgIGJsYWRlLnN1YnRpdGxlID0gXCJjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS1kZXRhaWwuc3VidGl0bGVcIjtcbiAgICAgICAgYmxhZGUuYXZhaWxhYmxlVmFsdWVUeXBlcyA9IHZhbHVlVHlwZXMuZ2V0KCk7XG5cbiAgICAgICAgYmxhZGUuaGFzTXVsdGl2YWx1ZSA9IHRydWU7XG4gICAgICAgIGJsYWRlLmhhc0RpY3Rpb25hcnkgPSB0cnVlO1xuICAgICAgICBibGFkZS5oYXNNdWx0aWxhbmd1YWdlID0gdHJ1ZTtcblxuICAgICAgICBibGFkZS5hdmFpbGFibGVQcm9wZXJ0eVR5cGVzID0gYmxhZGUuY2F0YWxvZ0lkID8gWydQcm9kdWN0JywgJ1ZhcmlhdGlvbicsICdDYXRlZ29yeScsICdDYXRhbG9nJ10gOiBbJ1Byb2R1Y3QnLCAnVmFyaWF0aW9uJywgJ0NhdGVnb3J5J107XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUuY3VycmVudEVudGl0eS52YWx1ZVR5cGUnLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICBibGFkZS5oYXNNdWx0aXZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIGJsYWRlLmhhc0RpY3Rpb25hcnkgPSB0cnVlO1xuICAgICAgICAgICAgYmxhZGUuaGFzTXVsdGlsYW5ndWFnZSA9IHRydWU7XG4gICAgICAgICAgICBzd2l0Y2ggKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnRGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ0Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgICAgICBibGFkZS5oYXNNdWx0aXZhbHVlID0gYmxhZGUuY3VycmVudEVudGl0eS5tdWx0aXZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmhhc0RpY3Rpb25hcnkgPSBibGFkZS5jdXJyZW50RW50aXR5LmRpY3Rpb25hcnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaGFzTXVsdGlsYW5ndWFnZSA9IGJsYWRlLmN1cnJlbnRFbnRpdHkubXVsdGlsYW5ndWFnZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdJbnRlZ2VyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdHZW9Qb2ludCc6XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmhhc0RpY3Rpb25hcnkgPSBibGFkZS5jdXJyZW50RW50aXR5LmRpY3Rpb25hcnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaGFzTXVsdGlsYW5ndWFnZSA9IGJsYWRlLmN1cnJlbnRFbnRpdHkubXVsdGlsYW5ndWFnZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdMb25nVGV4dCc6XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmhhc0RpY3Rpb25hcnkgPSBibGFkZS5jdXJyZW50RW50aXR5LmRpY3Rpb25hcnkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkc2NvcGUuZG9WYWxpZGF0ZU5hbWVBc3luYyA9IHZhbHVlID0+IHtcbiAgICAgICAgICAgIC8vIGNvbW1vbiBwcm9wZXJ0eSBuYW1lIGVycm9ycyB2YWxpZGF0aW9uXG4gICAgICAgICAgICBpZiAodmFsdWUgJiYgIXByb3BlcnR5VmFsaWRhdG9ycy5pc05hbWVWYWxpZCh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6ICdwcm9wZXJ0eS1uYW1pbmctZXJyb3InXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdmFsaWRhdGlvbiBmb3IgY2F0ZWdvcnkgcHJvcGVydGllc1xuICAgICAgICAgICAgLy8gc2tpcHMgYmFja2VuZCBwcm9wZXJ0eSBuYW1lIHZhbGlkYXRpb24gZm9yIGN1cnJlbnQgZW50aXR5IGVkaXQgd2hlbiB0aGUgb2xkIG5hbWUgZXF1YWxzIG5ldyBuYW1lXG4gICAgICAgICAgICBpZiAoIWJsYWRlLm9yaWdFbnRpdHkuaXNOZXcgJiYgdmFsdWUgPT09IGJsYWRlLm9yaWdFbnRpdHkubmFtZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5lcnJvckRhdGEgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzLnZhbGlkYXRlQ2F0ZWdvcnlQcm9wZXJ0eU5hbWUoe1xuICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgcHJvcGVydHlUeXBlOiBibGFkZS5vcmlnRW50aXR5LnR5cGUsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDogYmxhZGUub3JpZ0VudGl0eS5jYXRlZ29yeUlkLFxuICAgICAgICAgICAgICAgIGNhdGFsb2dJZDogYmxhZGUub3JpZ0VudGl0eS5jYXRhbG9nSWRcbiAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yRGF0YSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yRGF0YSA9IHJlc3VsdC5lcnJvcnNbMF07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKHBhcmVudFJlZnJlc2gpIHtcbiAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5SWQpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmdldCh7IHByb3BlcnR5SWQ6IGJsYWRlLmN1cnJlbnRFbnRpdHlJZCB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRSZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHsgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgYmxhZGUpOyB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxhZGUuY2F0ZWdvcnlJZCkge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMubmV3Q2F0ZWdvcnlQcm9wZXJ0eSh7IGNhdGVnb3J5SWQ6IGJsYWRlLmNhdGVnb3J5SWQgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYmxhZGUuY2F0YWxvZ0lkKSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5uZXdDYXRhbG9nUHJvcGVydHkoeyBjYXRhbG9nSWQ6IGJsYWRlLmNhdGFsb2dJZCB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTsgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLm9wZW5DaGlsZCA9IGZ1bmN0aW9uIChjaGlsZFR5cGUpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHsgaWQ6IFwicHJvcGVydHlDaGlsZFwiIH07XG4gICAgICAgICAgICBuZXdCbGFkZS5wcm9wZXJ0eSA9IGJsYWRlLmN1cnJlbnRFbnRpdHk7XG4gICAgICAgICAgICBuZXdCbGFkZS5sYW5ndWFnZXMgPSBibGFkZS5sYW5ndWFnZXM7XG4gICAgICAgICAgICBuZXdCbGFkZS5kZWZhdWx0TGFuZ3VhZ2UgPSBibGFkZS5kZWZhdWx0TGFuZ3VhZ2U7XG4gICAgICAgICAgICBzd2l0Y2ggKGNoaWxkVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2F0dHInOlxuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS50aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS1hdHRyaWJ1dGVzLnRpdGxlJztcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxhZGUudGl0bGVWYWx1ZXMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBibGFkZS5vcmlnRW50aXR5Lm5hbWUgPyBibGFkZS5vcmlnRW50aXR5Lm5hbWUgOiBibGFkZS5jdXJyZW50RW50aXR5Lm5hbWUgfTtcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxhZGUuc3VidGl0bGUgPSAnY2F0YWxvZy5ibGFkZXMucHJvcGVydHktYXR0cmlidXRlcy5zdWJ0aXRsZSc7XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlLmNvbnRyb2xsZXIgPSAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnR5QXR0cmlidXRlc0NvbnRyb2xsZXInO1xuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS50ZW1wbGF0ZSA9ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9wcm9wZXJ0eS1hdHRyaWJ1dGVzLnRwbC5odG1sJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncnVsZXMnOlxuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS50aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS12YWxpZGF0aW9uUnVsZS50aXRsZSc7XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlLnRpdGxlVmFsdWVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogYmxhZGUub3JpZ0VudGl0eS5uYW1lID8gYmxhZGUub3JpZ0VudGl0eS5uYW1lIDogYmxhZGUuY3VycmVudEVudGl0eS5uYW1lIH07XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlLnN1YnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLnByb3BlcnR5LXZhbGlkYXRpb25SdWxlLnN1YnRpdGxlJztcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxhZGUuY29udHJvbGxlciA9ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlWYWxpZGF0aW9uUnVsZXNDb250cm9sbGVyJztcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxhZGUudGVtcGxhdGUgPSAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvcHJvcGVydHktdmFsaWRhdGlvblJ1bGVzLnRwbC5odG1sJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGljdCc6XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlLnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLnByb3BlcnR5LWRpY3Rpb25hcnkudGl0bGUnO1xuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS50aXRsZVZhbHVlcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IGJsYWRlLm9yaWdFbnRpdHkubmFtZSA/IGJsYWRlLm9yaWdFbnRpdHkubmFtZSA6IGJsYWRlLmN1cnJlbnRFbnRpdHkubmFtZSB9O1xuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS5zdWJ0aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS1kaWN0aW9uYXJ5LnN1YnRpdGxlJztcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxhZGUuY29udHJvbGxlciA9ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlEaWN0aW9uYXJ5TGlzdENvbnRyb2xsZXInO1xuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS50ZW1wbGF0ZSA9ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9wcm9wZXJ0eS1kaWN0aW9uYXJ5LWxpc3QudHBsLmh0bWwnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICAkc2NvcGUuY3VycmVudENoaWxkID0gY2hpbGRUeXBlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZShkYXRhKSB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnZhbHVlcyh7IHByb3BlcnR5SWQ6IGRhdGEuaWQgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5kaWN0aW9uYXJ5VmFsdWVzID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudmFsdWVUeXBlID09PSAnTnVtYmVyJyAmJiBkYXRhLmRpY3Rpb25hcnlWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGRhdGEuZGljdGlvbmFyeVZhbHVlcywgZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS52YWx1ZSA9IHBhcnNlRmxvYXQoZW50cnkudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cclxuICAgICAgICAgICAgICAgIGlmIChibGFkZS5wcm9wZXJ0eVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnR5cGUgPSBibGFkZS5wcm9wZXJ0eVR5cGU7XHJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShkYXRhKTtcbiAgICAgICAgICAgICAgICBibGFkZS5vcmlnRW50aXR5ID0gZGF0YTtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbG9ja1NhdmUoKSB7XG4gICAgICAgICAgICAkc2NvcGUuZHVwbGljYXRlZE5hbWUgPSBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0eS5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGlzU2F2ZUxvY2tlZCgpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBibGFkZS5jdXJyZW50RW50aXR5ICYmICRzY29wZS5kdXBsaWNhdGVkTmFtZSA9PT0gYmxhZGUuY3VycmVudEVudGl0eS5uYW1lO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEaXJ0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiAhYW5ndWxhci5lcXVhbHMoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSkgJiYgYmxhZGUuaGFzVXBkYXRlUGVybWlzc2lvbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2FuU2F2ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiAoYmxhZGUub3JpZ0VudGl0eS5pc05ldyB8fCBpc0RpcnR5KCkpICYmIGZvcm1TY29wZSAmJiBmb3JtU2NvcGUuJHZhbGlkICYmICFpc1NhdmVMb2NrZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gc2F2ZUNoYW5nZXMoKSB7XG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAkc2NvcGUuZG9WYWxpZGF0ZU5hbWVBc3luYyhibGFkZS5jdXJyZW50RW50aXR5Lm5hbWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VDaGlsZHJlbkJsYWRlcyhibGFkZSk7XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgYmxhZGUuY3VycmVudEVudGl0eS52YWxpZGF0aW9uUnVsZTsgLy8gY2xlYXIgcmVhZC1vbmx5IHByb3BlcnR5XG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLmN1cnJlbnRFbnRpdHkudmFsdWVUeXBlICE9PSBcIlNob3J0VGV4dFwiICYmIGJsYWRlLmN1cnJlbnRFbnRpdHkudmFsdWVUeXBlICE9PSBcIkxvbmdUZXh0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGJsYWRlLmN1cnJlbnRFbnRpdHkudmFsaWRhdGlvblJ1bGVzO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMudXBkYXRlKGJsYWRlLmN1cnJlbnRFbnRpdHksIGZ1bmN0aW9uIChkYXRhLCBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHlJZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbG9ja1NhdmUoKTtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUHJvcGVydHkocHJvcCkge1xuICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHtcbiAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVZhbHVlczogeyBuYW1lOiBwcm9wLm5hbWUgfSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRvRGVsZXRlVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5yZW1vdmUoeyBpZDogcHJvcC5pZCwgZG9EZWxldGVWYWx1ZXM6IGRvRGVsZXRlVmFsdWVzIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ibGFkZUNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dEaWFsb2coZGlhbG9nLCAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9kaWFsb2dzL2RlbGV0ZVByb3BlcnR5LWRpYWxvZy50cGwuaHRtbCcsICdwbGF0Zm9ybVdlYkFwcC5jb25maXJtRGlhbG9nQ29udHJvbGxlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGUub25DbG9zZSA9IGZ1bmN0aW9uIChjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIGNhblNhdmUoKSwgYmxhZGUsIHNhdmVDaGFuZ2VzLCBjbG9zZUNhbGxiYWNrLCBcImNhdGFsb2cuZGlhbG9ncy5wcm9wZXJ0eS1zYXZlLnRpdGxlXCIsIFwiY2F0YWxvZy5kaWFsb2dzLnByb3BlcnR5LXNhdmUubWVzc2FnZVwiKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZm9ybVNjb3BlO1xuICAgICAgICAkc2NvcGUuc2V0Rm9ybSA9IGZ1bmN0aW9uIChmb3JtKSB7IGZvcm1TY29wZSA9IGZvcm07IH1cblxuICAgICAgICBibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS1nZWFyJztcblxuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5zYXZlXCIsIGljb246ICdmYXMgZmEtc2F2ZScsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogc2F2ZUNoYW5nZXMsXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogY2FuU2F2ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlc2V0XCIsIGljb246ICdmYSBmYS11bmRvJyxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5vcmlnRW50aXR5LCBibGFkZS5jdXJyZW50RW50aXR5KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzRGlydHlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUHJvcGVydHkoYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBibGFkZS5vcmlnRW50aXR5LmlzTWFuYWdlYWJsZSAmJiAhYmxhZGUub3JpZ0VudGl0eS5pc05ldztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gYWN0aW9ucyBvbiBsb2FkICAgIFxuICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eURpY3Rpb25hcnlEZXRhaWxzQ29udHJvbGxlcicsXG4gICAgICAgIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcERpY3RJdGVtcycsIGZ1bmN0aW9uICgkc2NvcGUsIGRpYWxvZ1NlcnZpY2UsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIHByb3BEaWN0SXRlbXMpIHtcbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLWJvb2snO1xuXG4gICAgICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICAkc2NvcGUuYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAkc2NvcGUudmFsaWRhdGlvblJ1bGVzID0gYmxhZGUucHJvcGVydHkudmFsaWRhdGlvblJ1bGU7XG5cblxuICAgICAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkgeyBibGFkZS5mb3JtU2NvcGUgPSBmb3JtOyB9XG5cbiAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLCBpY29uOiAnZmFzIGZhLXNhdmUnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBzYXZlQ2hhbmdlcyxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogY2FuU2F2ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplQmxhZGUoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShibGFkZS5kaWN0aW9uYXJ5SXRlbSk7XG4gICAgICAgICAgICAgICAgYmxhZGUub3JpZ0VudGl0eSA9IGJsYWRlLmRpY3Rpb25hcnlJdGVtO1xuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gaXNEaXJ0eSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpICYmIGJsYWRlLmhhc1VwZGF0ZVBlcm1pc3Npb24oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gY2FuU2F2ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmIGJsYWRlLmZvcm1TY29wZSAmJiBibGFkZS5mb3JtU2NvcGUuJHZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBibGFkZS5vbkNsb3NlID0gZnVuY3Rpb24gKGNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksICRzY29wZS5pc1ZhbGlkLCBibGFkZSwgJHNjb3BlLnNhdmVDaGFuZ2VzLCBjbG9zZUNhbGxiYWNrLCBcImNhdGFsb2cuZGlhbG9ncy5wcm9wZXJ0eS1zYXZlLnRpdGxlXCIsIFwiY2F0YWxvZy5kaWFsb2dzLnByb3BlcnR5LXNhdmUubWVzc2FnZVwiKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNhdmVDaGFuZ2VzICgpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmxvY2FsaXplZFZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgIGJsYWRlLmxhbmd1YWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaWN0VmFsdWUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZGljdFZhbHVlLmxhbmd1YWdlQ29kZSA9IGJsYWRlLnByb3BlcnR5Lm11bHRpbGFuZ3VhZ2UgPyBsYW5nIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBkaWN0VmFsdWUudmFsdWUgPSBibGFkZS5jdXJyZW50RW50aXR5W2xhbmddO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmxvY2FsaXplZFZhbHVlcy5wdXNoKGRpY3RWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcHJvcERpY3RJdGVtcy5zYXZlKFtibGFkZS5jdXJyZW50RW50aXR5XSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgcGFyZW50IG9uU2F2ZVxuICAgICAgICAgICAgICAgICAgICBibGFkZS5vblNhdmVDaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoKTtcbiAgICAgICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eURpY3Rpb25hcnlMaXN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRmaWx0ZXInLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcERpY3RJdGVtcycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgZnVuY3Rpb24gKCRzY29wZSwgJGZpbHRlciwgZGlhbG9nU2VydmljZSwgc2V0dGluZ3MsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIHVpR3JpZEhlbHBlciwgcHJvcERpY3RJdGVtcywgYmxhZGVVdGlscykge1xuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgICRzY29wZS5ibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtYm9vayc7XG4gICAgICAgICRzY29wZS5jdXJyZW50RW50aXRpZXMgPSBbXTtcblxuICAgICAgICAkc2NvcGUudWlHcmlkQ29uc3RhbnRzID0gdWlHcmlkSGVscGVyLnVpR3JpZENvbnN0YW50cztcblxuICAgICAgICAvLyBzaW1wbGUgYW5kIGFkdmFuY2VkIGZpbHRlcmluZ1xuICAgICAgICB2YXIgZmlsdGVyID0gYmxhZGUuZmlsdGVyID0gJHNjb3BlLmZpbHRlciA9IHt9O1xuXG4gICAgICAgIGZpbHRlci5jcml0ZXJpYUNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA+IDEpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLCBpY29uOiAnZmFzIGZhLXBsdXMnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdE5vZGUoeyB2YWx1ZXM6IFtdLCBpc05ldzogdHJ1ZSwgcHJvcGVydHlJZCA6IGJsYWRlLnByb3BlcnR5LmlkIH0pXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUxpc3QoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ncmlkQXBpICYmIF8uYW55KCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1cblxuICAgICAgICBdO1xuXG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBibGFkZS5sYW5ndWFnZXMgPSBibGFkZS5wcm9wZXJ0eS5tdWx0aWxhbmd1YWdlID8gYmxhZGUubGFuZ3VhZ2VzIDogW107XG4gICAgICAgICAgICB2YXIgY3JpdGVyaWEgPSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGhyYXNlOiBmaWx0ZXIua2V5d29yZCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUlkczogW2JsYWRlLnByb3BlcnR5LmlkXSxcbiAgICAgICAgICAgICAgICBzb3J0OiB1aUdyaWRIZWxwZXIuZ2V0U29ydEV4cHJlc3Npb24oJHNjb3BlKSxcbiAgICAgICAgICAgICAgICBza2lwOiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICB0YWtlOiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgICAgcHJvcERpY3RJdGVtcy5zZWFyY2goY3JpdGVyaWEsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLnRvdGFsSXRlbXMgPSByZXN1bHQudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudEVudGl0aWVzID0gcmVzdWx0LnJlc3VsdHM7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRFbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChkaWN0SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5sYW5ndWFnZXMuZm9yRWFjaChmdW5jdGlvbiAobGFuZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpY3RWYWx1ZSA9IF8uZmluZChkaWN0SXRlbS5sb2NhbGl6ZWRWYWx1ZXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4Lmxhbmd1YWdlQ29kZSA9PT0gbGFuZyB8fCAoIXgubGFuZ3VhZ2VDb2RlICYmIGxhbmcgPT09IGJsYWRlLmRlZmF1bHRMYW5ndWFnZSkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWN0SXRlbVtsYW5nXSA9IGRpY3RWYWx1ZSA/IGRpY3RWYWx1ZS52YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgXG4gICAgICAgIC8vIHVpLWdyaWRcbiAgICAgICAgJHNjb3BlLnNldEdyaWRPcHRpb25zID0gZnVuY3Rpb24gKGdyaWRPcHRpb25zKSB7XG4gICAgICAgICAgICB1aUdyaWRIZWxwZXIuaW5pdGlhbGl6ZSgkc2NvcGUsIGdyaWRPcHRpb25zLCBmdW5jdGlvbiAoZ3JpZEFwaSkge1xuICAgICAgICAgICAgICAgIGlmIChncmlkQXBpICYmIGdyaWRBcGkuY29yZSkge1xuICAgICAgICAgICAgICAgICAgICB1aUdyaWRIZWxwZXIuYmluZFJlZnJlc2hPblNvcnRDaGFuZ2VkKCRzY29wZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBibGFkZVV0aWxzLmluaXRpYWxpemVQYWdpbmF0aW9uKCRzY29wZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmRlbGV0ZUxpc3QgPSBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgICAgIGlkOiBcImNvbmZpcm1EZWxldGVQcm9wZXJ0eVZhbHVlXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy5kaWFsb2dzLmRpY3Rpb25hcnktdmFsdWVzLWRlbGV0ZS50aXRsZVwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiY2F0YWxvZy5kaWFsb2dzLmRpY3Rpb25hcnktdmFsdWVzLWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpY3RJdGVtc0lkcyA9IF8ucGx1Y2soc2VsZWN0aW9uLCAnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wRGljdEl0ZW1zLnJlbW92ZSh7IGlkczogZGljdEl0ZW1zSWRzIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0RpYWxvZyhkaWFsb2csICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2RpYWxvZ3MvZGVsZXRlUHJvcGVydHlEaWN0aW9uYXJ5SXRlbS1kaWFsb2cudHBsLmh0bWwnLCAncGxhdGZvcm1XZWJBcHAuY29uZmlybURpYWxvZ0NvbnRyb2xsZXInKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZGVsZXRlRGljdEl0ZW0gPSBmdW5jdGlvbiAoc2VsZWN0ZWREaWN0SXRlbSkge1xuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUxpc3QoW3NlbGVjdGVkRGljdEl0ZW1dKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgJHNjb3BlLnNlbGVjdE5vZGUgPSBmdW5jdGlvbiAoc2VsZWN0ZWREaWN0SXRlbSkge1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWREaWN0SXRlbS5hbGlhcykge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE5vZGVJZCA9IHNlbGVjdGVkRGljdEl0ZW0uYWxpYXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICdwcm9wZXJ0eURpY3Rpb25hcnlEZXRhaWxzJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cuYmxhZGVzLnByb3BlcnR5LWRpY3Rpb25hcnkubGFiZWxzLmRpY3Rpb25hcnktZWRpdCcsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eURpY3Rpb25hcnlEZXRhaWxzQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9wcm9wZXJ0eS1kaWN0aW9uYXJ5LWRldGFpbHMudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlJdGVtOiBzZWxlY3RlZERpY3RJdGVtLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5OiBibGFkZS5wcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICBsYW5ndWFnZXM6IGJsYWRlLmxhbmd1YWdlcyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0TGFuZ3VhZ2U6IGJsYWRlLmRlZmF1bHRMYW5ndWFnZSxcblxuICAgICAgICAgICAgICAgIG9uU2F2ZUNoYW5nZXM6IGZ1bmN0aW9uIChkaWN0SXRlbSkgeyAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuICAgICAgICAgICAgIFxuICAgICAgICAvL2JsYWRlLnJlZnJlc2goKTtcblxuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eUxpc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnRpZXMnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcERpY3RJdGVtcycsICckbG9jYWxTdG9yYWdlJywgJ3BsYXRmb3JtV2ViQXBwLmF1dGhTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgcHJvcGVydGllcywgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgcHJvcERpY3RJdGVtcywgJGxvY2FsU3RvcmFnZSwgYXV0aFNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XHJcbiAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKGVudGl0eSkge1xyXG4gICAgICAgICAgICBpZiAoZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplKGVudGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBibGFkZS5wcm9wZXJ0aWVzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgYmxhZGUucHJvcGVydHlWaXNpYmxlQ29tbWFuZCA9IHtcclxuICAgICAgICAgICAgbmFtZTogJ2NhdGFsb2cuYmxhZGVzLnByb3BlcnR5LWxpc3QubGFiZWxzLmhpZGUtZW1wdHktdmFsdWVzJywgaWNvbjogJ2ZhcyBmYS1leWUtc2xhc2gnLFxyXG4gICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3dpdGNoUHJvcGVydGllc1Zpc2liaWxpdHkoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKGVudGl0eSkge1xyXG4gICAgICAgICAgICBibGFkZS50aXRsZSA9IGVudGl0eS5uYW1lO1xyXG4gICAgICAgICAgICBibGFkZS5zdWJ0aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS1saXN0LnN1YnRpdGxlJztcclxuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGVudGl0eTtcclxuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzID0gYW5ndWxhci5jb3B5KGVudGl0eS5wcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgYmxhZGUucHJvcGVydGllc0ZvckV4Y2x1ZGUgPSBfLm1hcChibGFkZS5jdXJyZW50RW50aXRpZXMsICh4KSA9PiB7IHJldHVybiB7IG5hbWU6IHgubmFtZSB9IH0pO1xyXG4gICAgICAgICAgICBibGFkZS5maWx0ZXJlZFByb3BlcnRpZXMgPSBbXTtcclxuICAgICAgICAgICAgYmxhZGUuZW1wdHlQcm9wZXJ0aWVzID0gW107XHJcbiAgICAgICAgICAgIC8vQXBwbHkgc3RvcmVkIGZpbHRlcnNcclxuICAgICAgICAgICAgaWYgKCRsb2NhbFN0b3JhZ2UucHJvcGVydHlGaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyKCRsb2NhbFN0b3JhZ2UucHJvcGVydHlGaWx0ZXJbYXV0aFNlcnZpY2UudXNlck5hbWVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmlzUHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9sZEl0ZW0gPSBfLmZpbmQoYmxhZGUuY3VycmVudEVudGl0eS5wcm9wZXJ0aWVzLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZCA9PT0gcHJvcGVydHkuaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9sZEl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKHByb3BlcnR5LCBvbGRJdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkc2NvcGUuaXNQcm9wZXJ0eVZpc2libGUgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgaWYgKGJsYWRlLmZpbHRlcmVkUHJvcGVydGllcyAmJiBibGFkZS5maWx0ZXJlZFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJsYWRlLmZpbHRlcmVkUHJvcGVydGllcy5pbmNsdWRlcyhwcm9wZXJ0eS5uYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmlzUHJvcGVydHlIYXNWYWx1ZXMgPSBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICFibGFkZS5lbXB0eVByb3BlcnRpZXMuaW5jbHVkZXMocHJvcGVydHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYXBwbHlGaWx0ZXIoZmlsdGVyZWRQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZFByb3BlcnRpZXMgJiYgZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLmZpbHRlcmVkUHJvcGVydGllcyA9IGZpbHRlcmVkUHJvcGVydGllcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudG9Mb3dlckNhc2UoKTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRzY29wZS5yZXNldEZpbHRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2F2ZUZpbHRlcihbXSk7XHJcbiAgICAgICAgICAgIGJsYWRlLmZpbHRlcmVkUHJvcGVydGllcyA9IFtdO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5wcm9wZXJ0aWVzID0gYmxhZGUuY3VycmVudEVudGl0aWVzO1xyXG4gICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5nZXRQcm9wZXJ0eURpc3BsYXlOYW1lID0gZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICAgICAgcmV0dXJuIF8uZmlyc3QoXy5tYXAoXy5maWx0ZXIocHJvcC5kaXNwbGF5TmFtZXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHgubGFuZ3VhZ2VDb2RlLnN0YXJ0c1dpdGgoYmxhZGUuZGVmYXVsdExhbmd1YWdlKTsgfSksIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4Lm5hbWU7IH0pKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuZWRpdFByb3BlcnR5ID0gZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICAgICAgaWYgKHByb3AuaXNNYW5hZ2VhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdlZGl0Q2F0ZWdvcnlQcm9wZXJ0eScsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiBwcm9wID8gcHJvcC5pZCA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUlkOiBibGFkZS5jYXRlZ29yeUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGFsb2dJZDogYmxhZGUuY2F0YWxvZ0lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYW5ndWFnZTogYmxhZGUuZGVmYXVsdExhbmd1YWdlLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlczogYmxhZGUubGFuZ3VhZ2VzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlEZXRhaWxDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LWRldGFpbC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWRpdFVubWFuYWdlYWJsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5pdGVtLXByb3BlcnR5LWRldGFpbC50aXRsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgb3JpZ0VudGl0eTogcHJvcFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBlZGl0VW5tYW5hZ2VhYmxlKGJsYWRlRGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ2VkaXRJdGVtUHJvcGVydHknICsgYmxhZGUuY3VycmVudEVudGl0eS5pZCxcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IGJsYWRlLmN1cnJlbnRFbnRpdGllcyxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RJZDogYmxhZGUuY3VycmVudEVudGl0eS5pZCxcclxuICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1Qcm9wZXJ0eURldGFpbENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9pdGVtLXByb3BlcnR5LWRldGFpbC50cGwuaHRtbCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQobmV3QmxhZGUsIGJsYWRlRGF0YSk7XHJcblxyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmdldFByb3BWYWx1ZXMgPSBmdW5jdGlvbiAocHJvcElkLCBrZXl3b3JkLCBjb3VudFRvU2tpcCwgY291bnRUb1Rha2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHByb3BEaWN0SXRlbXMuc2VhcmNoKHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5SWRzOiBbcHJvcElkXSxcclxuICAgICAgICAgICAgICAgIHNlYXJjaFBocmFzZToga2V5d29yZCxcclxuICAgICAgICAgICAgICAgIHNraXA6IGNvdW50VG9Ta2lwLFxyXG4gICAgICAgICAgICAgICAgdGFrZTogY291bnRUb1Rha2VcclxuICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgZm9ybVNjb3BlO1xyXG4gICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHtcclxuICAgICAgICAgICAgZm9ybVNjb3BlID0gZm9ybTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXNWYWxpZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSBmb3JtU2NvcGUgJiYgZm9ybVNjb3BlLiR2YWxpZDtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS4kd2F0Y2goXCJibGFkZS5jdXJyZW50RW50aXRpZXNcIiwgaXNWYWxpZCwgdHJ1ZSk7XHJcbiAgICAgICAgJHNjb3BlLiR3YXRjaChcImJsYWRlLmN1cnJlbnRFbnRpdHlcIiwgaXNWYWxpZCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLWdlYXInO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRBZGRQcm9wZXJ0eUJ1dHRvbk5hbWVLZXkoKSB7XHJcbiAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5Lmhhc093blByb3BlcnR5KCdwcm9kdWN0VHlwZScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmxhZGUuY3VycmVudEVudGl0eS5tYWluUHJvZHVjdElkID8gJ2NhdGFsb2cuY29tbWFuZHMuYWRkLXZhcmlhdGlvbi1wcm9wZXJ0eScgOiAnY2F0YWxvZy5jb21tYW5kcy5hZGQtcHJvZHVjdC1wcm9wZXJ0eSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICdjYXRhbG9nLmNvbW1hbmRzLmFkZC1wcm9wZXJ0eSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJsYWRlLmFkZFByb3BlcnR5QnV0dG9uTmFtZUtleSA9IHNldEFkZFByb3BlcnR5QnV0dG9uTmFtZUtleSgpO1xyXG4gICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogYmxhZGUuYWRkUHJvcGVydHlCdXR0b25OYW1lS2V5LFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcclxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUuZW50aXR5VHlwZSA9PSBcInByb2R1Y3RcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0VW5tYW5hZ2VhYmxlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXRhbG9nLmJsYWRlcy5pdGVtLXByb3BlcnR5LWRldGFpbC50aXRsZS1uZXcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ0VudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUHJvZHVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJTaG9ydFRleHRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAncHJvcGVydHlUeXBlc0xpc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUlkOiBibGFkZS5jYXRlZ29yeUlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ0lkOiBibGFkZS5jYXRhbG9nSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TGFuZ3VhZ2U6IGJsYWRlLmRlZmF1bHRMYW5ndWFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlczogYmxhZGUubGFuZ3VhZ2VzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eVR5cGVMaXN0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LXR5cGUtbGlzdC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNhdGFsb2cuYmxhZGVzLnByb3BlcnR5LWxpc3QubGFiZWxzLmFkZC1maWx0ZXJcIiwgaWNvbjogJ2ZhIGZhLWZpbHRlcicsXHJcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVkaXRQcm9wZXJ0eUZpbHRlcigpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS1saXN0LmxhYmVscy5yZXNldC1maWx0ZXJcIiwgaWNvbjogJ2ZhIGZhLXVuZG8nLFxyXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXNldEZpbHRlcigpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmxhZGUuZmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJsYWRlLnByb3BlcnR5VmlzaWJsZUNvbW1hbmRcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAkc2NvcGUuZWRpdFByb3BlcnR5RmlsdGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJwcm9wZXJ0eVNlbGVjdG9yXCIsXHJcbiAgICAgICAgICAgICAgICBlbnRpdHlUeXBlOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IGJsYWRlLmN1cnJlbnRFbnRpdGllcyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUHJvcGVydGllczogYmxhZGUuZmlsdGVyZWRQcm9wZXJ0aWVzLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eVNlbGVjdG9yQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LXNlbGVjdG9yLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgIG9uU2VsZWN0ZWQ6IGZ1bmN0aW9uIChmaWx0ZXJlZFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRQcm9wZXJ0aWVzTmFtZXMgPSBmaWx0ZXJlZFByb3BlcnRpZXMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4Lm5hbWU7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHNhdmVGaWx0ZXIoZmlsdGVyZWRQcm9wZXJ0aWVzTmFtZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5RmlsdGVyKGZpbHRlcmVkUHJvcGVydGllc05hbWVzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkc2NvcGUuc3dpdGNoUHJvcGVydGllc1Zpc2liaWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGJsYWRlLnByb3BlcnRpZXNWaXNpYmxlID0gIWJsYWRlLnByb3BlcnRpZXNWaXNpYmxlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJsYWRlLnByb3BlcnRpZXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5wcm9wZXJ0eVZpc2libGVDb21tYW5kLm5hbWUgPSAnY2F0YWxvZy5ibGFkZXMucHJvcGVydHktbGlzdC5sYWJlbHMuaGlkZS1lbXB0eS12YWx1ZXMnO1xyXG4gICAgICAgICAgICAgICAgYmxhZGUucHJvcGVydHlWaXNpYmxlQ29tbWFuZC5pY29uID0gJ2ZhcyBmYS1leWUtc2xhc2gnO1xyXG5cclxuICAgICAgICAgICAgICAgIHNob3dFbXB0eVByb3BlcnRpZXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnByb3BlcnR5VmlzaWJsZUNvbW1hbmQubmFtZSA9ICdjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS1saXN0LmxhYmVscy5zaG93LWVtcHR5LXZhbHVlcyc7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5wcm9wZXJ0eVZpc2libGVDb21tYW5kLmljb24gPSAnZmFzIGZhLWV5ZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgaGlkZUVtcHR5UHJvcGVydGllcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGlkZUVtcHR5UHJvcGVydGllcygpIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnRpZXNCeVR5cGUgPSBfLmZpbHRlcihibGFkZS5jdXJyZW50RW50aXRpZXMsIGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLmVudGl0eVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3Byb2R1Y3QnICYmIHByb3BlcnR5LnR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3ZhcmlhdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvcGVydHkudHlwZS50b0xvd2VyQ2FzZSgpID09PSBibGFkZS5lbnRpdHlUeXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gY29udHJvbCB2aXNpYmlsaXR5IG9mIG11bHRpbGFuZ3VhZ2UgcHJvcGVydGllcyBzZXBhcmF0ZWx5XHJcbiAgICAgICAgICAgIF8uZWFjaChwcm9wZXJ0aWVzQnlUeXBlLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5tdWx0aWxhbmd1YWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuJCRoaWRkZW5MYW5ndWFnZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBfLmVhY2goYmxhZGUubGFuZ3VhZ2VzLCBmdW5jdGlvbiAobGFuZ3VhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmd1YWdlRm91bmQgPSBfLnNvbWUocHJvcGVydHkudmFsdWVzLCBmdW5jdGlvbiAocHJvcGVydHlWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5VmFsdWUudmFsdWUgJiYgcHJvcGVydHlWYWx1ZS52YWx1ZSAhPT0gJycgJiYgcHJvcGVydHlWYWx1ZS5sYW5ndWFnZUNvZGUgPT09IGxhbmd1YWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGFuZ3VhZ2VGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuJCRoaWRkZW5MYW5ndWFnZXMucHVzaChsYW5ndWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIF8uZWFjaChwcm9wZXJ0aWVzQnlUeXBlLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkIHByb3BlcnRpZXMgYW5kIHN3aXRjaGVycyBjYW7igJl0IGJlIGhpZGRlblxyXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eS5yZXF1aXJlZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LnZhbHVlVHlwZSAhPT0gJ0Jvb2xlYW4nICYmXHJcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvcGVydGllc0VtcHR5KHByb3BlcnR5LnZhbHVlcylcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmVtcHR5UHJvcGVydGllcy5wdXNoKHByb3BlcnR5KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFsbFByb3BlcnRpZXNFbXB0eShwcm9wZXJ0eVZhbHVlcykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gXy5hbGwocHJvcGVydHlWYWx1ZXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICF2YWx1ZS52YWx1ZSB8fCB2YWx1ZS52YWx1ZSA9PT0gJyc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd0VtcHR5UHJvcGVydGllcygpIHtcclxuICAgICAgICAgICAgXy5lYWNoKGJsYWRlLmN1cnJlbnRFbnRpdGllcywgZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuJCRoaWRkZW5MYW5ndWFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS4kJGhpZGRlbkxhbmd1YWdlcyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYmxhZGUuZW1wdHlQcm9wZXJ0aWVzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NhdmUgZmlsdGVycyB0byBsb2NhbFN0b3JhZ2VcclxuICAgICAgICBmdW5jdGlvbiBzYXZlRmlsdGVyKGZpbHRlcmVkUHJvcGVydGllc05hbWVzKSB7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSB7fTtcclxuICAgICAgICAgICAgZmlsdGVyW2F1dGhTZXJ2aWNlLnVzZXJOYW1lXSA9IGZpbHRlcmVkUHJvcGVydGllc05hbWVzO1xyXG4gICAgICAgICAgICBpZiAoJGxvY2FsU3RvcmFnZS5wcm9wZXJ0eUZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJGxvY2FsU3RvcmFnZS5wcm9wZXJ0eUZpbHRlciwgZmlsdGVyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRsb2NhbFN0b3JhZ2UucHJvcGVydHlGaWx0ZXIgPSBmaWx0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGluaXRpYWxpemUoYmxhZGUuY3VycmVudEVudGl0eSk7XHJcbiAgICB9XSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlTZWxlY3RvckNvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgIGJsYWRlLmV4aXN0aW5nRmlsdGVyZWRQcm9wZXJ0aWVzID0gW107XG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IG1heFByZXZpZXdGaWx0ZXJzQ291bnQgPSAxMDtcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplQmxhZGUoKSB7XG4gICAgICAgICAgICBibGFkZS50aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS1zZWxlY3Rvci50aXRsZSc7XG4gICAgICAgICAgICBibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS1mb2xkZXInO1xuXG4gICAgICAgICAgICB2YXIgYWxsUHJvcGVydGllcyA9IGFuZ3VsYXIuY29weShibGFkZS5wcm9wZXJ0aWVzKTtcblxuICAgICAgICAgICAgYWxsUHJvcGVydGllcyA9IF8uc29ydEJ5KGFsbFByb3BlcnRpZXMsICdncm91cCcsICduYW1lJyk7XG5cbiAgICAgICAgICAgIGJsYWRlLmV4aXN0aW5nRmlsdGVyZWRQcm9wZXJ0aWVzID0gXy5maXJzdChibGFkZS5zZWxlY3RlZFByb3BlcnRpZXMsIG1heFByZXZpZXdGaWx0ZXJzQ291bnQpO1xuICAgICAgICAgICAgaWYgKGJsYWRlLmV4aXN0aW5nRmlsdGVyZWRQcm9wZXJ0aWVzLmxlbmd0aCA+PSBtYXhQcmV2aWV3RmlsdGVyc0NvdW50KSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuZXhpc3RpbmdGaWx0ZXJlZFByb3BlcnRpZXMucHVzaCgnLi4uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFByb3BlcnRpZXMgPSBfLnNvcnRCeShfLmZpbHRlcihhbGxQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChwcm9wZXJ0eSkgeyByZXR1cm4gYmxhZGUuc2VsZWN0ZWRQcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5Lm5hbWUudG9Mb3dlckNhc2UoKSk7IH0pLCAnbmFtZScpO1xuXG5cbiAgICAgICAgICAgIGJsYWRlLmFsbEVudGl0aWVzID0gXy5ncm91cEJ5KGFsbFByb3BlcnRpZXMsICdncm91cCcpO1xuICAgICAgICAgICAgYmxhZGUuc2VsZWN0ZWRFbnRpdGllcyA9IF8uZ3JvdXBCeShzZWxlY3RlZFByb3BlcnRpZXMsICdncm91cCcpO1xuXG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNlbGVjdEFsbEluR3JvdXAgPSBmdW5jdGlvbiAoZ3JvdXBLZXkpIHtcbiAgICAgICAgICAgIGJsYWRlLnNlbGVjdGVkRW50aXRpZXNbZ3JvdXBLZXldID0gYmxhZGUuYWxsRW50aXRpZXNbZ3JvdXBLZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmNsZWFyQWxsSW5Hcm91cCA9IGZ1bmN0aW9uIChncm91cEtleSkge1xuICAgICAgICAgICAgYmxhZGUuc2VsZWN0ZWRFbnRpdGllc1tncm91cEtleV0gPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5zb3J0U2VsZWN0ZWQgPSBmdW5jdGlvbiAoZ3JvdXBLZXkpIHtcbiAgICAgICAgICAgIGJsYWRlLnNlbGVjdGVkRW50aXRpZXNbZ3JvdXBLZXldID0gXy5zb3J0QnkoYmxhZGUuc2VsZWN0ZWRFbnRpdGllc1tncm91cEtleV0sICduYW1lJyk7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuY2FuY2VsQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSk7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfLnNvbWUoYmxhZGUuc2VsZWN0ZWRFbnRpdGllcywgZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0ubGVuZ3RoOyB9KVxuICAgICAgICAgICAgICAgIHx8ICRzY29wZS5oYXNDaGFuZ2VkUHJvcGVydGllcyhibGFkZS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5oYXNDaGFuZ2VkUHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gXy5maWx0ZXIocHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcC5pc0NoYW5nZWQ7XG4gICAgICAgICAgICAgICAgfSkubGVuZ3RoID4gMDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5jbHVkZWRQcm9wZXJ0aWVzID0gXy5mbGF0dGVuKF8ubWFwKGJsYWRlLnNlbGVjdGVkRW50aXRpZXMsIF8udmFsdWVzKSk7XG5cbiAgICAgICAgICAgIGlmIChibGFkZS5vblNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUub25TZWxlY3RlZChpbmNsdWRlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKCk7XG5cbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnR5VHlwZUxpc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gXCJjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS10eXBlLWxpc3QudGl0bGVcIjtcbiAgICAgICAgICAgIGJsYWRlLnN1YnRpdGxlID0gXCJjYXRhbG9nLmJsYWRlcy5wcm9wZXJ0eS10eXBlLWxpc3Quc3VidGl0bGVcIjtcblxuICAgICAgICAgICAgYmxhZGUuc2VsZWN0ZWRUeXBlID0gbnVsbDtcblxuICAgICAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBibGFkZS5jcmVhdGVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eVR5cGUpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5zZWxlY3RlZFR5cGUgPSBwcm9wZXJ0eVR5cGU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnZWRpdENhdGVnb3J5UHJvcGVydHknLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDogYmxhZGUuY2F0ZWdvcnlJZCxcbiAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ0lkOiBibGFkZS5jYXRhbG9nSWQsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYW5ndWFnZTogYmxhZGUuZGVmYXVsdExhbmd1YWdlLFxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZXM6IGJsYWRlLmxhbmd1YWdlcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlUeXBlOiBwcm9wZXJ0eVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlEZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9wcm9wZXJ0eS1kZXRhaWwudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmNhbmNlbFwiLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLWJhbicsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5hdmFpbGFibGVQcm9wZXJ0eVR5cGVzID0gW3tcbiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWU6IFwiQ2F0ZWdvcnlcIixcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogXCJmYXMgZmEtZm9sZGVyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZU5hbWU6IFwiUHJvZHVjdFwiLFxuICAgICAgICAgICAgICAgICAgICBpY29uOiBcImZhcyBmYS1zbGlkZXJzLWhcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZTogXCJWYXJpYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogXCJmYXMgZmEtYm94LW9wZW5cIlxuICAgICAgICAgICAgICAgIH1dXG5cbiAgICAgICAgICAgICAgICBpZiAoYmxhZGUuY2F0YWxvZ0lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmF2YWlsYWJsZVByb3BlcnR5VHlwZXMudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlTmFtZTogXCJDYXRhbG9nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBcImZhcyBmYS1hcmNoaXZlXCJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluaXRpYWxpemUoKTtcbiAgICAgICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnR5VHlwZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAkc2NvcGUuc2VsZWN0T3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvbikge1xuICAgICAgICAkc2NvcGUuYmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eS50eXBlID0gb3B0aW9uOyAgIFxuICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgIH07XG5cbiAgICAkc2NvcGUuYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtZ2Vhcic7XG4gICAgJHNjb3BlLmJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eVZhbGlkYXRpb25SdWxlc0NvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcclxuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgIHZhciBydWxlID0gXy5maXJzdChibGFkZS5wYXJlbnRCbGFkZS5jdXJyZW50RW50aXR5LnZhbGlkYXRpb25SdWxlcykgfHwge307XG5cbiAgICAgICAgYmxhZGUucHJvcGVydHlWYWxpZGF0aW9uUnVsZSA9IHtcbiAgICAgICAgICAgIGlkOiBydWxlLmlkLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGJsYWRlLnBhcmVudEJsYWRlLmN1cnJlbnRFbnRpdHkucmVxdWlyZWQsXG4gICAgICAgICAgICBpc0xpbWl0ZWQ6IHJ1bGUuY2hhckNvdW50TWluICE9IG51bGwgfHwgcnVsZS5jaGFyQ291bnRNYXggIT0gbnVsbCxcbiAgICAgICAgICAgIGlzU3BlY2lmaWNQYXR0ZXJuOiBydWxlLnJlZ0V4cCAhPSBudWxsLFxuICAgICAgICAgICAgY2hhckNvdW50TWluOiBydWxlLmNoYXJDb3VudE1pbixcbiAgICAgICAgICAgIGNoYXJDb3VudE1heDogcnVsZS5jaGFyQ291bnRNYXgsXG4gICAgICAgICAgICBzZWxlY3RlZExpbWl0OiAnYmV0d2VlbicsXG4gICAgICAgICAgICBjaGFyYWN0ZXJMaW1pdDogWydiZXR3ZWVuJywgJ2F0LWxlYXN0JywgJ25vdC1tb3JlLXRoYW4nXSxcbiAgICAgICAgICAgIHZhbGlkYXRpb25QYXR0ZXJuczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2N1c3RvbScsXG4gICAgICAgICAgICAgICAgICAgIHBhdHRlcm46IFwiXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBcIl5bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiRcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBcImh0dHBzPzpcXFxcL1xcXFwvKHd3d1xcXFwuKT9bLWEtekEtWjAtOUA6JS5fXFxcXCt+Iz1dezIsMjU2fVxcXFwuW2Etel17Miw2fVxcXFxiKFstYS16QS1aMC05QDolX1xcXFwrLn4jPyYvLz1dKilcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogXCIoMFsxLTldfFsxMl1bMC05XXwzWzAxXSlbIFxcLi1dKDBbMS05XXwxWzAxMl0pWyBcXC4tXSgxOXwyMHwpXFxkXFxkXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc2VsZWN0ZWRQYXR0ZXJuOiB7IG5hbWU6ICdjdXN0b20nLCBwYXR0ZXJuOiBydWxlLnJlZ0V4cCB9LFxuICAgICAgICAgICAgcGF0dGVybjogcnVsZS5yZWdFeHBcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAocnVsZS5jaGFyQ291bnRNaW4gJiYgIXJ1bGUuY2hhckNvdW50TWF4KVxuICAgICAgICAgICAgYmxhZGUucHJvcGVydHlWYWxpZGF0aW9uUnVsZS5zZWxlY3RlZExpbWl0ID0gJ2F0LWxlYXN0JztcbiAgICAgICAgZWxzZSBpZiAoIXJ1bGUuY2hhckNvdW50TWluICYmIHJ1bGUuY2hhckNvdW50TWF4KVxuICAgICAgICAgICAgYmxhZGUucHJvcGVydHlWYWxpZGF0aW9uUnVsZS5zZWxlY3RlZExpbWl0ID0gJ25vdC1tb3JlLXRoYW4nO1xuICAgICAgICBlbHNlIGlmIChydWxlLmNoYXJDb3VudE1pbiAmJiBydWxlLmNoYXJDb3VudE1heClcbiAgICAgICAgICAgIGJsYWRlLnByb3BlcnR5VmFsaWRhdGlvblJ1bGUuc2VsZWN0ZWRMaW1pdCA9ICdiZXR3ZWVuJztcclxuXG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLmN1cnJlbnRFbnRpdHkucmVxdWlyZWQgPSBibGFkZS5wcm9wZXJ0eVZhbGlkYXRpb25SdWxlLnJlcXVpcmVkO1xuICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eS52YWxpZGF0aW9uUnVsZXMgPSBbe1xuICAgICAgICAgICAgICAgIGlkOiBibGFkZS5wcm9wZXJ0eVZhbGlkYXRpb25SdWxlLmlkLFxuICAgICAgICAgICAgICAgIGNoYXJDb3VudE1pbjogYmxhZGUucHJvcGVydHlWYWxpZGF0aW9uUnVsZS5pc0xpbWl0ZWQgJiYgYmxhZGUucHJvcGVydHlWYWxpZGF0aW9uUnVsZS5zZWxlY3RlZExpbWl0ICE9PSAnbm90LW1vcmUtdGhhbicgPyBibGFkZS5wcm9wZXJ0eVZhbGlkYXRpb25SdWxlLmNoYXJDb3VudE1pbiA6IG51bGwsXG4gICAgICAgICAgICAgICAgY2hhckNvdW50TWF4OiBibGFkZS5wcm9wZXJ0eVZhbGlkYXRpb25SdWxlLmlzTGltaXRlZCAmJiBibGFkZS5wcm9wZXJ0eVZhbGlkYXRpb25SdWxlLnNlbGVjdGVkTGltaXQgIT09ICdhdC1sZWFzdCcgPyBibGFkZS5wcm9wZXJ0eVZhbGlkYXRpb25SdWxlLmNoYXJDb3VudE1heCA6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVnRXhwOiBibGFkZS5wcm9wZXJ0eVZhbGlkYXRpb25SdWxlLmlzU3BlY2lmaWNQYXR0ZXJuID8gYmxhZGUucHJvcGVydHlWYWxpZGF0aW9uUnVsZS5zZWxlY3RlZFBhdHRlcm4ucGF0dGVybiA6IG51bGxcbiAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5jdXJyZW50RW50aXR5LnZhbGlkYXRpb25SdWxlID0gYmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eS52YWxpZGF0aW9uUnVsZXNbMF07XG4gICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBmb3JtU2NvcGU7XG4gICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgICAgIGZvcm1TY29wZSA9IGZvcm07XG4gICAgICAgIH07XG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2JsYWRlLnByb3BlcnR5VmFsaWRhdGlvblJ1bGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IGZvcm1TY29wZSAmJiBmb3JtU2NvcGUuJHZhbGlkO1xuICAgICAgICB9LCB0cnVlKTtcblxuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuZWRpdFByb3BlcnRpZXNBY3Rpb25TdGVwQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0aWVzJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BEaWN0SXRlbXMnLCAndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5tZW1iZXJzJywgJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdzJywgJ3ZpcnRvQ29tbWVyY2UuY29yZU1vZHVsZS5wYWNrYWdlVHlwZS5wYWNrYWdlVHlwZVV0aWxzJywgZnVuY3Rpb24gKCRzY29wZSwgcHJvcGVydGllcywgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgcHJvcERpY3RJdGVtcywgbWVtYmVycywgc2V0dGluZ3MsIHBhY2thZ2VUeXBlVXRpbHMpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IHRydWU7XG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnY2F0YWxvZy5ibGFkZXMucHJvcGVydHktbGlzdC5zdWJ0aXRsZSc7XG5cbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IGFuZ3VsYXIuY29weShibGFkZS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIF8uZWFjaChibGFkZS5jdXJyZW50RW50aXRpZXMsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcC5yZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpbml0VmVuZG9ycygpO1xuICAgICAgICAgICAgYmxhZGUudGF4VHlwZXMgPSBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLlRheFR5cGVzJyB9KTtcbiAgICAgICAgICAgIGJsYWRlLndlaWdodFVuaXRzID0gc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdWaXJ0b0NvbW1lcmNlLkNvcmUuR2VuZXJhbC5XZWlnaHRVbml0cycgfSk7XG4gICAgICAgICAgICBibGFkZS5tZWFzdXJlVW5pdHMgPSBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLk1lYXN1cmVVbml0cycgfSk7XG4gICAgICAgICAgICBibGFkZS5wYWNrYWdlVHlwZXMgPSBwYWNrYWdlVHlwZVV0aWxzLmdldFBhY2thZ2VUeXBlcygpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChibGFkZS5vblNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUub25TZWxlY3RlZChibGFkZS5jdXJyZW50RW50aXRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZ2V0UHJvcGVydHlEaXNwbGF5TmFtZSA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gXy5maXJzdChfLm1hcChfLmZpbHRlcihwcm9wLmRpc3BsYXlOYW1lcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgeC5sYW5ndWFnZUNvZGUuc3RhcnRzV2l0aChibGFkZS5kZWZhdWx0TGFuZ3VhZ2UpOyB9KSwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgubmFtZTsgfSkpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5nZXRQcm9wVmFsdWVzID0gZnVuY3Rpb24gKHByb3BJZCwga2V5d29yZCwgY291bnRUb1NraXAsIGNvdW50VG9UYWtlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvcERpY3RJdGVtcy5zZWFyY2goe1xuICAgICAgICAgICAgICAgIHByb3BlcnR5SWRzOiBbcHJvcElkXSxcbiAgICAgICAgICAgICAgICBzZWFyY2hQaHJhc2U6IGtleXdvcmQsXG4gICAgICAgICAgICAgICAgc2tpcDogY291bnRUb1NraXAsXG4gICAgICAgICAgICAgICAgdGFrZTogY291bnRUb1Rha2VcbiAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZm9ybVNjb3BlO1xuICAgICAgICAkc2NvcGUuc2V0Rm9ybSA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgICAgICBmb3JtU2NvcGUgPSBmb3JtO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaChcImJsYWRlLmN1cnJlbnRFbnRpdGllc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IGZvcm1TY29wZSA/IGZvcm1TY29wZS4kdmFsaWQgOiAkc2NvcGUuaXNWYWxpZDtcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgLy9Qcm9wZXJ0eSB3aXRoIG93biBVSSBcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUudmVuZG9yJywgZnVuY3Rpb24obmV3VmFsdWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IGZvcm1TY29wZSA/IGZvcm1TY29wZS4kdmFsaWQgOiAkc2NvcGUuaXNWYWxpZDtcbiAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmVuZG9yID0gXy5maW5kKGJsYWRlLnZlbmRvcnMsIGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uaWQgPT09IG5ld1ZhbHVlcyB9KTtcbiAgICAgICAgICAgICAgICB2YXIgdmVuZG9yUHJvcCA9IF8uZmluZChibGFkZS5jdXJyZW50RW50aXRpZXMsIGZ1bmN0aW9uKHByb3ApIHsgcmV0dXJuIHByb3AubmFtZSA9PT0gJ1ZlbmRvcicgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHZlbmRvclByb3AgJiYgdmVuZG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlbmRvclByb3AudmFsdWVzID0gW3sgdmFsdWVJZDogdmVuZG9yLmlkLCB2YWx1ZTogdmVuZG9yLm5hbWUgfV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdibGFkZS50YXhUeXBlJywgZnVuY3Rpb24gKG5ld1ZhbHVlcykge1xuICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSBmb3JtU2NvcGUgPyBmb3JtU2NvcGUuJHZhbGlkIDogJHNjb3BlLmlzVmFsaWQ7XG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlUHJvcGVydHlWYWx1ZSgnVGF4VHlwZScsIG5ld1ZhbHVlcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2JsYWRlLndlaWdodFVuaXQnLCBmdW5jdGlvbiAobmV3VmFsdWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IGZvcm1TY29wZSA/IGZvcm1TY29wZS4kdmFsaWQgOiAkc2NvcGUuaXNWYWxpZDtcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVQcm9wZXJ0eVZhbHVlKCdXZWlnaHRVbml0JywgbmV3VmFsdWVzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUucGFja2FnZVR5cGUnLCBmdW5jdGlvbiAobmV3VmFsdWVzKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IGZvcm1TY29wZSA/IGZvcm1TY29wZS4kdmFsaWQgOiAkc2NvcGUuaXNWYWxpZDtcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVQcm9wZXJ0eVZhbHVlKCdQYWNrYWdlVHlwZScsIG5ld1ZhbHVlcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2JsYWRlLm1lYXN1cmVVbml0JywgZnVuY3Rpb24gKG5ld1ZhbHVlcykge1xuICAgICAgICAgICAgJHNjb3BlLmlzVmFsaWQgPSBmb3JtU2NvcGUgPyBmb3JtU2NvcGUuJHZhbGlkIDogJHNjb3BlLmlzVmFsaWQ7XG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlUHJvcGVydHlWYWx1ZSgnTWVhc3VyZVVuaXQnLCBuZXdWYWx1ZXMpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkc2NvcGUudXBkYXRlUHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uKHByb3BOYW1lLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKGJsYWRlLmN1cnJlbnRFbnRpdGllcykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gXy5maW5kKGJsYWRlLmN1cnJlbnRFbnRpdGllcywgZnVuY3Rpb24gKHByb3ApIHsgcmV0dXJuIHByb3AubmFtZSA9PT0gcHJvcE5hbWUgJiYgIXByb3AuaWQ7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3AudmFsdWVzID0gW3sgdmFsdWU6IG5ld1ZhbHVlIH1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLWdlYXInO1xuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBibGFkZS50b29sYmFyQ29tbWFuZHMgfHwgW107XG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBpbml0aWFsaXplKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdFZlbmRvcnMoKSB7XG4gICAgICAgICAgICBtZW1iZXJzLnNlYXJjaCh7IG1lbWJlclR5cGU6ICdWZW5kb3InLCBzb3J0OiAnbmFtZTphc2MnLCB0YWtlOiAxMDAwIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUudmVuZG9ycyA9IGRhdGEucmVzdWx0cztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0aWVzU2VsZWN0b3JDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKCkge1xuICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAnU2VsZWN0IHByb3BlcnRpZXMgZm9yIGVkaXQnO1xuICAgICAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtZm9sZGVyJztcblxuICAgICAgICAgICAgdmFyIGFsbFByb3BlcnRpZXMgPSBhbmd1bGFyLmNvcHkoYmxhZGUucHJvcGVydGllcyk7XG4gICAgICAgICAgICBhbGxQcm9wZXJ0aWVzID0gXy5zb3J0QnkoYWxsUHJvcGVydGllcywgJ2dyb3VwJywgJ25hbWUnKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFByb3BlcnRpZXMgPSBhbmd1bGFyLmNvcHkoYmxhZGUuaW5jbHVkZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvcGVydGllcyA9IF8uc29ydEJ5KHNlbGVjdGVkUHJvcGVydGllcywgJ25hbWUnKTtcbiAgICAgICAgICAgIGJsYWRlLmFsbEVudGl0aWVzID0gXy5ncm91cEJ5KGFsbFByb3BlcnRpZXMsICdncm91cCcpO1xuICAgICAgICAgICAgYmxhZGUuc2VsZWN0ZWRFbnRpdGllcyA9IF8uZ3JvdXBCeShzZWxlY3RlZFByb3BlcnRpZXMsICdncm91cCcpO1xuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuc2VsZWN0QWxsSW5Hcm91cCA9IGZ1bmN0aW9uIChncm91cEtleSkge1xuICAgICAgICAgICAgYmxhZGUuc2VsZWN0ZWRFbnRpdGllc1tncm91cEtleV0gPSBibGFkZS5hbGxFbnRpdGllc1tncm91cEtleV07XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuY2xlYXJBbGxJbkdyb3VwID0gZnVuY3Rpb24gKGdyb3VwS2V5KSB7XG4gICAgICAgICAgICBibGFkZS5zZWxlY3RlZEVudGl0aWVzW2dyb3VwS2V5XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNvcnRTZWxlY3RlZCA9IGZ1bmN0aW9uIChncm91cEtleSkge1xuICAgICAgICAgICAgYmxhZGUuc2VsZWN0ZWRFbnRpdGllc1tncm91cEtleV0gPSBfLnNvcnRCeShibGFkZS5zZWxlY3RlZEVudGl0aWVzW2dyb3VwS2V5XSwgJ25hbWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5jYW5jZWxDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKGJsYWRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5pc1ZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF8uc29tZShibGFkZS5zZWxlY3RlZEVudGl0aWVzLCBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbS5sZW5ndGg7IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluY2x1ZGVkUHJvcGVydGllcyA9IF8uZmxhdHRlbihfLm1hcChibGFkZS5zZWxlY3RlZEVudGl0aWVzLCBfLnZhbHVlcykpO1xuICAgICAgICAgICAgaWYgKGJsYWRlLm9uU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5vblNlbGVjdGVkKGluY2x1ZGVkUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKGJsYWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpbml0aWFsaXplQmxhZGUoKTtcblxuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUudmlkZW9BZGRDb250cm9sbGVyJyxcbiAgICAgICAgWyckc2NvcGUnLCAnJHJlc291cmNlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZpZGVvcycsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcmVzb3VyY2UsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIHZpZGVvcykge1xuICAgICAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50QmxhZGUgPSBibGFkZS5wYXJlbnRCbGFkZTtcblxuICAgICAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhYiBmYS15b3V0dWJlJztcbiAgICAgICAgICAgICAgICBibGFkZS50aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy52aWRlby1hZGQudGl0bGUnO1xuICAgICAgICAgICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLnZpZGVvLWFkZC5zdWJ0aXRsZSc7XG5cbiAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRGb3JtO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEZvcm0gPSBmb3JtO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjYW5DcmVhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50Rm9ybSAmJiBjdXJyZW50Rm9ybS4kdmFsaWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY3JlYXRlVmlkZW8oKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRVcmw6IGJsYWRlLmN1cnJlbnRFbnRpdHkuY29udGVudFVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZUNvZGU6IGJsYWRlLmRlZmF1bHRMYW5ndWFnZS5sYW5ndWFnZUNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJJZDogYmxhZGUub3duZXIuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJUeXBlOiBibGFkZS5vd25lclR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ibGFkZUNsb3NlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICd2aWRlb0RldGFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZpZGVvRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3ZpZGVvLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIHBhcmVudEJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnN0YXR1c1RleHQgJiYgZXJyb3IuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3Iuc3RhdHVzVGV4dCA9IGVycm9yLmRhdGEubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKGVycm9yLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjYXRhbG9nLmJsYWRlcy52aWRlby1hZGQuY3JlYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtY2hlY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5DcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS52aWRlb0RldGFpbENvbnRyb2xsZXInLFxuICAgICAgICBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ3MnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZpZGVvcycsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBkaWFsb2dTZXJ2aWNlLCBzZXR0aW5ncywgdmlkZW9zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRCbGFkZSA9IGJsYWRlLnBhcmVudEJsYWRlO1xuICAgICAgICAgICAgICAgIGJsYWRlLnVwZGF0ZVBlcm1pc3Npb24gPSAnY2F0YWxvZzp1cGRhdGUnO1xuICAgICAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhYiBmYS15b3V0dWJlJztcbiAgICAgICAgICAgICAgICBibGFkZS50aXRsZSA9ICdjYXRhbG9nLmJsYWRlcy52aWRlby1kZXRhaWwudGl0bGUnO1xuICAgICAgICAgICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLnZpZGVvLWRldGFpbC5zdWJ0aXRsZSc7XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUubGFuZ3VhZ2VzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGxhbmd1YWdlc1Byb21pc2UgPSBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLkxhbmd1YWdlcycgfSkuJHByb21pc2U7XG5cbiAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKHBhcmVudFJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZXNQcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5ndWFnZXMgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplKGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50UmVmcmVzaCAmJiBibGFkZS5wYXJlbnRCbGFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaChwYXJlbnRSZWZyZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUub3JpZ0VudGl0eSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGRhdGVwaWNrZXJcbiAgICAgICAgICAgICAgICBibGFkZS5kYXRlcGlja2VycyA9IHt9O1xuICAgICAgICAgICAgICAgIGJsYWRlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xuICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5kYXRlcGlja2Vyc1t3aGljaF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzYXZlQ2hhbmdlcygpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBzYXZlT3JVcGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoZXJyb3IsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2F2ZU9yVXBkYXRlKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlkZW9zLnNhdmUoW2JsYWRlLmN1cnJlbnRFbnRpdHldLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNOZXcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHlJZCA9IGRhdGFbMF0uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LklkID0gYmxhZGUuY3VycmVudEVudGl0eUlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlRW50cnkoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmRpYWxvZ3MudmlkZW8tZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImNhdGFsb2cuZGlhbG9ncy52aWRlby1kZWxldGUubWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvcy5yZW1vdmUoeyBpZHM6IFtibGFkZS5jdXJyZW50RW50aXR5SWRdIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRCbGFkZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50QmxhZGUucmVmcmVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhkaWFsb2cpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50Rm9ybTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2V0Rm9ybSA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGb3JtID0gZm9ybTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKG51bGwsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUNoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaXNEaXJ0eSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChibGFkZS5pc05ldyB8fCAhYW5ndWxhci5lcXVhbHMoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSkpICYmIGJsYWRlLmhhc1VwZGF0ZVBlcm1pc3Npb24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjYW5TYXZlKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmIGN1cnJlbnRGb3JtICYmIGN1cnJlbnRGb3JtLiR2YWxpZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBibGFkZS5vbkNsb3NlID0gZnVuY3Rpb24gKGNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93Q29uZmlybWF0aW9uSWZOZWVkZWQoaXNEaXJ0eSgpLCBjYW5TYXZlKCksIGJsYWRlLCAkc2NvcGUuc2F2ZUNoYW5nZXMsIGNsb3NlQ2FsbGJhY2ssIFwiY2F0YWxvZy5kaWFsb2dzLnZpZGVvLXNhdmUudGl0bGVcIiwgXCJjYXRhbG9nLmRpYWxvZ3MudmlkZW8tc2F2ZS5tZXNzYWdlXCIpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXNhdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlQ2hhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuU2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtdW5kbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHksIGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzRGlydHlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS10cmFzaC1vJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBkZWxldGVFbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWJsYWRlLmlzTmV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS52aWRlb0xpc3RDb250cm9sbGVyJyxcbiAgICAgICAgWyckc2NvcGUnLCAnJHRyYW5zbGF0ZScsICckdGltZW91dCcsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlVXRpbHMnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC51aUdyaWRIZWxwZXInLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZpZGVvcycsXG4gICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkdHJhbnNsYXRlLCAkdGltZW91dCwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgYmxhZGVVdGlscywgZGlhbG9nU2VydmljZSwgdWlHcmlkSGVscGVyLCB2aWRlb3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgICAgICAgICAgYmxhZGUudXBkYXRlUGVybWlzc2lvbiA9ICdjYXRhbG9nOnVwZGF0ZSc7XG4gICAgICAgICAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmFiIGZhLXlvdXR1YmUnO1xuICAgICAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLnZpZGVvLWxpc3QudGl0bGUnO1xuICAgICAgICAgICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLnZpZGVvLWxpc3Quc3VidGl0bGUnO1xuXG4gICAgICAgICAgICAgICAgYmxhZGUuZ2V0U2VhcmNoQ3JpdGVyaWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmV4dGVuZChmaWx0ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFBocmFzZTogZmlsdGVyLmtleXdvcmQgPyBmaWx0ZXIua2V5d29yZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnQ6IHVpR3JpZEhlbHBlci5nZXRTb3J0RXhwcmVzc2lvbigkc2NvcGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcDogKCRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgLSAxKSAqICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWtlOiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2aWRlb3Mub3B0aW9ucyhudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS52aWRlb09wdGlvbnMgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoZXJyb3IsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2aWRlb3Muc2VhcmNoKGJsYWRlLmdldFNlYXJjaENyaXRlcmlhKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IGRhdGEudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcihlcnJvciwgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNpbXBsZSBhbmQgYWR2YW5jZWQgZmlsdGVyaW5nXG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9ICRzY29wZS5maWx0ZXIgPSBibGFkZS5maWx0ZXIgfHwge1xuICAgICAgICAgICAgICAgICAgICBvd25lcklkczogW2JsYWRlLm93bmVyLmlkXSxcbiAgICAgICAgICAgICAgICAgICAgb3duZXJUeXBlOiBibGFkZS5vd25lclR5cGVcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUudG9nZ2xlSW1hZ2VTZWxlY3QgPSBmdW5jdGlvbihlLCBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uJHNlbGVjdGVkID0gIWl0ZW0uJHNlbGVjdGVkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uJHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS4kc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS4kc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5lZGl0ID0gZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3ZpZGVvRGV0YWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogaXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZpZGVvRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3ZpZGVvLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYmxhZGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gaXRlbS5pZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlTGlzdChbaXRlbV0sIHRydWUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkZWxldGVMaXN0IChzZWxlY3Rpb24sIHNpbmdsZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiY29uZmlybURlbGV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNpbmdsZSA/IFwiY2F0YWxvZy5kaWFsb2dzLnZpZGVvLWRlbGV0ZS50aXRsZVwiIDogXCJjYXRhbG9nLmRpYWxvZ3MudmlkZW8tbGlzdC1kZWxldGUudGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHNpbmdsZSA/IFwiY2F0YWxvZy5kaWFsb2dzLnZpZGVvLWRlbGV0ZS5tZXNzYWdlXCIgOiBcImNhdGFsb2cuZGlhbG9ncy52aWRlby1saXN0LWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9zLnJlbW92ZSh7IGlkczogc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uaWQpIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoZXJyb3IsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgZGlhbG9nU2VydmljZS5zaG93Q29uZmlybWF0aW9uRGlhbG9nKGRpYWxvZyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkVmlkZW8oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAndmlkZW9BZGQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXI6IGJsYWRlLm93bmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJUeXBlOiBibGFkZS5vd25lclR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlb09wdGlvbnM6IGJsYWRlLnZpZGVvT3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYW5ndWFnZTogYmxhZGUuY2F0YWxvZy5kZWZhdWx0TGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnZpZGVvQWRkQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3ZpZGVvLWFkZC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVmcmVzaFwiLCBpY29uOiAnZmEgZmEtcmVmcmVzaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBibGFkZS5yZWZyZXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXBsdXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFZpZGVvKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBibGFkZS5vd25lciAmJiBibGFkZS5vd25lclR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtdHJhc2gtbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24oKSB7IGRlbGV0ZUxpc3QoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBibGFkZS5jdXJyZW50RW50aXRpZXMgJiYgJHNjb3BlLmdyaWRBcGkgJiYgXy5hbnkoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByaW9yaXR5Q2hhbmdlZCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9zLnNhdmUoW2RhdGEucm93RW50aXR5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoZXJyb3IsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyB1aS1ncmlkXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldEdyaWRPcHRpb25zID0gZnVuY3Rpb24gKGdyaWRPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHVpR3JpZEhlbHBlci5pbml0aWFsaXplKCRzY29wZSwgZ3JpZE9wdGlvbnMsIGZ1bmN0aW9uIChncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQXBpLmVkaXQub24uYWZ0ZXJDZWxsRWRpdCgkc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24ocm93RW50aXR5LCBjb2xEZWYsIG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dFbnRpdHk6IHJvd0VudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xEZWY6IGNvbERlZixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQXBpOiBncmlkQXBpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQocHJpb3JpdHlDaGFuZ2VkLCAxMDAsIHRydWUsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1aUdyaWRIZWxwZXIuYmluZFJlZnJlc2hPblNvcnRDaGFuZ2VkKCRzY29wZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBibGFkZVV0aWxzLmluaXRpYWxpemVQYWdpbmF0aW9uKCRzY29wZSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5wcmlvcml0eVZhbGlkID0gZnVuY3Rpb24oZW50aXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChlbnRpdHkuc29ydE9yZGVyKSAmJiBlbnRpdHkuc29ydE9yZGVyID49IDA7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5pc1ZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJibGFkZS5jdXJyZW50RW50aXRpZXNcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IF8uYWxsKGJsYWRlLmN1cnJlbnRFbnRpdGllcywgJHNjb3BlLnByaW9yaXR5VmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5pc1ZhbGlkID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0cnVlKTtcbiAgICAgICAgICAgIH1dKVxuICAgIC5ydW4oWydwbGF0Zm9ybVdlYkFwcC51aS1ncmlkLmV4dGVuc2lvbicsICd1aUdyaWRWYWxpZGF0ZVNlcnZpY2UnLCBmdW5jdGlvbih1aUdyaWRFeHRlbnNpb24sIHVpR3JpZFZhbGlkYXRlU2VydmljZSkge1xuICAgICAgICAgICAgdWlHcmlkVmFsaWRhdGVTZXJ2aWNlLnNldFZhbGlkYXRvcignbWluUHJpb3JpdHlWYWxpZGF0b3InLFxuICAgICAgICAgICAgICAgICgpID0+IChvbGRWYWx1ZSwgbmV3VmFsdWUpID0+IG5ld1ZhbHVlID49IDAsXG4gICAgICAgICAgICAgICAgKCkgPT4gJ1ByaW9yaXR5IHZhbHVlIHNob3VsZCBiZSBlcXVhbCBvciBtb3JlIHRoYW4gemVybycpO1xuICAgICAgICB9XG4gICAgXSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcclxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUudmlydHVhbENhdGFsb2dEZXRhaWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLCAncGxhdGZvcm1XZWJBcHAubWV0YUZvcm1zU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGNhdGFsb2dzLCBtZXRhRm9ybXNTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xyXG4gICAgICAgIGJsYWRlLnVwZGF0ZVBlcm1pc3Npb24gPSAnY2F0YWxvZzp1cGRhdGUnO1xyXG5cclxuICAgICAgICBibGFkZS5tZXRhRmllbGRzID0gbWV0YUZvcm1zU2VydmljZS5nZXRNZXRhRmllbGRzKFwiY2F0YWxvZ0RldGFpbFwiKTtcclxuXHJcbiAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uIChwYXJlbnRSZWZyZXNoKSB7XHJcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2F0YWxvZ3MuZ2V0KHsgaWQ6IGJsYWRlLmN1cnJlbnRFbnRpdHlJZCB9LCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZShkYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLmNoaWxkcmVuQmxhZGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChibGFkZS5jaGlsZHJlbkJsYWRlcywgZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh4LnJlZnJlc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LnJlZnJlc2goYmxhZGUuY3VycmVudEVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudFJlZnJlc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKCFibGFkZS5pc05ldykge1xyXG4gICAgICAgICAgICAgICAgYmxhZGUudGl0bGUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XHJcbiAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBkYXRhO1xyXG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgYmxhZGUuc2VjdXJpdHlTY29wZXMgPSBkYXRhLnNlY3VyaXR5U2NvcGVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaXNEaXJ0eSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVxdWFscyhibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KSAmJiBibGFkZS5oYXNVcGRhdGVQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBjYW5TYXZlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmIGZvcm1TY29wZSAmJiBmb3JtU2NvcGUuJHZhbGlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGZvcm1TY29wZTtcclxuICAgICAgICAkc2NvcGUuc2V0Rm9ybSA9IGZ1bmN0aW9uIChmb3JtKSB7IGZvcm1TY29wZSA9IGZvcm07IH1cclxuXHJcbiAgICAgICAgJHNjb3BlLmNhbmNlbENoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5vcmlnRW50aXR5LCBibGFkZS5jdXJyZW50RW50aXR5KTtcclxuICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xyXG4gICAgICAgICAgICAgICAgY2F0YWxvZ3Muc2F2ZSh7fSwgYmxhZGUuY3VycmVudEVudGl0eSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc05ldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5SWQgPSBkYXRhLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZShkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplVG9vbGJhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2godHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhdGFsb2dzLnVwZGF0ZSh7fSwgYmxhZGUuY3VycmVudEVudGl0eSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgYmxhZGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBibGFkZS5vbkNsb3NlID0gZnVuY3Rpb24gKGNsb3NlQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93Q29uZmlybWF0aW9uSWZOZWVkZWQoaXNEaXJ0eSgpLCBjYW5TYXZlKCksIGJsYWRlLCAkc2NvcGUuc2F2ZUNoYW5nZXMsIGNsb3NlQ2FsbGJhY2ssIFwiY2F0YWxvZy5kaWFsb2dzLnZpcnR1YWwtY2F0YWxvZy1zYXZlLnRpdGxlXCIsIFwiY2F0YWxvZy5kaWFsb2dzLnZpcnR1YWwtY2F0YWxvZy1zYXZlLm1lc3NhZ2VcIik7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVRvb2xiYXIoKSB7XHJcbiAgICAgICAgICAgIGlmICghYmxhZGUuaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLCBpY29uOiAnZmFzIGZhLXNhdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogY2FuU2F2ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlc2V0XCIsIGljb246ICdmYSBmYS11bmRvJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHksIGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBpc0RpcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5pdGlhbGl6ZVRvb2xiYXIoKTtcclxuICAgICAgICBibGFkZS5yZWZyZXNoKGZhbHNlKTtcclxuICAgIH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXHJcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dJdGVtU2VsZWN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9ncycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUubGlzdEVudHJpZXMnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVVdGlscycsICd1aUdyaWRDb25zdGFudHMnLCAncGxhdGZvcm1XZWJBcHAudWlHcmlkSGVscGVyJywgJ3BsYXRmb3JtV2ViQXBwLnVpLWdyaWQuZXh0ZW5zaW9uJywgJyR0aW1lb3V0JyxcclxuICAgIGZ1bmN0aW9uICgkc2NvcGUsIGNhdGFsb2dzLCBsaXN0RW50cmllcywgYmxhZGVVdGlscywgdWlHcmlkQ29uc3RhbnRzLCB1aUdyaWRIZWxwZXIsIGdyaWRPcHRpb25FeHRlbnNpb24sICR0aW1lb3V0KSB7XHJcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XHJcbiAgICB2YXIgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSA9IGJsYWRlVXRpbHMuYmxhZGVOYXZpZ2F0aW9uU2VydmljZTtcclxuXHJcbiAgICBpZiAoIWJsYWRlLnRpdGxlKSB7XHJcbiAgICAgICAgYmxhZGUudGl0bGUgPSBcIlNlbGVjdCBDYXRhbG9nIGl0ZW1zLi4uXCI7XHJcbiAgICB9XHJcblxyXG4gICAgJHNjb3BlLm9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7XHJcbiAgICAgICAgc2hvd0NoZWNraW5nTXVsdGlwbGU6IHRydWUsXHJcbiAgICAgICAgYWxsb3dDaGVja2luZ0l0ZW06IHRydWUsXHJcbiAgICAgICAgYWxsb3dDaGVja2luZ0NhdGVnb3J5OiBmYWxzZSxcclxuICAgICAgICB3aXRoUHJvZHVjdHM6IHRydWUsXHJcbiAgICAgICAgc2VsZWN0ZWRJdGVtSWRzOiBbXSxcclxuICAgICAgICBncmlkQ29sdW1uczogW11cclxuICAgIH0sIGJsYWRlLm9wdGlvbnMpO1xyXG5cclxuICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICBmaWx0ZXIuc2VhcmNoZWRLZXl3b3JkID0gZmlsdGVyLmtleXdvcmQ7XHJcblxyXG4gICAgICAgIGlmICghJHNjb3BlLmlzQ2F0YWxvZ1NlbGVjdE1vZGUoKSkge1xyXG4gICAgICAgICAgICBsaXN0RW50cmllcy5saXN0aXRlbXNzZWFyY2goXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ0lkOiBibGFkZS5jYXRhbG9nSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDogYmxhZGUuY2F0ZWdvcnlJZCxcclxuICAgICAgICAgICAgICAgICAgICBrZXl3b3JkOiBmaWx0ZXIua2V5d29yZCxcclxuICAgICAgICAgICAgICAgICAgICBzZWFyY2hJblZhcmlhdGlvbnMgOiBmaWx0ZXIuc2VhcmNoSW5WYXJpYXRpb25zID8gZmlsdGVyLnNlYXJjaEluVmFyaWF0aW9ucyA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlR3JvdXA6ICRzY29wZS5vcHRpb25zLndpdGhQcm9kdWN0cyA/ICd3aXRoQ2F0ZWdvcmllcywgd2l0aFByb2R1Y3RzJyA6ICd3aXRoQ2F0ZWdvcmllcycsXHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZXM6ICRzY29wZS5vcHRpb25zLndpdGhQcm9kdWN0cyA/IHVuZGVmaW5lZCA6IFsnQ2F0ZWdvcnknXSxcclxuICAgICAgICAgICAgICAgICAgICBleGNsdWRlUHJvZHVjdFR5cGU6ICRzY29wZS5vcHRpb25zLmV4Y2x1ZGVQcm9kdWN0VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICBzb3J0OiB1aUdyaWRIZWxwZXIuZ2V0U29ydEV4cHJlc3Npb24oJHNjb3BlKSxcclxuICAgICAgICAgICAgICAgICAgICBza2lwOiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICB0YWtlOiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50XHJcbiAgICAgICAgICAgICAgICB9LCBibGFkZS5zZWFyY2hDcml0ZXJpYSksXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhLCBoZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IGRhdGEudG90YWxDb3VudDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pdGVtcyA9IGRhdGEubGlzdEVudHJpZXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wdGlvbnMub25JdGVtc0xvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLm9uSXRlbXNMb2FkZWQoZGF0YS5saXN0RW50cmllcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9TZXQgbmF2aWdhdGlvbiBicmVhZGNydW1ic1xyXG4gICAgICAgICAgICAgICAgc2V0QnJlYWRjcnVtYnMoKTtcclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy9Ub0RvOiBBcHBseSBJbmZpbml0ZSBzY3JvbGxpbmdcclxuICAgICAgICAgICAgY2F0YWxvZ3Muc2VhcmNoKHt0YWtlOiAxMDAwfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3B0aW9ucy5pc1ZpcnR1YWwgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pdGVtcyA9IGRhdGEucmVzdWx0cztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1zID0gXy53aGVyZShkYXRhLnJlc3VsdHMsIHsgaXNWaXJ0dWFsOiAkc2NvcGUub3B0aW9ucy5pc1ZpcnR1YWwgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy50b3RhbEl0ZW1zID0gJHNjb3BlLml0ZW1zLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wdGlvbnMub25DYXRhbG9nc0xvYWRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLm9uQ2F0YWxvZ3NMb2FkZWQoJHNjb3BlLml0ZW1zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL1NldCBuYXZpZ2F0aW9uIGJyZWFkY3J1bWJzXHJcbiAgICAgICAgICAgICAgICBzZXRCcmVhZGNydW1icygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vQnJlYWRjcnVtYnNcclxuICAgIGZ1bmN0aW9uIHNldEJyZWFkY3J1bWJzKCkge1xyXG4gICAgICAgIC8vQ2xvbmUgYXJyYXkgKGFuZ3VsYXIuY29weSBsZWF2ZSBhIHNhbWUgcmVmZXJlbmNlKVxyXG4gICAgICAgIGJsYWRlLmJyZWFkY3J1bWJzID0gYmxhZGUuYnJlYWRjcnVtYnMuc2xpY2UoMCk7XHJcblxyXG4gICAgICAgIC8vY2F0YWxvZyBicmVhZGNydW1iIGJ5IGRlZmF1bHRcclxuICAgICAgICB2YXIgYnJlYWRDcnVtYiA9IHtcclxuICAgICAgICAgICAgaWQ6IGJsYWRlLmNhdGFsb2dJZCA/IGJsYWRlLmNhdGFsb2dJZCA6IFwiQWxsXCIsXHJcbiAgICAgICAgICAgIG5hbWU6IGJsYWRlLmNhdGFsb2cgPyBibGFkZS5jYXRhbG9nLm5hbWUgOiBcImNhdGFsb2cuYmxhZGVzLmNhdGFsb2ctaXRlbXMtc2VsZWN0LmJyZWFkLWNydW1iLXRvcFwiLFxyXG4gICAgICAgICAgICBibGFkZTogJHNjb3BlLmJsYWRlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy9pZiBjYXRlZ29yeSBuZWVkIGNoYW5nZSB0byBjYXRlZ29yeSBicmVhZGNydW1iXHJcbiAgICAgICAgaWYgKGJsYWRlLmNhdGVnb3J5KSB7XHJcblxyXG4gICAgICAgICAgICBicmVhZENydW1iLmlkID0gYmxhZGUuY2F0ZWdvcnlJZDtcclxuICAgICAgICAgICAgYnJlYWRDcnVtYi5uYW1lID0gYmxhZGUuY2F0ZWdvcnkubmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcHJldmVudCBkdXBsaWNhdGUgaXRlbXNcclxuICAgICAgICBpZiAoIV8uc29tZShibGFkZS5icmVhZGNydW1icywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQgPT09IGJyZWFkQ3J1bWIuaWQgfSkpIHtcclxuICAgICAgICAgICAgYmxhZGUuYnJlYWRjcnVtYnMucHVzaChicmVhZENydW1iKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFkQ3J1bWIubmF2aWdhdGUgPSBmdW5jdGlvbiAoYnJlYWRjcnVtYikge1xyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQmxhZGUoJHNjb3BlLmJsYWRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnJlYWRjcnVtYi5pZCA9PT0gXCJBbGxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmNhdGFsb2dJZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuZmlsdGVyLmtleXdvcmQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUoJHNjb3BlLmJsYWRlLCBibGFkZS5wYXJlbnRCbGFkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgICRzY29wZS5pc0NhdGFsb2dTZWxlY3RNb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAhYmxhZGUuY2F0YWxvZ0lkICYmICFmaWx0ZXIuc2VhcmNoZWRLZXl3b3JkO1xyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChlLCBsaXN0SXRlbSkge1xyXG4gICAgICAgIC8vaWYgKCRzY29wZS5zZWxlY3RlZE5vZGVJZCA9PSBsaXN0SXRlbS5pZClcclxuICAgICAgICAvLyAgICByZXR1cm47XHJcblxyXG4gICAgICAgICRzY29wZS5zZWxlY3RlZE5vZGVJZCA9IGxpc3RJdGVtLmlkO1xyXG4gICAgICAgIC8vY2FsbCBjYWxsYmFjayBmdW5jdGlvblxyXG4gICAgICAgIGlmICgkc2NvcGUub3B0aW9ucy5zZWxlY3RJdGVtRm4pIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2VsZWN0SXRlbUZuKGxpc3RJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xyXG4gICAgICAgICAgICBpZDogYmxhZGUuaWQsXHJcbiAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBibGFkZS5icmVhZGNydW1icyxcclxuICAgICAgICAgICAgY2F0YWxvZ0lkOiBibGFkZS5jYXRhbG9nSWQsXHJcbiAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGJsYWRlLmNvbnRyb2xsZXIsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiBibGFkZS50ZW1wbGF0ZSxcclxuICAgICAgICAgICAgb3B0aW9uczogJHNjb3BlLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIHNlYXJjaENyaXRlcmlhOiBibGFkZS5zZWFyY2hDcml0ZXJpYSxcclxuICAgICAgICAgICAgdG9vbGJhckNvbW1hbmRzOiBibGFkZS50b29sYmFyQ29tbWFuZHNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoJHNjb3BlLmlzQ2F0YWxvZ1NlbGVjdE1vZGUoKSkge1xyXG4gICAgICAgICAgICBuZXdCbGFkZS5jYXRhbG9nSWQgPSBsaXN0SXRlbS5pZDtcclxuICAgICAgICAgICAgbmV3QmxhZGUuY2F0YWxvZyA9IGxpc3RJdGVtO1xyXG5cclxuICAgICAgICAgICAgLy8gc3dpdGNoIHRlbXBsYXRlIG9wdGlvblxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLm9wdGlvbnMuZ2V0QmxhZGVGb3JDYXRlZ29yaWVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VzdG9tQ2F0ZWdvcmllc0JsYWRlID0gJHNjb3BlLm9wdGlvbnMuZ2V0QmxhZGVGb3JDYXRlZ29yaWVzKGxpc3RJdGVtLCBuZXdCbGFkZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VzdG9tQ2F0ZWdvcmllc0JsYWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxhZGUgPSBjdXN0b21DYXRlZ29yaWVzQmxhZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlLnBhcmVudEJsYWRlKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXR0aW5nIGN1cnJlbnQgY2F0YWxvZyB0byBiZSBnbG9iYWxseSBhdmFpbGFibGUgXHJcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2F0YWxvZ3NTZWxlY3RlZENhdGFsb2cgPSBsaXN0SXRlbTtcclxuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jYXRhbG9nc1NlbGVjdGVkQ2F0ZWdvcnlJZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobGlzdEl0ZW0udHlwZSA9PT0gJ2NhdGVnb3J5Jykge1xyXG4gICAgICAgICAgICBuZXdCbGFkZS5jYXRlZ29yeUlkID0gbGlzdEl0ZW0uaWQ7XHJcbiAgICAgICAgICAgIG5ld0JsYWRlLmNhdGVnb3J5ID0gbGlzdEl0ZW07XHJcblxyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQmxhZGUoYmxhZGUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZS5wYXJlbnRCbGFkZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy9kZWZhdWx0IGJsYWRlIGZvciBwcm9kdWN0IGRldGFpbHNcclxuICAgICAgICAgICAgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJsaXN0SXRlbURldGFpbFwiLFxyXG4gICAgICAgICAgICAgICAgaXRlbUlkOiBsaXN0SXRlbS5pZCxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RUeXBlOiBsaXN0SXRlbS5wcm9kdWN0VHlwZSxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBsaXN0SXRlbS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcclxuICAgICAgICAgICAgICAgIHZhcmlhdGlvbnNUb29sYmFyQ29tbWFuZHNBbmRFdmVudHM6IHsgdG9vbGJhckNvbW1hbmRzOiBibGFkZS50b29sYmFyQ29tbWFuZHMsIGV4dGVybmFsUmVnaXN0ZXJBcGlDYWxsYmFjazogZXh0ZXJuYWxSZWdpc3RlckFwaUNhbGxiYWNrIH0sXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1EZXRhaWxDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaXRlbS1kZXRhaWwudHBsLmh0bWwnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2V4dGVuc2lvbiBwb2ludCBhbGxvd3MgdG8gdXNlIGN1c3RvbSB2aWV3cyBmb3IgcHJvZHVjdCBkZXRhaWxzXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUub3B0aW9ucy5mbkdldEJsYWRlRm9ySXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1c3RvbUJsYWRlID0gJHNjb3BlLm9wdGlvbnMuZm5HZXRCbGFkZUZvckl0ZW0obGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1c3RvbUJsYWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxhZGUgPSBjdXN0b21CbGFkZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0dGluZyBjdXJyZW50IGNhdGVnb3J5SWQgdG8gYmUgZ2xvYmFsbHkgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2F0YWxvZ3NTZWxlY3RlZENhdGVnb3J5SWQgPSBibGFkZS5jYXRlZ29yeUlkO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gc2ltcGxlIGFuZCBhZHZhbmNlZCBmaWx0ZXJpbmdcclxuXHJcbiAgICB2YXIgZmlsdGVyID0gYmxhZGUuZmlsdGVyID0gYmxhZGUuZmlsdGVyIHx8IHsga2V5d29yZDogJycgfTtcclxuXHJcbiAgICBmaWx0ZXIuY3JpdGVyaWFDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID4gMSkge1xyXG4gICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZElkLCBncmlkT3B0aW9ucykge1xyXG4gICAgICAgIGdyaWRPcHRpb25zLmlzUm93U2VsZWN0YWJsZSA9IGFuZ3VsYXIuaXNGdW5jdGlvbigkc2NvcGUub3B0aW9ucy5pc0l0ZW1TZWxlY3RhYmxlKVxyXG4gICAgICAgICAgICA/IGZ1bmN0aW9uKHJvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5vcHRpb25zLmlzSXRlbVNlbGVjdGFibGUocm93LmVudGl0eSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiBmdW5jdGlvbihyb3cpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUub3B0aW9ucy5hbGxvd0NoZWNraW5nSXRlbSAmJiByb3cuZW50aXR5LnR5cGUgIT09ICdjYXRlZ29yeScgfHxcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9ucy5hbGxvd0NoZWNraW5nQ2F0ZWdvcnkgJiYgcm93LmVudGl0eS50eXBlID09PSAnY2F0ZWdvcnknO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBncmlkT3B0aW9ucy5jb2x1bW5EZWZzID0gZ3JpZE9wdGlvbnMuY29sdW1uRGVmcy5jb25jYXQoJHNjb3BlLm9wdGlvbnMuZ3JpZENvbHVtbnMpO1xyXG4gICAgICAgIGdyaWRPcHRpb25FeHRlbnNpb24udHJ5RXh0ZW5kR3JpZE9wdGlvbnMoZ3JpZElkLCBncmlkT3B0aW9ucyk7XHJcbiAgICAgICAgdWlHcmlkSGVscGVyLmluaXRpYWxpemUoJHNjb3BlLCBncmlkT3B0aW9ucywgZXh0ZXJuYWxSZWdpc3RlckFwaUNhbGxiYWNrKTtcclxuICAgICAgICBibGFkZVV0aWxzLmluaXRpYWxpemVQYWdpbmF0aW9uKCRzY29wZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGV4dGVybmFsUmVnaXN0ZXJBcGlDYWxsYmFjayhncmlkQXBpKSB7XHJcbiAgICAgICAgLy91cGRhdGUgZ3JpZEFwaSBmb3IgY3VycmVudCBncmlkXHJcbiAgICAgICAgJHNjb3BlLmdyaWRBcGkgPSBncmlkQXBpO1xyXG5cclxuICAgICAgICBncmlkQXBpLmdyaWQucmVnaXN0ZXJEYXRhQ2hhbmdlQ2FsbGJhY2soZnVuY3Rpb24gKGdyaWQpIHtcclxuICAgICAgICAgICAgLy9jaGVjayBhbHJlYWR5IHNlbGVjdGVkIHJvd3NcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgXy5lYWNoKCRzY29wZS5pdGVtcywgZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXy5zb21lKCRzY29wZS5vcHRpb25zLnNlbGVjdGVkSXRlbUlkcywgZnVuY3Rpb24gKHkpIHsgcmV0dXJuIHkgPT09IHguaWQ7IH0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRBcGkuc2VsZWN0aW9uLnNlbGVjdFJvdyh4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgW3VpR3JpZENvbnN0YW50cy5kYXRhQ2hhbmdlLlJPV10pO1xyXG5cclxuICAgICAgICBncmlkQXBpLnNlbGVjdGlvbi5vbi5yb3dTZWxlY3Rpb25DaGFuZ2VkKCRzY29wZSwgZnVuY3Rpb24gKHJvdykge1xyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLm9wdGlvbnMuY2hlY2tJdGVtRm4pIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcHRpb25zLmNoZWNrSXRlbUZuKHJvdy5lbnRpdHksIHJvdy5pc1NlbGVjdGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocm93LmlzU2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghXy5jb250YWlucygkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1JZHMsIHJvdy5lbnRpdHkuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wdGlvbnMuc2VsZWN0ZWRJdGVtSWRzLnB1c2gocm93LmVudGl0eS5pZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3B0aW9ucy5zZWxlY3RlZEl0ZW1JZHMgPSBfLndpdGhvdXQoJHNjb3BlLm9wdGlvbnMuc2VsZWN0ZWRJdGVtSWRzLCByb3cuZW50aXR5LmlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB1aUdyaWRIZWxwZXIuYmluZFJlZnJlc2hPblNvcnRDaGFuZ2VkKCRzY29wZSk7XHJcbiAgICB9XHJcbn1dKTtcclxuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nRXhwb3J0U2VydmljZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJldFZhbCA9IHtcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbnNMaXN0OiBbXSxcbiAgICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiAocmVnaXN0cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyYXRpb25zTGlzdC5wdXNoKHJlZ2lzdHJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXRWYWw7XG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmV4cG9ydGVyTGlzdENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nRXhwb3J0U2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGNhdGFsb2dFeHBvcnRTZXJ2aWNlKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbnVsbDtcblxuXHRmdW5jdGlvbiBpbml0aWFsaXplQmxhZGUoKSB7XG5cdCAgICAkc2NvcGUucmVnaXN0cmF0aW9uc0xpc3QgPSBjYXRhbG9nRXhwb3J0U2VydmljZS5yZWdpc3RyYXRpb25zTGlzdDtcblx0XHRibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcblx0fTtcblxuXHQkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICB2YXIgbmV3QmxhZGUgPSB7fTtcbiAgICAgICAgYW5ndWxhci5jb3B5KGRhdGEsIG5ld0JsYWRlKTtcblxuICAgICAgICBuZXdCbGFkZS5zZWxlY3RlZENhdGVnb3JpZXMgPSBibGFkZS5zZWxlY3RlZENhdGVnb3JpZXM7XG4gICAgICAgIG5ld0JsYWRlLnNlbGVjdGVkUHJvZHVjdHMgPSBibGFkZS5zZWxlY3RlZFByb2R1Y3RzO1xuICAgICAgICBuZXdCbGFkZS5jYXRhbG9nID0gYmxhZGUuY2F0YWxvZztcblxuICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGRhdGEub25Jbml0aWFsaXplKSkge1xuICAgICAgICAgICAgZGF0YS5vbkluaXRpYWxpemUobmV3QmxhZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlLnBhcmVudEJsYWRlKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtdXBsb2FkJztcblxuXHRpbml0aWFsaXplQmxhZGUoKTtcbn1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0ltcG9ydFNlcnZpY2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXRWYWwgPSB7XG4gICAgICAgICAgICByZWdpc3RyYXRpb25zTGlzdDogW10sXG4gICAgICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cmF0aW9uc0xpc3QucHVzaChyZWdpc3RyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmV0VmFsO1xuICAgIH0pOyIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pbXBvcnRlckxpc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0ltcG9ydFNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBjYXRhbG9nSW1wb3J0U2VydmljZSkge1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuXHQkc2NvcGUuc2VsZWN0ZWROb2RlSWQgPSBudWxsO1xuXG5cdGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZSgpIHtcblx0XHQkc2NvcGUucmVnaXN0cmF0aW9uc0xpc3QgPSBjYXRhbG9nSW1wb3J0U2VydmljZS5yZWdpc3RyYXRpb25zTGlzdDtcblx0XHRibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcblx0fTtcblxuXHQkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKGRhdGEpIHtcblx0XHR2YXIgbmV3QmxhZGUgPSB7fTtcblx0XHRhbmd1bGFyLmNvcHkoZGF0YSwgbmV3QmxhZGUpO1xuXHRcdG5ld0JsYWRlLmNhdGFsb2cgPSBibGFkZS5jYXRhbG9nO1xuXG5cdFx0YmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlLnBhcmVudEJsYWRlKTtcblx0fVxuXG5cdCRzY29wZS5ibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS1kb3dubG9hZCc7XG5cblx0aW5pdGlhbGl6ZUJsYWRlKCk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmxpbmtzTGlzdENvbnRyb2xsZXInLFxuICAgICAgICBbJyRzY29wZScsICckdGltZW91dCcsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVVdGlscycsICdwbGF0Zm9ybVdlYkFwcC51aUdyaWRIZWxwZXInLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmxpc3RFbnRyaWVzJyxcbiAgICAgICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICR0aW1lb3V0LCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBkaWFsb2dTZXJ2aWNlLCBibGFkZVV0aWxzLCB1aUdyaWRIZWxwZXIsIGxpc3RFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgICAgICAgICAgYmxhZGUudXBkYXRlUGVybWlzc2lvbiA9ICdjYXRhbG9nOnVwZGF0ZSc7XG4gICAgICAgICAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmFzIGZhLWxpbmsnO1xuICAgICAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gJ2NhdGFsb2cuYmxhZGVzLmxpbmtzLWxpc3QudGl0bGUnO1xuICAgICAgICAgICAgICAgIGJsYWRlLmxpbmtJbWFnZSA9ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9Db250ZW50L2ltYWdlcy9saW5rLnN2Zyc7XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUubGlua3MgPSBbXTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGFzTW9yZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlICE9PSAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlYXJjaENyaXRlcmlhID0gYmxhZGUuZ2V0U2VhcmNoQ3JpdGVyaWEoKTtcblxuICAgICAgICAgICAgICAgICAgICBsaXN0RW50cmllcy5zZWFyY2hsaW5rcyhzZWFyY2hDcml0ZXJpYSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEVudHJ5UGF0aChkYXRhLnJlc3VsdHMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbENvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhhc01vcmUgPSBkYXRhLnJlc3VsdHMubGVuZ3RoID09PSAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxpbmtzID0gZGF0YS5yZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXNldFN0YXRlR3JpZCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXNldFN0YXRlR3JpZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGlua3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5jbGVhclNlbGVjdGVkUm93cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwucmVzZXRTY3JvbGwodHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5kYXRhTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaG93TW9yZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5oYXNNb3JlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArKyRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5zYXZlU2Nyb2xsUGVyY2VudGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlYXJjaENyaXRlcmlhID0gYmxhZGUuZ2V0U2VhcmNoQ3JpdGVyaWEoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEVudHJpZXMuc2VhcmNobGlua3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoQ3JpdGVyaWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RW50cnlQYXRoKGRhdGEucmVzdWx0cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbENvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaGFzTW9yZSA9IGRhdGEucmVzdWx0cy5sZW5ndGggPT09ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5saW5rcyA9ICRzY29wZS5saW5rcy5jb25jYXQoZGF0YS5yZXN1bHRzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5kYXRhTG9hZGVkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RBbGxTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLnNlbGVjdEFsbFJvd3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyID0gJHNjb3BlLmZpbHRlciA9IGJsYWRlLmZpbHRlciB8fCB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdElkczogW2JsYWRlLmN1cnJlbnRFbnRpdHkuaWRdLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiBibGFkZS50eXBlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGZpbHRlci5jcml0ZXJpYUNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYmxhZGUuZ2V0U2VhcmNoQ3JpdGVyaWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmV4dGVuZChmaWx0ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXA6ICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZTogJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLXBsdXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BlbkFkZExpbmtzQmxhZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtdHJhc2gtbycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUxpc3QoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ncmlkQXBpICYmIF8uYW55KCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlbGV0ZUxpc3Qoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjYXRhbG9nLmRpYWxvZ3MubGlua3MtZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImNhdGFsb2cuZGlhbG9ncy5saW5rcy1kZWxldGUubWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmtzID0gXy5tYXAoc2VsZWN0aW9uLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cnlJZDogYmxhZGUuY3VycmVudEVudGl0eS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRhbG9nSWQ6IHguY2F0YWxvZ0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWQ6IHguY2F0ZWdvcnlJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEVudHJpZXMuZGVsZXRlbGlua3MobGlua3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoZXJyb3IsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dDb25maXJtYXRpb25EaWFsb2coZGlhbG9nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRFbnRyeVBhdGgoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBfLmVhY2goZGF0YSwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeC5jYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRsaW5lID0gXy5maXJzdCh4LmNhdGVnb3J5Lm91dGxpbmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0bGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lcyA9IF8ucGx1Y2sob3V0bGluZS5pdGVtcywgJ25hbWUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgeC4kJHBhdGggPSBfLmFueShuYW1lcykgPyAnXFwvJyArIG5hbWVzLmpvaW4oXCJcXC9cIikgOiAnXFwvJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5BZGRMaW5rc0JsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1JZHM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dDaGVja2luZ0NhdGVnb3J5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGRpc3BsYXkgcHJvZHVjdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhQcm9kdWN0czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IG9ubHkgdmlydHVhbCBjYXRhbG9ncyAob25seSB3b3JrcyBmb3IgY2F0YWxvZ3MpXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZpcnR1YWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggdG8gc2VsZWN0ICdjYXRlZ29yaWVzJyB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0QmxhZGVGb3JDYXRlZ29yaWVzOiBmdW5jdGlvbiAobGlzdEl0ZW0sIGNhdGVnb3JpZXNCbGFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNCbGFkZS50ZW1wbGF0ZSA9ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9saW5rcy1saXN0L2NhdGVnb3JpZXMtaXRlbXMtc2VsZWN0LWxpbmtzLnRwbC5odG1sJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcmllc0JsYWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrSXRlbUZuOiBmdW5jdGlvbiAobGlzdEl0ZW0sIGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV8uZmluZChzZWxlY3Rpb24sIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09IGxpc3RJdGVtLmlkOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLnB1c2gobGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBfLnJlamVjdChzZWxlY3Rpb24sIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09IGxpc3RJdGVtLmlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3Qgc2VsZWN0IGl0ZW1zIHdpdGggJ21hcmtlZCcgdHJ1ZSBvciBpdGVtIHdpdGggbGlua3MgKG1vc3QgbGlrZWx5IHZpcnR1YWwgY2F0ZWdvcnkgbGluaylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSXRlbVNlbGVjdGFibGU6IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzTGlua1RvU2FtZUNhdGVnb3J5ID0gYmxhZGUudHlwZSA9PT0gXCJDYXRlZ29yeVwiID8gaXRlbS5pZCA9PT0gYmxhZGUuY3VycmVudEVudGl0eS5pZCA6IGZhbHNlOyAvL3ByZXZlbnQgc2VsZi1saW5raW5nIGZvciBjYXRlZ29yaWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICghaXRlbS5saW5rcyB8fCAhaXRlbS5saW5rcy5sZW5ndGgpICYmICFpdGVtLm1hcmtlZCAmJiAhaXNMaW5rVG9TYW1lQ2F0ZWdvcnk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluZCBsaW5rZWQgY2F0ZWdvcmllcyB0byBwbGFjZSAnTWFya2VkJyBtYXJrXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkl0ZW1zTG9hZGVkOiBmdW5jdGlvbiAobG9hZGVkQ2F0ZWdvcmllcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbG9hZGVkQ2F0ZWdvcmllcy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb2FkZWRDYXRlZ29yaWVzSWRzID0gXy5wbHVjayhsb2FkZWRDYXRlZ29yaWVzLCAnaWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWFyY2hDcml0ZXJpYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0SWRzOiBbYmxhZGUuY3VycmVudEVudGl0eS5pZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFR5cGU6IGJsYWRlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5SWRzOiBsb2FkZWRDYXRlZ29yaWVzSWRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWtlOiBsb2FkZWRDYXRlZ29yaWVzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cmllcy5zZWFyY2hsaW5rcyhzZWFyY2hDcml0ZXJpYSwgZnVuY3Rpb24gKGNhdGVnb3J5TGlua3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGxvYWRlZENhdGVnb3JpZXMsIGZ1bmN0aW9uIChsb2FkZWRDYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkQ2F0ZWdvcnkubWFya2VkID0gISFfLmZpbmQoY2F0ZWdvcnlMaW5rcy5yZXN1bHRzLCBmdW5jdGlvbiAoY2F0ZWdvcnlMaW5rUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhdGVnb3J5TGlua1Jlc3VsdC5jYXRlZ29yeUlkID09PSBsb2FkZWRDYXRlZ29yeS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGxpbmtlZCBjYXRlZ29yaWVzIHRvIHBsYWNlICdNYXJrZWQnIG1hcmtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2F0YWxvZ3NMb2FkZWQ6IGZ1bmN0aW9uIChsb2FkZWRDYXRhbG9ncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbG9hZGVkQ2F0YWxvZ3MubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9hZGVkQ2F0YWxvZ0lkcyA9IF8ucGx1Y2sobG9hZGVkQ2F0YWxvZ3MsICdpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlYXJjaENyaXRlcmlhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RJZHM6IFtibGFkZS5jdXJyZW50RW50aXR5LmlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogYmxhZGUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZ0lkczogbG9hZGVkQ2F0YWxvZ0lkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFrZTogbG9hZGVkQ2F0YWxvZ3MubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyaWVzLnNlYXJjaGxpbmtzKHNlYXJjaENyaXRlcmlhLCBmdW5jdGlvbiAoY2F0YWxvZ0xpbmtEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChsb2FkZWRDYXRhbG9ncywgZnVuY3Rpb24gKGxvYWRlZENhdGFsb2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRlZENhdGFsb2cubWFya2VkID0gISFfLmZpbmQoY2F0YWxvZ0xpbmtEYXRhLnJlc3VsdHMsIGZ1bmN0aW9uIChjYXRhbG9nTGlua1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRhbG9nTGlua1Jlc3VsdC5jYXRhbG9nSWQgPT09IGxvYWRlZENhdGFsb2cuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiQ2F0YWxvZ0l0ZW1zU2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dJdGVtU2VsZWN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2xpbmtzLWxpc3QvY2F0YWxvZy1pdGVtcy1zZWxlY3QtbGlua3MudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXJDb21tYW5kczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5jb25maXJtXCIsIGljb246ICdmYSBmYS1jaGVjaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uIChzZWxlY3RCbGFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShzZWxlY3RCbGFkZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0RW50cnlMaW5rcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGlvbiwgZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbnRyeUlkOiBibGFkZS5jdXJyZW50RW50aXR5LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cnlUeXBlOiBibGFkZS50eXBlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbS50eXBlID09PSAnY2F0ZWdvcnknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuY2F0ZWdvcnlJZCA9IGxpc3RJdGVtLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmNhdGFsb2dJZCA9IGxpc3RJdGVtLmNhdGFsb2dJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuY2F0YWxvZ0lkID0gbGlzdEl0ZW0uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEVudHJ5TGlua3MucHVzaChsaW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RW50cmllcy5jcmVhdGVsaW5rcyhsaXN0RW50cnlMaW5rcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHsgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgYmxhZGUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uYW55KHNlbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZWZyZXNoXCIsIGljb246ICdmYSBmYS1yZWZyZXNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKHNlbGVjdEJsYWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0QmxhZGUucmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdEJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB1aS1ncmlkXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldEdyaWRPcHRpb25zID0gZnVuY3Rpb24gKGdyaWRPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlVXRpbHMuaW5pdGlhbGl6ZVBhZ2luYXRpb24oJHNjb3BlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudCA9IDUwO1xuXG4gICAgICAgICAgICAgICAgICAgIHVpR3JpZEhlbHBlci5pbml0aWFsaXplKCRzY29wZSwgZ3JpZE9wdGlvbnMsIGZ1bmN0aW9uIChncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaSA9IGdyaWRBcGk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVpR3JpZEhlbHBlci5iaW5kUmVmcmVzaE9uU29ydENoYW5nZWQoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLm9uLm5lZWRMb2FkTW9yZURhdGEoJHNjb3BlLCBzaG93TW9yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQXBpLmdyaWQub3B0aW9ucy5lbmFibGVHcmlkTWVudSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuZGlyZWN0aXZlKCd2YURpY3Rpb25hcnlWYWx1ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvZGlyZWN0aXZlcy9kaWN0aW9uYXJ5VmFsdWUudHBsLmh0bWwnLFxuICAgICAgICAgICAgcmVxdWlyZTogWydeZm9ybScsICduZ01vZGVsJ10sXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIG5nTW9kZWw6IFwiPVwiLFxuICAgICAgICAgICAgICAgIG5hbWU6IFwiPVwiLFxuICAgICAgICAgICAgICAgIGZvcm06IFwiPVwiLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SdWxlczogXCI9XCIsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwiQFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWVcbiAgICAgICAgfVxuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpLmRpcmVjdGl2ZSgndmNJdGVtU2VhcmNoJywgWyckbG9jYWxTdG9yYWdlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByZWRlZmluZWRTZWFyY2hGaWx0ZXJzJywgZnVuY3Rpb24gKCRsb2NhbFN0b3JhZ2UsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIHByZWRlZmluZWRTZWFyY2hGaWx0ZXJzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uIChlbGVtLCBhdHRycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9kaXJlY3RpdmVzL2l0ZW1TZWFyY2gudHBsLmh0bWwnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBibGFkZTogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKCRzY29wZSkge1xuICAgICAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGxvY2FsU3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9ICRzY29wZS5maWx0ZXIgPSBibGFkZS5maWx0ZXI7XG5cbiAgICAgICAgICAgICAgICBpZiAoJGxvY2FsU3RvcmFnZS5jYXRhbG9nU2VhcmNoRmlsdGVySWQgJiYgIWZpbHRlci5rZXl3b3JkICYmIGZpbHRlci5rZXl3b3JkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5jdXJyZW50ID0gXy5maW5kV2hlcmUoJGxvY2FsU3RvcmFnZS5jYXRhbG9nU2VhcmNoRmlsdGVycywgeyBpZDogJGxvY2FsU3RvcmFnZS5jYXRhbG9nU2VhcmNoRmlsdGVySWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5rZXl3b3JkID0gZmlsdGVyLmN1cnJlbnQgPyBmaWx0ZXIuY3VycmVudC5rZXl3b3JkIDogJyc7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5zZWFyY2hJblZhcmlhdGlvbnMgPSBmaWx0ZXIuY3VycmVudCA/IGZpbHRlci5jdXJyZW50LnNlYXJjaEluVmFyaWF0aW9ucyA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZpbHRlci5jaGFuZ2UgPSBmdW5jdGlvbiAoaXNEZXRhaWxCbGFkZU9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvY2FsU3RvcmFnZS5jYXRhbG9nU2VhcmNoRmlsdGVySWQgPSBmaWx0ZXIuY3VycmVudCA/IGZpbHRlci5jdXJyZW50LmlkIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5jdXJyZW50ICYmICFmaWx0ZXIuY3VycmVudC5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0ZpbHRlckRldGFpbEJsYWRlKHsgaXNOZXc6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRGV0YWlsQmxhZGVPcGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZSh7IGlkOiAnZmlsdGVyRGV0YWlsJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5rZXl3b3JkID0gZmlsdGVyLmN1cnJlbnQgPyBmaWx0ZXIuY3VycmVudC5rZXl3b3JkIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuc2VhcmNoSW5WYXJpYXRpb25zID0gZmlsdGVyLmN1cnJlbnQgPyBmaWx0ZXIuY3VycmVudC5zZWFyY2hJblZhcmlhdGlvbnMgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5jcml0ZXJpYUNoYW5nZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmaWx0ZXIuZWRpdCA9IGZ1bmN0aW9uICgkZXZlbnQsIGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5jdXJyZW50ID0gZW50cnk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJEZXRhaWxCbGFkZSh7IGRhdGE6IGVudHJ5IH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaG93RmlsdGVyRGV0YWlsQmxhZGUoYmxhZGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnZmlsdGVyRGV0YWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuZmlsdGVyRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2ZpbHRlci1kZXRhaWwudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChuZXdCbGFkZSwgYmxhZGVEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpLmRpcmVjdGl2ZSgndmFQcm9wZXJ0eTInLCBbJyRjb21waWxlJywgJyRmaWx0ZXInLCAnJHBhcnNlJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRodHRwJywgZnVuY3Rpb24gKCRjb21waWxlLCAkZmlsdGVyLCAkcGFyc2UsICR0ZW1wbGF0ZUNhY2hlLCAkaHR0cCkge1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgcmVxdWlyZTogWydeZm9ybScsICduZ01vZGVsJ10sXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9kaXJlY3RpdmVzL3Byb3BlcnR5Mi50cGwuaHRtbCcsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBsYW5ndWFnZXM6IFwiPVwiLFxuICAgICAgICAgICAgaGlkZGVuTGFuZ3VhZ2VzOiBcIj1cIixcbiAgICAgICAgICAgIGRlZmF1bHRMYW5ndWFnZTogXCI9XCIsXG4gICAgICAgICAgICBnZXRQcm9wVmFsdWVzOiBcIiZcIixcbiAgICAgICAgICAgIHBhZ2VTaXplOiBcIkA/XCJcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscywgbGlua2VyKSB7XG4gICAgICAgICAgICB2YXIgbmdNb2RlbENvbnRyb2xsZXIgPSBjdHJsc1sxXTtcblxuICAgICAgICAgICAgc2NvcGUuY3VycmVudEVudGl0eSA9IG5nTW9kZWxDb250cm9sbGVyLiRtb2RlbFZhbHVlO1xuXG4gICAgICAgICAgICBzY29wZS5jb250ZXh0ID0ge307XG4gICAgICAgICAgICBzY29wZS5jb250ZXh0LmN1cnJlbnRQcm9wVmFsdWVzID0gW107XG4gICAgICAgICAgICBzY29wZS5jb250ZXh0LmFsbERpY3Rpb25hcnlWYWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIHNjb3BlLmNvbnRleHQubGFuZ1ZhbHVlc01hcCA9IHt9O1xuICAgICAgICAgICAgc2NvcGUuY29udGV4dC5mb3JtID0gY3RybHNbMF07XG5cbiAgICAgICAgICAgIHNjb3BlLnBhZ2VTaXplID0gYW5ndWxhci5pc0RlZmluZWQoc2NvcGUucGFnZVNpemUpID8gc2NvcGUucGFnZVNpemUgOiA1MDtcblxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCdjb250ZXh0LmxhbmdWYWx1ZXNNYXAnLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9IG9sZFZhbHVlICYmICFzY29wZS5jdXJyZW50RW50aXR5LmRpY3Rpb25hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY29udGV4dC5jdXJyZW50UHJvcFZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2NvcGUuY29udGV4dC5sYW5nVmFsdWVzTWFwLCBmdW5jdGlvbiAobGFuZ0dyb3VwLCBsYW5ndWFnZUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChsYW5nR3JvdXAuY3VycmVudFByb3BWYWx1ZXMsIGZ1bmN0aW9uIChwcm9wVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWUubGFuZ3VhZ2VDb2RlID0gbGFuZ3VhZ2VDb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmNvbnRleHQuY3VycmVudFByb3BWYWx1ZXMucHVzaChwcm9wVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goJ2NvbnRleHQuY3VycmVudFByb3BWYWx1ZXMnLCBmdW5jdGlvbiAobmV3VmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgLy9yZWZsZWN0IG9ubHkgcmVhbCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZXMgPSBhbmd1bGFyLmNvcHkoc2NvcGUuY3VycmVudEVudGl0eS52YWx1ZXMpO1xuICAgICAgICAgICAgICAgIGlmIChzY29wZS5jdXJyZW50RW50aXR5LmRpY3Rpb25hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZhbHVlcyA9IF8udW5pcShfLm1hcChjdXJyZW50VmFsdWVzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogeC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlhczogeC5hbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUlkOiB4LnZhbHVlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHguYWxpYXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC52YWx1ZUlkOyB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNWYWx1ZXNEaWZmZXJlbnQobmV3VmFsdWVzLCBjdXJyZW50VmFsdWVzKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWVzWzBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnRFbnRpdHkudmFsdWVzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnRFbnRpdHkudmFsdWVzID0gbmV3VmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgaW5oZXJpdGVkIHN0YXR1cyB0byBmb3JjZSBwcm9wZXJ0eSB2YWx1ZSBvdmVycmlkZVxuICAgICAgICAgICAgICAgICAgICBfLmVhY2goc2NvcGUuY3VycmVudEVudGl0eS52YWx1ZXMsIGZ1bmN0aW9uICh4KSB7IGlmICh4KSB7IHguaXNJbmhlcml0ZWQgPSBmYWxzZTt9OyB9KTtcblxuICAgICAgICAgICAgICAgICAgICBuZ01vZGVsQ29udHJvbGxlci4kc2V0Vmlld1ZhbHVlKHNjb3BlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWVzWzBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY3VycmVudEVudGl0eS52YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0cnVlKTtcblxuXG4gICAgICAgICAgICBuZ01vZGVsQ29udHJvbGxlci4kcmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmN1cnJlbnRFbnRpdHkgPSBuZ01vZGVsQ29udHJvbGxlci4kbW9kZWxWYWx1ZTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLmNvbnRleHQuY3VycmVudFByb3BWYWx1ZXMgPSBhbmd1bGFyLmNvcHkoc2NvcGUuY3VycmVudEVudGl0eS52YWx1ZXMpO1xuICAgICAgICAgICAgICAgIC8vRm9yIGRpY3Rpb25hcnkgbXVsdGlsaW5ndWFsIHByb3BlcnRpZXMgbmVlZCB0byBsZWZ0IG9ubHkgZGlzdGluY3QgZGljdGlvbmFyeSBpdGVtc1xuICAgICAgICAgICAgICAgIGlmIChzY29wZS5jdXJyZW50RW50aXR5LmRpY3Rpb25hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY29udGV4dC5jdXJyZW50UHJvcFZhbHVlcyA9IF8udW5pcShfLm1hcChzY29wZS5jb250ZXh0LmN1cnJlbnRQcm9wVmFsdWVzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogeC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlhczogeC5hbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUlkOiB4LnZhbHVlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHguYWxpYXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC52YWx1ZUlkOyB9KTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmVlZEFkZEVtcHR5VmFsdWUoc2NvcGUuY3VycmVudEVudGl0eSwgc2NvcGUuY29udGV4dC5jdXJyZW50UHJvcFZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuY29udGV4dC5jdXJyZW50UHJvcFZhbHVlcy5wdXNoKHsgdmFsdWU6IG51bGwgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaW5pdExhbmd1YWdlc1ZhbHVlc01hcCgpO1xuXG4gICAgICAgICAgICAgICAgY2hhZ2VWYWx1ZVRlbXBsYXRlKHNjb3BlLmN1cnJlbnRFbnRpdHkudmFsdWVUeXBlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGlzVmFsdWVzRGlmZmVyZW50KG5ld1ZhbHVlcywgY3VycmVudFZhbHVlcykge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50Q291bnRJc0RpZmZlcmVudCA9IG5ld1ZhbHVlcy5sZW5ndGggIT0gY3VycmVudFZhbHVlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRzTm90RXF1YWwgPSBfLmFueShuZXdWYWx1ZXMsIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXy5hbGwoY3VycmVudFZhbHVlcywgZnVuY3Rpb24gKGN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEobmV3VmFsdWUgJiYgY3VycmVudFZhbHVlLnZhbHVlID09PSBuZXdWYWx1ZS52YWx1ZSAmJiBjdXJyZW50VmFsdWUubGFuZ3VhZ2VDb2RlID09IG5ld1ZhbHVlLmxhbmd1YWdlQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChlbGVtZW50Q291bnRJc0RpZmZlcmVudCB8fCBlbGVtZW50c05vdEVxdWFsKSAmJlxuICAgICAgICAgICAgICAgICAgICAoXy5hbnkoY3VycmVudFZhbHVlcykgfHwgKG5ld1ZhbHVlc1swXSAmJiBuZXdWYWx1ZXNbMF0udmFsdWUpKTsgLy9QcmV2ZW50IHJlZmxlY3RpbmcgdGhlIGNoYW5nZSB3aGVuIG51bGwgdmFsdWUgd2FzIGFkZGVkIHRvIGVtcHR5IGluaXRpYWwgdmFsdWVzXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBuZWVkQWRkRW1wdHlWYWx1ZShwcm9wZXJ0eSwgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFwcm9wZXJ0eS5tdWx0aXZhbHVlICYmICFwcm9wZXJ0eS5kaWN0aW9uYXJ5ICYmIHZhbHVlcy5sZW5ndGggPT0gMDtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgZnVuY3Rpb24gaW5pdExhbmd1YWdlc1ZhbHVlc01hcCgpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuY3VycmVudEVudGl0eS5tdWx0aWxhbmd1YWdlICYmICFzY29wZS5jdXJyZW50RW50aXR5LmRpY3Rpb25hcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9Hcm91cCB2YWx1ZXMgYnkgbGFuZ3VhZ2UgXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzY29wZS5sYW5ndWFnZXMsIGZ1bmN0aW9uIChsYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9DdXJyZW50bHkgc2VsZWN0IHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQcm9wVmFsdWVzID0gXy53aGVyZShzY29wZS5jb250ZXh0LmN1cnJlbnRQcm9wVmFsdWVzLCB7IGxhbmd1YWdlQ29kZTogbGFuZ3VhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm92aWRlIGRlZmF1bHQgdmFsdWUgaWYgdmFsdWUgd2Fzbid0IGZvdW5kIGluIHNwZWNpZmllZCBsYW5ndWFnZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghXy5hbnkoY3VycmVudFByb3BWYWx1ZXMpICYmIF8uYW55KHNjb3BlLmNvbnRleHQuY3VycmVudFByb3BWYWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BWYWx1ZXMgPSBhbmd1bGFyLmNvcHkoXy5maWx0ZXIoc2NvcGUuY29udGV4dC5jdXJyZW50UHJvcFZhbHVlcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuICF4Lmxhbmd1YWdlQ29kZSB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGN1cnJlbnRQcm9wVmFsdWVzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4LmlkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeC5sYW5ndWFnZUNvZGUgPSBsYW5ndWFnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCBhZGQgZW1wdHkgdmFsdWUgZm9yIHNpbmdsZSAgdmFsdWUgdHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRBZGRFbXB0eVZhbHVlKHNjb3BlLmN1cnJlbnRFbnRpdHksIGN1cnJlbnRQcm9wVmFsdWVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wVmFsdWVzLnB1c2goeyB2YWx1ZTogbnVsbCwgbGFuZ3VhZ2VDb2RlOiBsYW5ndWFnZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vQWxsIHBvc3NpYmxlIGRpY3QgdmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWxsVmFsdWVzID0gXy53aGVyZShzY29wZS5jb250ZXh0LmFsbERpY3Rpb25hcnlWYWx1ZXMsIHsgbGFuZ3VhZ2VDb2RlOiBsYW5ndWFnZSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmdWYWx1ZXNHcm91cCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxWYWx1ZXM6IGFsbFZhbHVlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcFZhbHVlczogY3VycmVudFByb3BWYWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jb250ZXh0LmxhbmdWYWx1ZXNNYXBbbGFuZ3VhZ2VdID0gbGFuZ1ZhbHVlc0dyb3VwO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS5pc0xhbmd1YWdlVmlzaWJsZSA9IGZ1bmN0aW9uIChsYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIGlmIChzY29wZS5oaWRkZW5MYW5ndWFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF8uY29udGFpbnMoc2NvcGUuaGlkZGVuTGFuZ3VhZ2VzLCBsYW5ndWFnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY29wZS5sb2FkRGljdGlvbmFyeVZhbHVlcyA9IGZ1bmN0aW9uICgkc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgJHNlbGVjdC5wYWdlID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUubG9hZE5leHREaWN0aW9uYXJ5VmFsdWVzKCRzZWxlY3QpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUubG9hZE5leHREaWN0aW9uYXJ5VmFsdWVzID0gZnVuY3Rpb24gKCRzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRUb1NraXAgPSAkc2VsZWN0LnBhZ2UgKiBzY29wZS5wYWdlU2l6ZTtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRUb1Rha2UgPSBzY29wZS5wYWdlU2l6ZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS5nZXRQcm9wVmFsdWVzKCkoc2NvcGUuY3VycmVudEVudGl0eS5pZCwgJHNlbGVjdC5zZWFyY2gsIGNvdW50VG9Ta2lwLCBjb3VudFRvVGFrZSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJHNlbGVjdC5wYWdlKSBzY29wZS5jb250ZXh0LmFsbERpY3Rpb25hcnlWYWx1ZXMgPSBbXTsgXG4gICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlRGljdGlvbmFyeVZhbHVlcyhyZXN1bHQucmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgICAgICRzZWxlY3QucGFnZSsrO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBtb3JlIGl0ZW1zIHRvIGRpc3BsYXksIGxldCdzIHByZXBhcmUgdG8gaGFuZGxlIHRoZXNlIGl0ZW1zLlxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUuY29udGV4dC5hbGxEaWN0aW9uYXJ5VmFsdWVzLmxlbmd0aCA8IHJlc3VsdC50b3RhbENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBzY3JvbGxpbmcgZm9yIHRoZSB3aGVuLXNjcm9sbGVkIGRpcmVjdGl2ZSwgc28gaXQgY291bGQgdHJpZ2dlciB0aGlzIG1ldGhvZCBmb3IgbmV4dCBwYWdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnc2Nyb2xsQ29tcGxldGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwb3B1bGF0ZURpY3Rpb25hcnlWYWx1ZXMoZGljdEl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRpY3RJdGVtcywgZnVuY3Rpb24gKGRpY3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaWN0VmFsdWUgPSBfLmZpbmQoc2NvcGUuY29udGV4dC5jdXJyZW50UHJvcFZhbHVlcywgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4ICYmICh4LnZhbHVlSWQgPT0gZGljdEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkaWN0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3RWYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlhczogZGljdEl0ZW0uYWxpYXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVJZDogZGljdEl0ZW0uaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRpY3RJdGVtLmFsaWFzXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmNvbnRleHQuYWxsRGljdGlvbmFyeVZhbHVlcy5wdXNoKGRpY3RWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlTmFtZShwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBwcm9wZXJ0eS52YWx1ZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuZGljdGlvbmFyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJy1kaWN0aW9uYXJ5JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5Lm11bHRpdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICctbXVsdGl2YWx1ZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5tdWx0aWxhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnLW11bHRpbGFuZyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnLmh0bWwnO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGFnZVZhbHVlVGVtcGxhdGUodmFsdWVUeXBlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlTmFtZSA9IGdldFRlbXBsYXRlTmFtZShzY29wZS5jdXJyZW50RW50aXR5KTtcblxuXG4gICAgICAgICAgICAgICAgLy9sb2FkIGlucHV0IHRlbXBsYXRlIGFuZCBkaXNwbGF5XG4gICAgICAgICAgICAgICAgJGh0dHAuZ2V0KHRlbXBsYXRlTmFtZSwgeyBjYWNoZTogJHRlbXBsYXRlQ2FjaGUgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAvL05lZWQgdG8gYWRkIG5nRm9ybSB0byBpc29sYXRlIGZvcm0gdmFsaWRhdGlvbiBpbnRvIHN1YiBmb3JtXG4gICAgICAgICAgICAgICAgICAgIC8vdmFyIGlubmVyQ29udGFpbmVyID0gXCI8ZGl2IGlkPSdpbm5lckNvbnRhaW5lcicgLz5cIjtcblxuICAgICAgICAgICAgICAgICAgICAvL1dlIG11c3QgZGVzdHJveSBzY29wZSBvZiBlbGVtZW50cyB3ZSBhcmUgcmVtb3ZpbmcgZnJvbSBET00gdG8gYXZvaWQgYW5ndWxhciBmaXJpbmcgZXZlbnRzXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IGVsZW1lbnQuZmluZCgnI3ZhbHVlUGxhY2VIb2xkZXIgI2lubmVyQ29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5zY29wZSgpLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQuZmluZCgnI3ZhbHVlUGxhY2VIb2xkZXInKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnRhaW5lci5odG1sKHJlc3VsdHMuZGF0YS50cmltKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vQ3JlYXRlIG5ldyBzY29wZSwgb3RoZXJ3aXNlIHdlIHdvdWxkIGRlc3Ryb3kgb3VyIGRpcmVjdGl2ZSBzY29wZVxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7XG4gICAgICAgICAgICAgICAgICAgICRjb21waWxlKHJlc3VsdCkobmV3U2NvcGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyogRGF0ZXBpY2tlciAqL1xuICAgICAgICAgICAgc2NvcGUuZGF0ZXBpY2tlcnMgPSB7XG4gICAgICAgICAgICAgICAgRGF0ZVRpbWU6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBzY29wZS5kYXRlcGlja2Vyc1t3aGljaF0gPSB0cnVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgZGF0ZXBpY2tlck1vZGU6ICdkYXknXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsaW5rZXIoZnVuY3Rpb24gKGNsb25lKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFZhbGlkKG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9ybSA9IHNjb3BlLmNvbnRleHQuZm9ybTtcbiAgICAgICAgICAgICAgICBmb3JtW25hbWVdLiRzZXRWYWxpZGl0eSgnbWlubGVuZ3RoJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZm9ybVtuYW1lXS4kc2V0VmFsaWRpdHkoJ21heGxlbmd0aCcsIHRydWUpO1xuICAgICAgICAgICAgICAgIGZvcm1bbmFtZV0uJHNldFZhbGlkaXR5KCdwYXR0ZXJuJywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlLnRhZ3NEZWxldGVkID0gZnVuY3Rpb24gKHRhZywgbmFtZSwgcmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9ybSA9IHNjb3BlLmNvbnRleHQuZm9ybTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gc2NvcGUuY29udGV4dC5jdXJyZW50UHJvcFZhbHVlcztcbiAgICAgICAgICAgICAgICBpZiAocmVxdWlyZWQgJiYgdmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtW25hbWVdLiRzZXRWYWxpZGl0eSgncmVxdWlyZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2V0VmFsaWQobmFtZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBzY29wZS50YWdzQWRkZWQgPSBmdW5jdGlvbiAodGFnLCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvcm0gPSBzY29wZS5jb250ZXh0LmZvcm07XG4gICAgICAgICAgICAgICAgaWYgKHRhZy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtW25hbWVdLiRzZXRWYWxpZGl0eSgncmVxdWlyZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZXRWYWxpZChuYW1lKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjb3BlLmFkZGVkZXJyb3IgPSBmdW5jdGlvbiAodGFnLCBuYW1lLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICB2YXIgZm9ybSA9IHNjb3BlLmNvbnRleHQuZm9ybTtcbiAgICAgICAgICAgICAgICBpZiAobWluVmFsdWUgJiYgdGFnLnZhbHVlLmxlbmd0aCA8IG1pblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1bbmFtZV0uJHNldFZhbGlkaXR5KCdtaW5sZW5ndGgnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1heFZhbHVlICYmIHRhZy52YWx1ZS5sZW5ndGggPiBtYXhWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3JtW25hbWVdLiRzZXRWYWxpZGl0eSgnbWF4bGVuZ3RoJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZSA9IG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmUudGVzdCh0YWcudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtW25hbWVdLiRzZXRWYWxpZGl0eSgncGF0dGVybicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5kaXJlY3RpdmUoJ3ZhUHJvcGVydHlNZXNzYWdlcycsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvZGlyZWN0aXZlcy9wcm9wZXJ0eU1lc3NhZ2VzLnRwbC5odG1sJyxcbiAgICAgICAgc2NvcGU6IGZhbHNlXG4gICAgfVxufSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmZpbHRlcigndGh1bWJuYWlsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGltYWdlVXJsLCBwcmVmaXgpIHtcbiAgICAgICAgICAgIGltYWdlVXJsID0gaW1hZ2VVcmwucmVwbGFjZSgvKFxcLltcXHdcXGRfLV0rKSQvaSwgcHJlZml4ICsgJyQxJyk7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VVcmw7ICAgICAgICAgXG4gICAgICAgIH07XG4gICAgfSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuZmlsdGVyKCd0cnVzdFVybCcsIFsnJHNjZScsIGZ1bmN0aW9uICgkc2NlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh1cmwpO1xuICAgICAgICB9O1xuICAgIH1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hZ2dyZWdhdGlvblByb3BlcnRpZXMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICByZXR1cm4gJHJlc291cmNlKCcnLCB7fSwge1xuICAgICAgICBnZXRQcm9wZXJ0aWVzOiB7IHVybDogJ2FwaS9jYXRhbG9nL2FnZ3JlZ2F0aW9ucHJvcGVydGllcy86c3RvcmVJZC9wcm9wZXJ0aWVzJywgaXNBcnJheTogdHJ1ZSB9LFxuICAgICAgICBzZXRQcm9wZXJ0aWVzOiB7IHVybDogJ2FwaS9jYXRhbG9nL2FnZ3JlZ2F0aW9ucHJvcGVydGllcy86c3RvcmVJZC9wcm9wZXJ0aWVzJywgbWV0aG9kOiAnUFVUJyB9LFxuICAgICAgICBnZXRWYWx1ZXM6IHsgdXJsOiAnYXBpL2NhdGFsb2cvYWdncmVnYXRpb25wcm9wZXJ0aWVzLzpzdG9yZUlkL3Byb3BlcnRpZXMvOnByb3BlcnR5TmFtZS92YWx1ZXMnLCBpc0FycmF5OiB0cnVlIH1cbiAgICB9KTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYXNzb2NpYXRpb25zJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9jYXRhbG9nL3Byb2R1Y3RzL2Fzc29jaWF0aW9ucy86cHJvZHVjdElkJywgbnVsbCwge1xuICAgICAgICAgICAgZ2V0OiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcbiAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2NhdGFsb2cvcHJvZHVjdHMvYXNzb2NpYXRpb25zJyB9LFxuICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIHVybDogJ2FwaS9jYXRhbG9nL3Byb2R1Y3RzL2Fzc29jaWF0aW9ucycgfSxcbiAgICAgICAgICAgIHNlYXJjaDogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2NhdGFsb2cvcHJvZHVjdHMvYXNzb2NpYXRpb25zL3NlYXJjaCcgfVxuICAgICAgICB9KTtcbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcblxuICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9jYXRhbG9nL2NhdGFsb2dzLzppZCcsIHsgaWQ6ICdASWQnIH0sIHtcbiAgICAgICAgZ2V0OiB7IG1ldGhvZDogJ0dFVCcgfSxcbiAgICAgICAgZ2V0Q2F0YWxvZ3M6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxuICAgICAgICBzZWFyY2g6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogJ2FwaS9jYXRhbG9nL2NhdGFsb2dzL3NlYXJjaCd9LFxuICAgICAgICBuZXdDYXRhbG9nOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS9jYXRhbG9nL2NhdGFsb2dzL2dldG5ldycgfSxcbiAgICAgICAgbmV3VmlydHVhbENhdGFsb2c6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiAnYXBpL2NhdGFsb2cvY2F0YWxvZ3MvZ2V0bmV3dmlydHVhbCcgfSxcbiAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcgfSxcbiAgICAgICAgLy9nZXRDYXRhbG9nTGFuZ3VhZ2VzOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS9jYXRhbG9nL2NhdGFsb2dzLzppZC9sYW5ndWFnZXMnLCBpc0FycmF5OiB0cnVlIH0sXG4gICAgICAgIC8vdXBkYXRlQ2F0YWxvZ0xhbmd1YWdlczogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2NhdGFsb2cvY2F0YWxvZ3MvOmNhdGFsb2dJZC9sYW5ndWFnZXMnIH0sXG4gICAgfSk7XG59XSk7XG5cbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yaWVzJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG5cbiAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvY2F0YWxvZy9jYXRlZ29yaWVzLzppZCcsIHsgY2F0ZWdvcnlJZDogJ0BJZCcgfSwge1xuICAgICAgICBuZXdDYXRlZ29yeTogeyBtZXRob2Q6ICdHRVQnLCB1cmw6ICdhcGkvY2F0YWxvZy86Y2F0YWxvZ0lkL2NhdGVnb3JpZXMvbmV3Y2F0ZWdvcnknLCBwYXJhbXM6IHsgY2F0YWxvZ0lkOiAnQGNhdGFsb2dJZCcgfSB9LFxuICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogJ2FwaS9jYXRhbG9nL2NhdGVnb3JpZXMvJyB9LFxuICAgICAgICByZW1vdmU6IHsgbWV0aG9kOiAnREVMRVRFJywgdXJsOiAnYXBpL2NhdGFsb2cvY2F0ZWdvcmllcycgfSxcbiAgICAgICAgcGxlbnR5OiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvY2F0YWxvZy9jYXRlZ29yaWVzL3BsZW50eScsIGlzQXJyYXk6IHRydWUgfSxcbiAgICAgICAgZ2V0QnlJZHM6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiAnYXBpL2NhdGFsb2cvY2F0ZWdvcmllcycsIHBhcmFtczogeyBpZHM6ICdAaWRzJyB9LCBpc0FycmF5OiB0cnVlIH1cbiAgICB9KTtcblxufV0pO1xuXG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaW1wb3J0JywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG5cblx0cmV0dXJuICRyZXNvdXJjZSgnYXBpL2NhdGFsb2cvaW1wb3J0Jywge30sIHtcblx0XHRnZXRNYXBwaW5nQ29uZmlndXJhdGlvbjogeyBtZXRob2Q6ICdHRVQnLCB1cmw6ICdhcGkvY2F0YWxvZy9pbXBvcnQvbWFwcGluZ2NvbmZpZ3VyYXRpb24nLCBpc0FycmF5OiBmYWxzZSB9LFxuXHRcdHJ1bjogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2NhdGFsb2cvaW1wb3J0JywgaXNBcnJheTogZmFsc2UgfVxuXHR9KTtcblxufV0pO1xuXG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbXMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvY2F0YWxvZy9wcm9kdWN0cy86aWQnLCBudWxsLCB7XG4gICAgICAgIHJlbW92ZTogeyBtZXRob2Q6ICdERUxFVEUnLCB1cmw6ICdhcGkvY2F0YWxvZy9wcm9kdWN0cycgfSxcbiAgICAgICAgbmV3SXRlbUluQ2F0YWxvZzogeyBtZXRob2Q6ICdHRVQnLCB1cmw6ICdhcGkvY2F0YWxvZy86Y2F0YWxvZ0lkL3Byb2R1Y3RzL2dldG5ldycgfSxcbiAgICAgICAgbmV3SXRlbUluQ2F0ZWdvcnk6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiAnYXBpL2NhdGFsb2cvOmNhdGFsb2dJZC9jYXRlZ29yaWVzLzpjYXRlZ29yeUlkL3Byb2R1Y3RzL2dldG5ldycgfSxcbiAgICAgICAgbmV3VmFyaWF0aW9uOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS9jYXRhbG9nL3Byb2R1Y3RzLzppdGVtSWQvZ2V0bmV3dmFyaWF0aW9uJyB9LFxuICAgICAgICBjbG9uZUl0ZW06IHsgbWV0aG9kOiAnR0VUJywgdXJsOiAnYXBpL2NhdGFsb2cvcHJvZHVjdHMvOml0ZW1JZC9jbG9uZScgfSxcbiAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BPU1QnIH0sXG4gICAgICAgIHBsZW50eTogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2NhdGFsb2cvcHJvZHVjdHMvcGxlbnR5JywgaXNBcnJheTogdHJ1ZSB9LFxuICAgICAgICBnZXRCeUlkczogeyBtZXRob2Q6ICdHRVQnLCB1cmw6ICdhcGkvY2F0YWxvZy9wcm9kdWN0cy8nLCBwYXJhbXM6IHsgaWRzOiAnQGlkcycgfSwgaXNBcnJheTogdHJ1ZSB9XG4gICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUubGlzdEVudHJpZXMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvY2F0YWxvZy9saXN0ZW50cmllcycsIHt9LFxuICAgIHtcbiAgICAgICAgbGlzdGl0ZW1zc2VhcmNoOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvY2F0YWxvZy9saXN0ZW50cmllcycgfSxcbiAgICAgICAgY3JlYXRlbGlua3M6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogJ2FwaS9jYXRhbG9nL2xpc3RlbnRyeWxpbmtzJyB9LFxuICAgICAgICBidWxrY3JlYXRlbGlua3M6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogJ2FwaS9jYXRhbG9nL2xpc3RlbnRyeWxpbmtzL2J1bGtjcmVhdGUnIH0sXG4gICAgICAgIHNlYXJjaGxpbmtzOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvY2F0YWxvZy9saXN0ZW50cnlsaW5rcy9zZWFyY2gnIH0sXG4gICAgICAgIGRlbGV0ZWxpbmtzOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvY2F0YWxvZy9saXN0ZW50cnlsaW5rcy9kZWxldGUnIH0sXG4gICAgICAgIG1vdmU6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogJ2FwaS9jYXRhbG9nL2xpc3RlbnRyaWVzL21vdmUnIH0sXG4gICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2NhdGFsb2cvbGlzdGVudHJpZXMvZGVsZXRlJyB9XG4gICAgfSk7XG59XSk7XG5cbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wRGljdEl0ZW1zJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL2NhdGFsb2cvZGljdGlvbmFyeWl0ZW1zJywge30sIHtcdFx0XG4gICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogJ2FwaS9jYXRhbG9nL2RpY3Rpb25hcnlpdGVtcycgfSxcbiAgICAgICAgc2VhcmNoOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvY2F0YWxvZy9kaWN0aW9uYXJ5aXRlbXMvc2VhcmNoJyB9LFxuICAgICAgICByZW1vdmU6IHsgbWV0aG9kOiAnREVMRVRFJywgdXJsOiAnYXBpL2NhdGFsb2cvZGljdGlvbmFyeWl0ZW1zJyB9XG4gICAgfSk7XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxyXG4uZmFjdG9yeSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnRpZXMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuXHJcbiAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvY2F0YWxvZy9wcm9wZXJ0aWVzLzppZCcsIHsgaWQ6ICdAaWQnIH0sIHtcclxuICAgICAgICBuZXdDYXRlZ29yeVByb3BlcnR5OiB7IG1ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS9jYXRhbG9nL2NhdGVnb3JpZXMvOmNhdGVnb3J5SWQvcHJvcGVydGllcy9nZXRuZXcnIH0sXHJcbiAgICAgICAgbmV3Q2F0YWxvZ1Byb3BlcnR5OiB7IG1ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS9jYXRhbG9nLzpjYXRhbG9nSWQvcHJvcGVydGllcy9nZXRuZXcnIH0sXHJcbiAgICAgICAgZ2V0OiB7IG1ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS9jYXRhbG9nL3Byb3BlcnRpZXMvOnByb3BlcnR5SWQnIH0sXHJcbiAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvY2F0YWxvZy9wcm9wZXJ0aWVzJyB9LFxyXG4gICAgICAgIHZhbGlkYXRlTmFtZTogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2NhdGFsb2cvcHJvcGVydGllcy92YWxpZGF0ZS1uYW1lJyB9LFxyXG4gICAgICAgIHZhbGlkYXRlQ2F0ZWdvcnlQcm9wZXJ0eU5hbWU6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogJ2FwaS9jYXRhbG9nL3Byb3BlcnRpZXMvdmFsaWRhdGUtcHJvcGVydHktbmFtZScgfSxcclxuICAgICAgICB2YWx1ZXM6IHsgdXJsOiAnYXBpL2NhdGFsb2cvcHJvcGVydGllcy86cHJvcGVydHlJZC92YWx1ZXMnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgcmVtb3ZlOiB7IG1ldGhvZDogJ0RFTEVURScsIHVybDogJ2FwaS9jYXRhbG9nL3Byb3BlcnRpZXMnIH1cclxuICAgIH0pO1xyXG5cclxufV0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuZmFjdG9yeSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnR5VmFsaWRhdG9ycycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5hbWVQYXR0ZXJuID0gL15cXGJbMC05YS16XSsoX1swLTlhLXpdKykqXFxiJC9pO1xuICAgICAgICB2YXIgbWF4TGVuZ2h0ID0gMTI4O1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzTmFtZVZhbGlkKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUubGVuZ3RoIDw9IG1heExlbmdodCAmJiBuYW1lUGF0dGVybi50ZXN0KHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc05hbWVWYWxpZDogaXNOYW1lVmFsaWRcbiAgICAgICAgfTtcbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuc2VhcmNoJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9jYXRhbG9nL2xpc3RlbnRyaWVzJywgbnVsbCwge1xuICAgICAgICAgICAgc2VhcmNoUHJvZHVjdHM6IHsgbWV0aG9kOiAnUE9TVCcgfSxcbiAgICAgICAgfSk7XG4gICAgfV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS52YWx1ZVR5cGVzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiU2hvcnRUZXh0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJwbGF0Zm9ybS5wcm9wZXJ0aWVzLnNob3J0LXRleHQudGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcInBsYXRmb3JtLnByb3BlcnRpZXMuc2hvcnQtdGV4dC5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJMb25nVGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwicGxhdGZvcm0ucHJvcGVydGllcy5sb25nLXRleHQudGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcInBsYXRmb3JtLnByb3BlcnRpZXMubG9uZy10ZXh0LmRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIk51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwicGxhdGZvcm0ucHJvcGVydGllcy5kZWNpbWFsLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJwbGF0Zm9ybS5wcm9wZXJ0aWVzLmRlY2ltYWwuZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiRGF0ZVRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcInBsYXRmb3JtLnByb3BlcnRpZXMuZGF0ZS10aW1lLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJwbGF0Zm9ybS5wcm9wZXJ0aWVzLmRhdGUtdGltZS5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJCb29sZWFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJwbGF0Zm9ybS5wcm9wZXJ0aWVzLmJvb2xlYW4udGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcInBsYXRmb3JtLnByb3BlcnRpZXMuYm9vbGVhbi5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJJbnRlZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJwbGF0Zm9ybS5wcm9wZXJ0aWVzLmludGVnZXIudGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcInBsYXRmb3JtLnByb3BlcnRpZXMuaW50ZWdlci5kZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJHZW9Qb2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy5wcm9wZXJ0aWVzLmdlb1BvaW50LnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJjYXRhbG9nLnByb3BlcnRpZXMuZ2VvUG9pbnQuZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5mYWN0b3J5KCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUudmlkZW9zJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9jYXRhbG9nL3ZpZGVvcycsIHt9LCB7XG4gICAgICAgICAgICBvcHRpb25zOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS9jYXRhbG9nL3ZpZGVvcy9vcHRpb25zJyB9LFxuICAgICAgICAgICAgY3JlYXRlOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvY2F0YWxvZy92aWRlb3MvY3JlYXRlJyAgfSxcbiAgICAgICAgICAgIHNlYXJjaDogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2NhdGFsb2cvdmlkZW9zL3NlYXJjaCcgfSxcbiAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGlzQXJyYXk6IHRydWUgfSxcbiAgICAgICAgICAgIHJlbW92ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBpc0FycmF5OiB0cnVlIH1cbiAgICAgICAgfSk7XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ0J1bGtBY3Rpb25zTW9kdWxlJylcbiAgICAuZmFjdG9yeSgndmlydG9Db21tZXJjZS5jYXRhbG9nQnVsa0FjdGlvbnNNb2R1bGUud2ViQXBpJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgICAgIHZhciBiYXNlVXJsID0gJ2FwaS9idWxrL2FjdGlvbnMnO1xuICAgICAgICByZXR1cm4gJHJlc291cmNlKCcnLCBudWxsLCB7XG4gICAgICAgICAgICBnZXRBY3Rpb25zOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogYmFzZVVybCB9LFxuICAgICAgICAgICAgZ2V0QWN0aW9uRGF0YTogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiBiYXNlVXJsICsgJy9kYXRhJyB9LFxuICAgICAgICAgICAgcnVuQnVsa0FjdGlvbjogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiBiYXNlVXJsIH0sXG4gICAgICAgICAgICBjYW5jZWw6IHsgbWV0aG9kOiAnREVMRVRFJywgdXJsOiBiYXNlVXJsIH1cbiAgICAgICAgfSk7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dTZWxlY3RvckNvbnRyb2xsZXInLCBbJyRzY29wZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ3MnLCBmdW5jdGlvbiAoJHNjb3BlLCBjYXRhbG9ncykge1xuICAgICAgICAvL1RvRG86IEFwcGx5IEluZmluaXRlIHNjcm9sbGluZ1xuICAgICAgICBjYXRhbG9ncy5zZWFyY2goeyB0YWtlOiAxMDAwIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAkc2NvcGUuY2F0YWxvZ3MgPSBhbmd1bGFyLmNvcHkoZGF0YS5yZXN1bHRzKTtcbiAgICAgICAgfSk7XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yeVNlbGVjdG9yQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRDb3VudCA9IChibGFkZS5jdXJyZW50RW50aXR5LmNhdGVnb3J5SWRzIHx8IFtdKS5sZW5ndGg7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUuY3VycmVudEVudGl0eS5jYXRlZ29yeUlkcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZENvdW50ID0gKGJsYWRlLmN1cnJlbnRFbnRpdHkuY2F0ZWdvcnlJZHMgfHwgW10pLmxlbmd0aDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLnNlbGVjdENhdGVnb3J5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGJsYWRlLmN1cnJlbnRFbnRpdHkuY2F0ZWdvcnlJZHMgfHwgW107XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBhbGxvd0NoZWNraW5nQ2F0ZWdvcnk6IHRydWUsXG4gICAgICAgICAgICAgICAgYWxsb3dDaGVja2luZ0l0ZW06IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbUlkczogc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIGNoZWNrSXRlbUZuOiBmdW5jdGlvbiAobGlzdEl0ZW0sIGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghXy5maW5kKHNlbGVjdGlvbiwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IGxpc3RJdGVtLmlkOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5wdXNoKGxpc3RJdGVtLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbiA9IF8ucmVqZWN0KHNlbGVjdGlvbiwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggPT09IGxpc3RJdGVtLmlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IFwiQ2F0YWxvZ0l0ZW1zU2VsZWN0XCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nSXRlbVNlbGVjdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvY29tbW9uL2NhdGFsb2ctaXRlbXMtc2VsZWN0LnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ2NhdGFsb2cuc2VsZWN0b3JzLmJsYWRlcy50aXRsZXMuc2VsZWN0LWNhdGVnb3JpZXMnLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgYnJlYWRjcnVtYnM6IFtdLFxuICAgICAgICAgICAgICAgIHRvb2xiYXJDb21tYW5kczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmNvbmZpcm1cIiwgaWNvbjogJ2ZhIGZhLWNoZWNrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uIChwaWNraW5nQmxhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmNhdGVnb3J5SWRzID0gXy51bmlvbihibGFkZS5jdXJyZW50RW50aXR5LmNhdGVnb3J5SWRzLCBzZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZENvdW50ID0gYmxhZGUuY3VycmVudEVudGl0eS5jYXRlZ29yeUlkcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKHBpY2tpbmdCbGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmFueShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlc2V0XCIsIGljb246ICdmYSBmYS11bmRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uIChwaWNraW5nQmxhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmNhdGVnb3J5SWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkQ291bnQgPSBibGFkZS5jdXJyZW50RW50aXR5LmNhdGVnb3J5SWRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQmxhZGUocGlja2luZ0JsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uYW55KHNlbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgfVxuICAgIH1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5hZ2dyZWdhdGlvblByb3BlcnRpZXNXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICBpZDogXCJzdG9yZUZpbHRlcmluZ1Byb3BlcnRpZXNcIixcbiAgICAgICAgICAgIHN0b3JlSWQ6IGJsYWRlLmN1cnJlbnRFbnRpdHkuaWQsXG4gICAgICAgICAgICB0aXRsZTogJ0ZpbHRlcmluZyBwcm9wZXJ0aWVzJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYWdncmVnYXRpb25Qcm9wZXJ0aWVzQ29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2FnZ3JlZ2F0aW9uLXByb3BlcnRpZXMtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICB9O1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5iaWxsT2ZNYXRlcmlhbHNXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICBpZDogXCJiaWxsT2ZNYXRlcmlhbHNMaXN0XCIsXG4gICAgICAgICAgICBpdGVtOiBibGFkZS5pdGVtLCAgICAgICAgICAgICAgXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmJpbGxPZk1hdGVyaWFsc0xpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvYmlsbC1vZi1tYXRlcmlhbHMtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICB9O1xufV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nRW50cnlJbWFnZVdpZGdldENvbnRyb2xsZXInLFxuICAgIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtcycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcmllcycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nSW1hZ2VzRm9sZGVyUGF0aEhlbHBlcicsXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsIGl0ZW1zLCBjYXRlZ29yaWVzLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBjYXRhbG9nSW1nSGVscGVyKSB7XG5cbiAgICAgICAgJHNjb3BlLm9wZW5CbGFkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBibGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogXCJpdGVtSW1hZ2VcIixcbiAgICAgICAgICAgICAgICBpdGVtOiAkc2NvcGUuYmxhZGUuY3VycmVudEVudGl0eSxcbiAgICAgICAgICAgICAgICBmb2xkZXJQYXRoOiBjYXRhbG9nSW1nSGVscGVyLmdldEltYWdlc0ZvbGRlclBhdGgoJHNjb3BlLmJsYWRlLmN1cnJlbnRFbnRpdHkuY2F0YWxvZ0lkLCAkc2NvcGUuYmxhZGUuY3VycmVudEVudGl0eS5jb2RlKSxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmltYWdlc0NvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaW1hZ2VzLnRwbC5odG1sJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKGJsYWRlLCAkc2NvcGUuYmxhZGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldEN1cnJlbnRFbnRpdGllcyhpbWFnZXMpIHtcbiAgICAgICAgICAgIGlmIChpbWFnZXMpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3VycmVudEVudGl0aWVzID0gaW1hZ2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICRzY29wZS4kd2F0Y2goJ2JsYWRlLml0ZW0uaW1hZ2VzJywgc2V0Q3VycmVudEVudGl0aWVzKTtcbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUuY3VycmVudEVudGl0eS5pbWFnZXMnLCBzZXRDdXJyZW50RW50aXRpZXMpO1xuICAgIH1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nTGFuZ3VhZ2VzV2lkZ2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgJHNjb3BlLm9wZW5CbGFkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgaWQ6IFwiY2F0YWxvZ0NoaWxkQmxhZGVcIixcbiAgICAgICAgICAgIHRpdGxlOiBibGFkZS50aXRsZSxcbiAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy53aWRnZXRzLmNhdGFsb2dMYW5ndWFnZXMuYmxhZGUtc3VidGl0bGUnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nTGFuZ3VhZ2VzQ29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2NhdGFsb2ctbGFuZ3VhZ2VzLnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgIH07XG59XSk7Iiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGFsb2dQcm9wZXJ0eVdpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuXHR2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cblx0JHNjb3BlLm9wZW5DYXRhbG9nUHJvcGVydHlCbGFkZSA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgbmV3QmxhZGUgPSB7XG5cdFx0XHRpZDogXCJjYXRhbG9nUHJvcGVydHlEZXRhaWxcIixcblx0XHRcdGN1cnJlbnRFbnRpdHk6IGJsYWRlLmN1cnJlbnRFbnRpdHksXG5cdFx0XHRsYW5ndWFnZXM6IF8ucGx1Y2soYmxhZGUuY3VycmVudEVudGl0eS5sYW5ndWFnZXMsICdsYW5ndWFnZUNvZGUnKSxcblx0XHRcdGRlZmF1bHRMYW5ndWFnZTogYmxhZGUuY3VycmVudEVudGl0eS5kZWZhdWx0TGFuZ3VhZ2UubGFuZ3VhZ2VDb2RlLFxuXHRcdFx0ZW50aXR5VHlwZTogXCJjYXRhbG9nXCIsXG5cdFx0XHRjYXRhbG9nSWQ6IGJsYWRlLmN1cnJlbnRFbnRpdHkuaWQsXG5cdFx0XHRwcm9wR3JvdXBzOiBbeyB0aXRsZTogJ2NhdGFsb2cucHJvcGVydGllcy5jYXRhbG9nJywgdHlwZTogJ0NhdGFsb2cnIH0sIHsgdGl0bGU6ICdjYXRhbG9nLnByb3BlcnRpZXMuY2F0ZWdvcnknLCB0eXBlOiAnQ2F0ZWdvcnknIH0sIHsgdGl0bGU6ICdjYXRhbG9nLnByb3BlcnRpZXMucHJvZHVjdCcsIHR5cGU6ICdQcm9kdWN0JyB9LCB7IHRpdGxlOiAnY2F0YWxvZy5wcm9wZXJ0aWVzLnZhcmlhdGlvbicsIHR5cGU6ICdWYXJpYXRpb24nIH1dLFxuXHRcdFx0Y29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5wcm9wZXJ0eUxpc3RDb250cm9sbGVyJyxcblx0XHRcdHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvcHJvcGVydHktbGlzdC50cGwuaHRtbCdcblx0XHR9O1xuXHRcdGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG5cdH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmNhdGVnb3J5RGVzY3JpcHRpb25XaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAkc2NvcGUuY3VycmVudEJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcblxuICAgICRzY29wZS5vcGVuQmxhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBibGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiBcImNhdGVnb3J5RGVzY3JpcHRpb25zTGlzdFwiLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICRzY29wZS5jdXJyZW50QmxhZGUuY3VycmVudEVudGl0eSxcbiAgICAgICAgICAgIGNhdGFsb2c6ICRzY29wZS5jdXJyZW50QmxhZGUuY2F0YWxvZyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcnlEZXNjcmlwdGlvbnNMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2NhdGVnb3J5RGVzY3JpcHRpb25zLWxpc3QudHBsLmh0bWwnXG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUoYmxhZGUsICRzY29wZS5jdXJyZW50QmxhZGUpO1xuICAgIH07XG5cbn1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRlZ29yeVByb3BlcnR5V2lkZ2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICRzY29wZS5wcm9wZXJ0aWVzQ291bnQgPSAnLi4uJztcblxuICAgICRzY29wZS4kd2F0Y2goJ2JsYWRlLmN1cnJlbnRFbnRpdHknLCBmdW5jdGlvbiAocHJvZHVjdCkge1xuICAgICAgICBpZiAocHJvZHVjdClcbiAgICAgICAgICAgICRzY29wZS5wcm9wZXJ0aWVzQ291bnQgPSBfLmZpbHRlcihwcm9kdWN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gJ0NhdGVnb3J5JyB8fCB4LnR5cGUgPT0gJ1Byb2R1Y3QnIHx8IHgudHlwZSA9PSAnVmFyaWF0aW9uJzsgfSkubGVuZ3RoO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLm9wZW5Qcm9wZXJ0aWVzQmxhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiBcImNhdGVnb3J5UHJvcGVydHlEZXRhaWxcIixcbiAgICAgICAgICAgIGNhdGVnb3J5SWQ6IGJsYWRlLmN1cnJlbnRFbnRpdHkuaWQsXG4gICAgICAgICAgICBlbnRpdHlUeXBlOiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICBjdXJyZW50RW50aXR5OiBibGFkZS5jdXJyZW50RW50aXR5LFxuICAgICAgICAgICAgbGFuZ3VhZ2VzOiBfLnBsdWNrKGJsYWRlLmNhdGFsb2cubGFuZ3VhZ2VzLCAnbGFuZ3VhZ2VDb2RlJyksXG4gICAgICAgICAgICBkZWZhdWx0TGFuZ3VhZ2U6IGJsYWRlLmNhdGFsb2cuZGVmYXVsdExhbmd1YWdlLmxhbmd1YWdlQ29kZSxcbiAgICAgICAgICAgIHByb3BHcm91cHM6IFt7IHRpdGxlOiAnY2F0YWxvZy5wcm9wZXJ0aWVzLmNhdGVnb3J5JywgdHlwZTogJ0NhdGVnb3J5JyB9LCB7IHRpdGxlOiAnY2F0YWxvZy5wcm9wZXJ0aWVzLnByb2R1Y3QnLCB0eXBlOiAnUHJvZHVjdCcgfSwgeyB0aXRsZTogJ2NhdGFsb2cucHJvcGVydGllcy52YXJpYXRpb24nLCB0eXBlOiAnVmFyaWF0aW9uJyB9XSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LWxpc3QudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgfTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5kYXNoYm9hcmQuY2F0YWxvZ3NXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9ncycsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgY2F0YWxvZ3MpIHtcbiAgICAkc2NvcGUuZGF0YSA9IHsgY291bnQ6ICcnLCBkZXNjcjogJ0NhdGFsb2dzJyB9O1xuXG4gICAgJHNjb3BlLndpZGdldEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHN0YXRlLmdvKCd3b3Jrc3BhY2UuY2F0YWxvZycpO1xuICAgIH07XG5cbiAgICBjYXRhbG9ncy5zZWFyY2goe3Rha2U6MH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICRzY29wZS5kYXRhLmNvdW50ID0gZGF0YS50b3RhbENvdW50O1xuICAgIH0sXG4gICAgZnVuY3Rpb24gKGVycm9yKSB7IH0pO1xufV0pXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmRhc2hib2FyZC5wcm9kdWN0c1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICckc3RhdGUnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmxpc3RFbnRyaWVzJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlLCBsaXN0RW50cmllcykge1xuICAgICRzY29wZS5kYXRhID0geyBjb3VudDogJycsIGRlc2NyOiAnUHJvZHVjdHMnIH07XG5cbiAgICAkc2NvcGUud2lkZ2V0QWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkc3RhdGUuZ28oJ3dvcmtzcGFjZS5jYXRhbG9nJyk7XG4gICAgfTtcblxuICAgIGxpc3RFbnRyaWVzLmxpc3RpdGVtc3NlYXJjaCh7IHRha2U6IDAgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgJHNjb3BlLmRhdGEuY291bnQgPSBkYXRhLnRvdGFsQ291bnQ7XG4gICAgfSxcbiAgICBmdW5jdGlvbiAoZXJyb3IpIHsgfSk7XG59XSlcbjtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5lZGl0b3JpYWxSZXZpZXdXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAkc2NvcGUuY3VycmVudEJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcblxuICAgICRzY29wZS5vcGVuQmxhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBibGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiBcImVkaXRvcmlhbFJldmlld3NMaXN0XCIsXG4gICAgICAgICAgICBpdGVtOiAkc2NvcGUuY3VycmVudEJsYWRlLml0ZW0sXG4gICAgICAgICAgICBjYXRhbG9nOiAkc2NvcGUuY3VycmVudEJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmVkaXRvcmlhbFJldmlld3NMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2VkaXRvcmlhbFJldmlld3MtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShibGFkZSwgJHNjb3BlLmN1cnJlbnRCbGFkZSk7XG4gICAgfTtcblxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1Bc3NldFdpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuXG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcblxuICAgICRzY29wZS5vcGVuQmxhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiBcIml0ZW1Bc3NldFwiLFxuICAgICAgICAgICAgaXRlbTogYmxhZGUuY3VycmVudEVudGl0eSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbUFzc2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2l0ZW0tYXNzZXQtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICB9O1xuXG59XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbUFzc29jaWF0aW9uc1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICRzY29wZS5vcGVuQmxhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgXHRpZiAoYmxhZGUuaXRlbS5hc3NvY2lhdGlvbnMpIHtcbiAgICBcdFx0dmFyIG5ld0JsYWRlID0ge1xuICAgIFx0XHRcdGlkOiBcImFzc29jaWF0aW9uc0xpc3RcIixcbiAgICBcdFx0XHRpdGVtIDogYmxhZGUuaXRlbSwgICAgICAgICAgICAgIFxuICAgIFx0XHRcdGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbUFzc29jaWF0aW9uc0xpc3RDb250cm9sbGVyJyxcbiAgICBcdFx0XHR0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2l0ZW0tYXNzb2NpYXRpb25zLWxpc3QudHBsLmh0bWwnXG4gICAgXHRcdH07XG4gICAgXHR9XG4gICAgXHRibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgIH07ICAgIFxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtRGltZW5zaW9uV2lkZ2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtcycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY29yZU1vZHVsZS5wYWNrYWdlVHlwZS5wYWNrYWdlVHlwZUFwaScsIGZ1bmN0aW9uICgkc2NvcGUsIGl0ZW1zLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBwYWNrYWdlVHlwZUFwaSkge1xuXG4gICAgJHNjb3BlLm9wZW5CbGFkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJsYWRlID0ge1xuICAgICAgICAgICAgaWQ6IFwiaXRlbURpbWVuc2lvblwiLFxuICAgICAgICAgICAgaXRlbTogJHNjb3BlLmJsYWRlLml0ZW0sICAgICAgICAgXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1EaW1lbnNpb25Db250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaXRlbS1kaW1lbnNpb25zLnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShibGFkZSwgJHNjb3BlLmJsYWRlKTtcbiAgICB9O1xuXHJcbiAgICAkc2NvcGUuJHdhdGNoKCdibGFkZS5pdGVtLnBhY2thZ2VUeXBlJywgZnVuY3Rpb24gKHBhY2thZ2VUeXBlSWQpIHtcclxuICAgICAgICBpZiAocGFja2FnZVR5cGVJZCkge1xyXG4gICAgICAgICAgICBwYWNrYWdlVHlwZUFwaS5xdWVyeSh7fSwgZnVuY3Rpb24gKHJlc3VsdHMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ibGFkZS5wYWNrYWdlVHlwZSA9IF8uZmluZChyZXN1bHRzLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZCA9PSBwYWNrYWdlVHlwZUlkOyB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBkZWxldGUgJHNjb3BlLmJsYWRlLnBhY2thZ2VUeXBlO1xyXG4gICAgICAgIH1cclxuICAgIH0pOyAgXG5cclxufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5pdGVtUHJvcGVydHlXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICAkc2NvcGUucHJvcGVydGllc0NvdW50ID0gJy4uLic7XG5cbiAgICAgICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUuaXRlbScsIGZ1bmN0aW9uIChwcm9kdWN0KSB7XG4gICAgICAgICAgICBpZiAocHJvZHVjdClcbiAgICAgICAgICAgICAgICAkc2NvcGUucHJvcGVydGllc0NvdW50ID0gXy5maWx0ZXIocHJvZHVjdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09ICdQcm9kdWN0JyB8fCB4LnR5cGUgPT0gJ1ZhcmlhdGlvbic7IH0pLmxlbmd0aDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLm9wZW5JdGVtUHJvcGVydHlCbGFkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogXCJpdGVtUHJvcGVydHlcIiArIGJsYWRlLmN1cnJlbnRFbnRpdHkuaWQsXG4gICAgICAgICAgICAgICAgcHJvZHVjdElkOiBibGFkZS5jdXJyZW50RW50aXR5LmlkLFxuICAgICAgICAgICAgICAgIGVudGl0eVR5cGU6IFwicHJvZHVjdFwiLFxyXG4gICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcbiAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5OiBibGFkZS5jdXJyZW50RW50aXR5LFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlczogXy5wbHVjayhibGFkZS5jYXRhbG9nLmxhbmd1YWdlcywgJ2xhbmd1YWdlQ29kZScpLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRMYW5ndWFnZTogYmxhZGUuY2F0YWxvZy5kZWZhdWx0TGFuZ3VhZ2UubGFuZ3VhZ2VDb2RlLFxuICAgICAgICAgICAgICAgIHByb3BHcm91cHM6IFt7IHRpdGxlOiAnY2F0YWxvZy5wcm9wZXJ0aWVzLnByb2R1Y3QnLCB0eXBlOiAnUHJvZHVjdCcgfSwgeyB0aXRsZTogJ2NhdGFsb2cucHJvcGVydGllcy52YXJpYXRpb24nLCB0eXBlOiAnVmFyaWF0aW9uJyB9XSxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLnByb3BlcnR5TGlzdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvcHJvcGVydHktbGlzdC50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbVZhcmlhdGlvbldpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5zZWFyY2gnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBzZWFyY2gpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICAgICAgICAkc2NvcGUudmFyaWFydGlvbkNvdW50ID0gJy4uLic7XG5cbiAgICAgICAgICAgIHZhciBzZWFyY2hDcml0ZXJpYSA9IHtcbiAgICAgICAgICAgICAgICBtYWluUHJvZHVjdElkOiBibGFkZS5jdXJyZW50RW50aXR5SWQsXG4gICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogXCJDYXRhbG9nUHJvZHVjdFwiLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR3JvdXA6IFwid2l0aFByb2R1Y3RzXCIsXG4gICAgICAgICAgICAgICAgdGFrZTogMCxcbiAgICAgICAgICAgICAgICB3aXRoSGlkZGVuOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VhcmNoLnNlYXJjaFByb2R1Y3RzKHNlYXJjaENyaXRlcmlhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICRzY29wZS52YXJpYXJ0aW9uQ291bnQgPSBkYXRhLnRvdGFsQ291bnQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5vcGVuVmFyaWF0aW9uTGlzdEJsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiBcIml0ZW1WYXJpYXRpb25MaXN0XCIsXG4gICAgICAgICAgICAgICAgaXRlbTogYmxhZGUuaXRlbSxcbiAgICAgICAgICAgICAgICBjYXRhbG9nOiBibGFkZS5jYXRhbG9nLFxuICAgICAgICAgICAgICAgIHRvb2xiYXJDb21tYW5kc0FuZEV2ZW50czogYmxhZGUudmFyaWF0aW9uc1Rvb2xiYXJDb21tYW5kc0FuZEV2ZW50cyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1WYXJpYXRpb25MaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9pdGVtLXZhcmlhdGlvbi1saXN0LnRwbC5odG1sJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS4kd2F0Y2goXCJ3aWRnZXQuYmxhZGUuY3VycmVudEVudGl0eVwiLCBmdW5jdGlvbiAocHJpY2VsaXN0KSB7XG4gICAgICAgICAgICByZWZyZXNoKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlZnJlc2goKTtcbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmxpbmtzV2lkZ2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLmxpc3RFbnRyaWVzJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgbGlzdEVudHJpZXMpIHtcbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgIHZhciB0eXBlID0gYmxhZGUucHJvZHVjdFR5cGUgPyAnQ2F0YWxvZ1Byb2R1Y3QnIDogJ0NhdGVnb3J5JztcblxuICAgICAgICAgICAgZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUubGlua3NDb3VudCA9ICcuLi4nO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNlYXJjaENyaXRlcmlhID0ge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3RJZHM6IFtibGFkZS5jdXJyZW50RW50aXR5SWRdLFxuICAgICAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgICAgICB0YWtlOiAwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGxpc3RFbnRyaWVzLnNlYXJjaGxpbmtzKHNlYXJjaENyaXRlcmlhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGlua3NDb3VudCA9IGRhdGEudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJHNjb3BlLm9wZW5MaW5rc0JsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdsaW5rc0xpc3RCbGFkZScsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IGJsYWRlLmN1cnJlbnRFbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUubGlua3NMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvbGlua3MtbGlzdC9saW5rcy1saXN0LnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlZnJlc2goKTtcbiAgICAgICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS52aWRlb1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgICAgICAkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IFwidmlkZW9zTGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICBvd25lcjogYmxhZGUuY3VycmVudEVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgb3duZXJUeXBlOiAnUHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUudmlkZW9MaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvdmlkZW8tbGlzdC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuYXNzb2NpYXRpb25XaXphcmRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaXRlbXMnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBzZXR0aW5ncywgaXRlbXMpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgYmxhZGUudGl0bGUgPSBcImNhdGFsb2cud2l6YXJkcy5hc3NvY2lhdGlvbi50aXRsZVwiO1xuICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgJHNjb3BlLnNlbGVjdGVkQ291bnQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICByZXR1cm4gXy53aGVyZShibGFkZS5zZWxlY3Rpb24sIHsgdHlwZTogdHlwZSB9KS5sZW5ndGg7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoaXRlbSkge1xuICAgICAgICAkc2NvcGUuYXNzb2NpYXRpb25Hcm91cHMgPSBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ0NhdGFsb2cuQXNzb2NpYXRpb25Hcm91cHMnIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBibGFkZS5ncm91cE5hbWUgPSBkYXRhWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmxhZGUuc2VsZWN0aW9uID0gXy5tYXAoYmxhZGUuaXRlbS5hc3NvY2lhdGlvbnMsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICByZXR1cm4geyBpZDogeC5hc3NvY2lhdGVkT2JqZWN0SWQsIHR5cGU6IHguYXNzb2NpYXRlZE9iamVjdFR5cGUsIGFzc29jaWF0aW9uOiB4IH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAkc2NvcGUuaXNWYWxpZCA9IGZhbHNlO1xuICAgICRzY29wZS4kd2F0Y2goXCJibGFkZS5zZWxlY3Rpb25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUuaXNWYWxpZCA9IGJsYWRlLmdyb3VwTmFtZSAmJiBibGFkZS5zZWxlY3Rpb24ubGVuZ3RoID4gMDtcbiAgICB9LCB0cnVlKTtcblxuXG4gICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBibGFkZS5pdGVtLmFzc29jaWF0aW9ucyA9IF8ubWFwKGJsYWRlLnNlbGVjdGlvbiwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHZhciByZXRWYWwgPSB4LmFzc29jaWF0aW9uO1xuICAgICAgICAgICAgaWYgKCFyZXRWYWwpIHtcbiAgICAgICAgICAgICAgICByZXRWYWwgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGJsYWRlLmdyb3VwTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZE9iamVjdFR5cGU6IHgudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZE9iamVjdElkOiB4LmlkLFxuICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGVkT2JqZWN0TmFtZTogeC5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGVkT2JqZWN0SW1nOiB4LmltYWdlVXJsLFxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogYmxhZGUucXVhbnRpdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChfLmFueShibGFkZS50YWdzKSkge1xuICAgICAgICAgICAgICAgICAgICByZXRWYWwudGFncyA9IF8ubWFwKGJsYWRlLnRhZ3MsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldFZhbDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oYmxhZGUub25TYXZlQ2hhbmdlcykpIHtcbiAgICAgICAgICAgIGJsYWRlLm9uU2F2ZUNoYW5nZXMoKTsgICAgICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICB9O1xuXG5cbiAgICAkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gW107XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgYWxsb3dDaGVja2luZ0NhdGVnb3J5OiB0cnVlLFxuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtSWRzOiBbXSxcbiAgICAgICAgICAgIGNoZWNrSXRlbUZuOiBmdW5jdGlvbiAobGlzdEl0ZW0sIGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV8uZmluZChzZWxlY3Rpb24sIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09IGxpc3RJdGVtLmlkOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uLnB1c2gobGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBfLnJlamVjdChzZWxlY3Rpb24sIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09IGxpc3RJdGVtLmlkOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiBcIkNhdGFsb2dJdGVtc1NlbGVjdFwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiY2F0YWxvZy5ibGFkZXMuY2F0YWxvZy1pdGVtcy1zZWxlY3QudGl0bGUtYXNzb2NpYXRpb25cIixcbiAgICAgICAgICAgIHN1YnRpdGxlOiAnY2F0YWxvZy5ibGFkZXMuY2F0YWxvZy1pdGVtcy1zZWxlY3Quc3VidGl0bGUtYXNzb2NpYXRpb24nLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZS5jYXRhbG9nSXRlbVNlbGVjdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DYXRhbG9nKS9TY3JpcHRzL2JsYWRlcy9jb21tb24vY2F0YWxvZy1pdGVtcy1zZWxlY3QudHBsLmh0bWwnLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBbXSxcbiAgICAgICAgICAgIHRvb2xiYXJDb21tYW5kczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmNvbmZpcm1cIiwgaWNvbjogJ2ZhIGZhLWNoZWNrJyxcbiAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uIChwaWNraW5nQmxhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBibGFkZS5zZWxlY3Rpb24gPSBfLnVuaXEoXy51bmlvbihibGFkZS5zZWxlY3Rpb24sIHNlbGVjdGlvbiksIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbeC50eXBlLCB4LmlkLCB4LmFzc29jaWF0aW9uID8geC5hc3NvY2lhdGlvbi50eXBlIDogYmxhZGUuZ3JvdXBOYW1lXS5qb2luKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKHBpY2tpbmdCbGFkZSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfLmFueShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XVxuICAgICAgICB9O1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgIH1cblxuXG4gICAgJHNjb3BlLm9wZW5EaWN0aW9uYXJ5U2V0dGluZ01hbmFnZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiAnc2V0dGluZ0RldGFpbENoaWxkJyxcbiAgICAgICAgICAgIGlzQXBpU2F2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogJ0NhdGFsb2cuQXNzb2NpYXRpb25Hcm91cHMnLFxuICAgICAgICAgICAgcGFyZW50UmVmcmVzaDogZnVuY3Rpb24gKGRhdGEpIHsgJHNjb3BlLmFzc29jaWF0aW9uR3JvdXBzID0gZGF0YTsgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5nRGljdGlvbmFyeUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgIH07XG5cbiAgICBpbml0aWFsaXplKGJsYWRlLml0ZW0pO1xuXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY2F0YWxvZ01vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLm5ld0NhdGVnb3J5V2l6YXJkQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0ZWdvcmllcycsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGRpYWxvZ1NlcnZpY2UsIGNhdGVnb3JpZXMpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkuJHVwZGF0ZShudWxsLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeUxpc3RCbGFkZSA9IGJsYWRlLnBhcmVudEJsYWRlO1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5TGlzdEJsYWRlLnNldFNlbGVjdGVkSXRlbShkYXRhKTtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUxpc3RCbGFkZS5zaG93Q2F0ZWdvcnlCbGFkZShkYXRhKTtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeUxpc3RCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0Vycm9yICcgKyBlcnJvci5zdGF0dXMsIGJsYWRlKTsgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5CbGFkZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIGJsYWRlLm9uQ2xvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0gbnVsbDtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Byb3BlcnRpZXMnOlxuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImNhdGVnb3J5UHJvcGVydHlEZXRhaWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eVR5cGU6IFwicHJvZHVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogYmxhZGUuY3VycmVudEVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BHcm91cHM6IFt7IHRpdGxlOiAnY2F0YWxvZy5wcm9wZXJ0aWVzLmNhdGVnb3J5JywgdHlwZTogJ0NhdGVnb3J5JyB9LCB7IHRpdGxlOiAnY2F0YWxvZy5wcm9wZXJ0aWVzLnByb2R1Y3QnLCB0eXBlOiAnUHJvZHVjdCcgfSwgeyB0aXRsZTogJ2NhdGFsb2cucHJvcGVydGllcy52YXJpYXRpb24nLCB0eXBlOiAnVmFyaWF0aW9uJyB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LWxpc3QudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Nlbyc6XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwic2VvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jb3JlTW9kdWxlLnNlby5zdG9yZUxpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ29yZSkvU2NyaXB0cy9TRU8vYmxhZGVzL3Nlby1kZXRhaWwudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV3QmxhZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5jb2RlVmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gL1skKzs9JXt9W1xcXXxAfiFeKiYoKT8nPD4sXS87XG4gICAgICAgIHJldHVybiAhcGF0dGVybi50ZXN0KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICAkc2NvcGUuZm9ybVNjb3BlID0gZm9ybTtcbiAgICB9XG4gICAgXG4gICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLm5ld1Byb2R1Y3RXaXphcmRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICckaHR0cCcsICd2aXJ0b0NvbW1lcmNlLnN0b3JlTW9kdWxlLnN0b3JlcycsICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0ltYWdlc0ZvbGRlclBhdGhIZWxwZXInLCAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1UeXBlc1Jlc29sdmVyU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsICRodHRwLCBzdG9yZXMsIGNhdGFsb2dJbWdIZWxwZXIsIGl0ZW1UeXBlc1Jlc29sdmVyU2VydmljZSkge1xuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAgICAgaWYgKGJsYWRlLml0ZW0ucHJvZHVjdFR5cGUpIHtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0VHlwZSA9IGl0ZW1UeXBlc1Jlc29sdmVyU2VydmljZS5yZXNvbHZlKGJsYWRlLml0ZW0ucHJvZHVjdFR5cGUpO1xuICAgICAgICAgICAgaWYgKHByb2R1Y3RUeXBlKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaGVhZEljb24gPSBwcm9kdWN0VHlwZS5pY29uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluaXRpYWxOYW1lID0gYmxhZGUuaXRlbS5uYW1lID8gYmxhZGUuaXRlbS5uYW1lIDogJyc7XG4gICAgICAgIHZhciBsYXN0R2VuZXJhdGVkTmFtZSA9IGluaXRpYWxOYW1lO1xuICAgICAgICB2YXIgc3RvcmVzUHJvbWlzZSA9IHN0b3Jlcy5xdWVyeSgpLiRwcm9taXNlO1xuXG4gICAgICAgICRzY29wZS5jcmVhdGVJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgYmxhZGUuaXRlbS4kdXBkYXRlKG51bGwsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRiSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5zZXRTZWxlY3RlZEl0ZW0oZGJJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBibGFkZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogZGJJdGVtLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RUeXBlOiBkYkl0ZW0ucHJvZHVjdFR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGJJdGVtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1EZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaXRlbS1kZXRhaWwudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZS5wYXJlbnRCbGFkZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHsgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgJHNjb3BlLmJsYWRlKTsgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLm9wZW5CbGFkZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSBudWxsO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncHJvcGVydGllcyc6XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwibmV3UHJvZHVjdFByb3BlcnRpZXNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eVR5cGU6IFwicHJvZHVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogYmxhZGUuaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5OiBibGFkZS5pdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2VzOiBfLnBsdWNrKGJsYWRlLmNhdGFsb2cubGFuZ3VhZ2VzLCAnbGFuZ3VhZ2VDb2RlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TGFuZ3VhZ2U6IGJsYWRlLmNhdGFsb2cuZGVmYXVsdExhbmd1YWdlLmxhbmd1YWdlQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BHcm91cHM6IFt7IHRpdGxlOiAnY2F0YWxvZy5wcm9wZXJ0aWVzLnByb2R1Y3QnLCB0eXBlOiAnUHJvZHVjdCcgfSwgeyB0aXRsZTogJ2NhdGFsb2cucHJvcGVydGllcy52YXJpYXRpb24nLCB0eXBlOiAnVmFyaWF0aW9uJyB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUucHJvcGVydHlMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL3Byb3BlcnR5LWxpc3QudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlcyc6XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwibmV3UHJvZHVjdEltYWdlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogYmxhZGUuaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlclBhdGg6IGNhdGFsb2dJbWdIZWxwZXIuZ2V0SW1hZ2VzRm9sZGVyUGF0aCgkc2NvcGUuYmxhZGUuaXRlbS5jYXRhbG9nSWQsICRzY29wZS5ibGFkZS5pdGVtLmNvZGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuaW1hZ2VzQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNhdGFsb2cpL1NjcmlwdHMvYmxhZGVzL2ltYWdlcy50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2VvJzpcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVNFTyhibGFkZS5pdGVtLCBmdW5jdGlvbiAoc2VvSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVzUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChwcm9taXNlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3Nlb0RldGFpbHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBzZW9JbmZvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ldzogIV8uYW55KGJsYWRlLml0ZW0uc2VvSW5mb3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW9Db250YWluZXJPYmplY3Q6IGJsYWRlLml0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlczogcHJvbWlzZURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGFsb2c6IGJsYWRlLmNhdGFsb2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhbmd1YWdlczogXy5wbHVjayhibGFkZS5jYXRhbG9nLmxhbmd1YWdlcywgJ2xhbmd1YWdlQ29kZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQZXJtaXNzaW9uOiAnY2F0YWxvZzpjcmVhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jb3JlTW9kdWxlLnNlby5zZW9EZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5Db3JlKS9TY3JpcHRzL1NFTy9ibGFkZXMvc2VvLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Jldmlldyc6XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwibmV3UHJvZHVjdEVkaXRvcmlhbFJldmlld3NMaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtOiBibGFkZS5pdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0YWxvZzogYmxhZGUuY2F0YWxvZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuZWRpdG9yaWFsUmV2aWV3c0xpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvZWRpdG9yaWFsUmV2aWV3cy1saXN0LnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld0JsYWRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJHNjb3BlLmNvZGVWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1skKzs9JXt9W1xcXXxAfiFeKiYoKT8nPD4sXS87XG4gICAgICAgICAgICByZXR1cm4gIXBhdHRlcm4udGVzdCh2YWx1ZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICAgICAgJHNjb3BlLmZvcm1TY29wZSA9IGZvcm07XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuZ2V0VW5maWxsZWRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF8uZmlsdGVyKGJsYWRlLml0ZW0ucHJvcGVydGllcywgZnVuY3Rpb24gKHApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcCAmJiBfLmFueShwLnZhbHVlcykgJiYgcC52YWx1ZXNbMF0udmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTRU8oaXRlbSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmIChfLmFueShpdGVtLnNlb0luZm9zKSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGl0ZW0uc2VvSW5mb3NbMF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0VmFsID0geyBpc0FjdGl2ZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIHZhciBzdHJpbmdGb3JTbHVnID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgICAgIF8uZWFjaChpdGVtLnByb3BlcnRpZXMsIGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChwcm9wLnZhbHVlcywgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nRm9yU2x1ZyArPSAnICcgKyB2YWwudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0cmluZ0ZvclNsdWcpIHtcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZ2V0KCdhcGkvY2F0YWxvZy9nZXRzbHVnP3RleHQ9JyArIHN0cmluZ0ZvclNsdWcpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFZhbC5zZW1hbnRpY1VybCA9IHJlc3VsdHMuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXRWYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJldFZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdibGFkZS5pdGVtLnByb3BlcnRpZXMnLCBmdW5jdGlvbiAoY3VycmVudEVudGl0aWVzKSB7XG4gICAgICAgICAgICAvLyBhdXRvLWdlbmVyYXRlIGl0ZW0ubmFtZSBmcm9tIHByb3BlcnR5IHZhbHVlcyBpZiB1c2VyIGRpZG4ndCBjaGFuZ2UgaXRcbiAgICAgICAgICAgIGlmICgobGFzdEdlbmVyYXRlZE5hbWUgPT0gYmxhZGUuaXRlbS5uYW1lIHx8ICghbGFzdEdlbmVyYXRlZE5hbWUgJiYgIWJsYWRlLml0ZW0ubmFtZSkpXG4gICAgICAgICAgICAgICAgJiYgXy5hbnkoYmxhZGUuY2hpbGRyZW5CbGFkZXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmNvbnRyb2xsZXIgPT09ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUubmV3UHJvZHVjdFdpemFyZFByb3BlcnRpZXNDb250cm9sbGVyJzsgfSkpIHtcbiAgICAgICAgICAgICAgICBsYXN0R2VuZXJhdGVkTmFtZSA9IGluaXRpYWxOYW1lO1xuICAgICAgICAgICAgICAgIF8uZWFjaChjdXJyZW50RW50aXRpZXMsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmFueSh4LnZhbHVlcywgZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gdmFsLnZhbHVlOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJWYWwgPSBfLmZpbmQoeC52YWx1ZXMsIGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHZhbC52YWx1ZTsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyclZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RHZW5lcmF0ZWROYW1lICs9IChsYXN0R2VuZXJhdGVkTmFtZSA/ICcsICcgOiAnJykgKyBjdXJyVmFsLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXRlbS5uYW1lID0gbGFzdEdlbmVyYXRlZE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfV0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==