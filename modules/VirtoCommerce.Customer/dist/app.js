!function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){r(1),r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10),r(11),r(12),r(13),r(14),r(15),r(16),r(17),r(18),r(19),r(20),r(21),r(22),e.exports=r(23)},function(e,t){null!=AppDependencies&&AppDependencies.push("virtoCommerce.customerModule"),angular.module("virtoCommerce.customerModule",["virtoCommerce.customerModule.common"]).config(["$stateProvider",function(e){e.state("workspace.customerModule",{url:"/customers",templateUrl:"$(Platform)/Scripts/common/templates/home.tpl.html",controller:["$scope","platformWebApp.bladeNavigationService",function(e,t){t.showBlade({id:"memberList",currentEntity:{id:null},controller:"virtoCommerce.customerModule.memberListController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/member-list.tpl.html",isClosingDisabled:!0})}]})}]).factory("virtoCommerce.customerModule.predefinedSearchFilters",["$localStorage",function(e){return e.customerSearchFilters=e.customerSearchFilters||[],{register:function(t,r,o){_.each(o,(function(o){var i=_.find(e.customerSearchFilters,(function(e){return e.id==o.id}));i?(!i.lastUpdateTime||i.lastUpdateTime<t)&&angular.copy(o,i):(!e[r]||e[r]<t)&&e.customerSearchFilters.splice(0,0,o)})),e[r]=t}}}]).run(["platformWebApp.mainMenuService","platformWebApp.toolbarService","platformWebApp.breadcrumbHistoryService","platformWebApp.authService","platformWebApp.widgetService","$state","platformWebApp.permissionScopeResolver","virtoCommerce.customerModule.memberTypesResolverService","platformWebApp.settings","virtoCommerce.customerModule.predefinedSearchFilters",function(e,t,r,o,i,n,a,l,s,c){var d={path:"browse/member",icon:"fas fa-address-card",title:"customer.main-menu-title",priority:180,action:function(){n.go("workspace.customerModule")},permission:"customer:access"};e.addMenuItem(d),t.register(r.getBackButtonInstance(),"virtoCommerce.customerModule.memberListController");var m={isVisible:function(e){return!e.isNew},controller:"virtoCommerce.customerModule.customerAccountsWidgetController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/widgets/customerAccountsWidget.tpl.html"},u={controller:"virtoCommerce.customerModule.memberAddressesWidgetController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/widgets/memberAddressesWidget.tpl.html"},p={controller:"virtoCommerce.customerModule.memberEmailsWidgetController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/widgets/memberEmailsWidget.tpl.html"},f={controller:"virtoCommerce.customerModule.memberPhonesWidgetController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/widgets/memberPhonesWidget.tpl.html"},g={controller:"platformWebApp.dynamicPropertyWidgetController",template:"$(Platform)/Scripts/app/dynamicProperties/widgets/dynamicPropertyWidget.tpl.html",isVisible:function(e){return!e.isNew&&o.checkPermission("platform:dynamic_properties:read")}},b={controller:"virtoCommerce.coreModule.seo.seoWidgetController",template:"Modules/$(VirtoCommerce.Core)/Scripts/SEO/widgets/seoWidget.tpl.html",objectType:"Vendor",getDefaultContainerId:function(e){},getLanguages:function(e){return s.getValues({id:"VirtoCommerce.Core.General.Languages"})},isVisible:function(e){return!e.isNew}},y={documentType:"Member",controller:"virtoCommerce.searchModule.indexWidgetController",template:"Modules/$(VirtoCommerce.Search)/Scripts/widgets/index-widget.tpl.html",isVisible:function(e){return!e.isNew}};i.registerWidget(m,"customerDetail1"),i.registerWidget(u,"customerDetail1"),i.registerWidget(p,"customerDetail1"),i.registerWidget(f,"customerDetail2"),i.registerWidget(g,"customerDetail2"),i.registerWidget(y,"customerDetail2"),i.registerWidget(u,"organizationDetail1"),i.registerWidget(p,"organizationDetail1"),i.registerWidget(f,"organizationDetail1"),i.registerWidget(g,"organizationDetail2"),i.registerWidget(y,"organizationDetail2"),i.registerWidget(m,"employeeDetail1"),i.registerWidget(u,"employeeDetail1"),i.registerWidget(p,"employeeDetail1"),i.registerWidget(f,"employeeDetail2"),i.registerWidget(g,"employeeDetail2"),i.registerWidget(y,"employeeDetail2"),i.registerWidget(m,"vendorDetail1"),i.registerWidget(u,"vendorDetail1"),i.registerWidget(p,"vendorDetail1"),i.registerWidget(f,"vendorDetail1"),i.registerWidget(g,"vendorDetail2"),i.registerWidget(b,"vendorDetail2"),i.registerWidget(y,"vendorDetail2"),l.registerType({memberType:"Organization",description:"customer.blades.member-add.organization.description",fullTypeName:"VirtoCommerce.CustomerModule.Core.Model.Organization",icon:"fas fa-building",detailBlade:{template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/organization-detail.tpl.html",metaFields0:[{name:"name",title:"customer.blades.organization-detail.labels.name",placeholder:"customer.blades.organization-detail.placeholders.name",isRequired:!0,spanAllColumns:!0,valueType:"ShortText"},{spanAllColumns:!0,templateUrl:"groups.html"},{spanAllColumns:!0,templateUrl:"status.html"}],metaFields:[{name:"businessCategory",title:"customer.blades.organization-detail.labels.business-category",spanAllColumns:!0,valueType:"ShortText"},{name:"description",title:"customer.blades.organization-detail.labels.description",placeholder:"customer.blades.organization-detail.placeholders.description",spanAllColumns:!0,valueType:"LongText"}]},knownChildrenTypes:["Organization","Employee","Contact"]}),l.registerType({memberType:"Employee",description:"customer.blades.member-add.employee.description",fullTypeName:"VirtoCommerce.CustomerModule.Core.Model.Employee",icon:"fas fa-user-tie",detailBlade:{template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/employee-detail.tpl.html",metaFields0:[{title:"customer.blades.employee-detail.labels.first-name",templateUrl:"firstName.html"},{name:"middleName",title:"customer.blades.employee-detail.labels.middle-name",placeholder:"customer.blades.employee-detail.placeholders.middle-name",valueType:"ShortText"},{title:"customer.blades.employee-detail.labels.last-name",templateUrl:"lastName.html"},{title:"customer.blades.employee-detail.labels.full-name",templateUrl:"fullName.html"},{spanAllColumns:!0,templateUrl:"status.html"}],metaFields:[{name:"memberType",title:"customer.blades.employee-detail.labels.type",placeholder:"customer.blades.employee-detail.placeholders.type",colSpan:2,disabled:!0,valueType:"ShortText"},{colSpan:2,title:"customer.blades.employee-detail.labels.birthday",placeholder:"customer.blades.employee-detail.placeholders.birthday",templateUrl:"birthDate.html"},{colSpan:2,title:"customer.blades.employee-detail.labels.organizations",templateUrl:"organizations.html"},{colSpan:2,title:"customer.blades.employee-detail.labels.timezone",templateUrl:"timeZone.html"},{name:"defaultLanguage",title:"customer.blades.employee-detail.labels.defaultLanguage",placeholder:"customer.blades.employee-detail.placeholders.defaultLanguage",valueType:"ShortText"},{name:"photoUrl",title:"customer.blades.employee-detail.labels.photo-url",placeholder:"customer.blades.employee-detail.placeholders.photo-url",valueType:"Url"}]}}),l.registerType({memberType:"Contact",description:"customer.blades.member-add.contact.description",fullTypeName:"VirtoCommerce.CustomerModule.Core.Model.Contact",icon:"far fa-smile",detailBlade:{template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/customer-detail.tpl.html",metaFields0:[{title:"customer.blades.contact-detail.labels.first-name",templateUrl:"firstName.html"},{title:"customer.blades.contact-detail.labels.last-name",templateUrl:"lastName.html"},{title:"customer.blades.contact-detail.labels.full-name",templateUrl:"fullName.html",colSpan:2},{spanAllColumns:!0,templateUrl:"status.html"},{templateUrl:"groups.html"},{name:"salutation",title:"customer.blades.contact-detail.labels.salutation",placeholder:"customer.blades.contact-detail.placeholders.salutation",valueType:"ShortText"}],metaFields:[{colSpan:2,title:"customer.blades.contact-detail.labels.organizations",templateUrl:"organizations.html"},{colSpan:2,title:"customer.blades.contact-detail.labels.associated-organizations",templateUrl:"associatedOrganizations.html"},{colSpan:2,title:"customer.blades.contact-detail.labels.birthday",templateUrl:"birthDate.html"},{colSpan:2,title:"customer.blades.contact-detail.labels.timezone",templateUrl:"timeZone.html"},{name:"defaultLanguage",title:"customer.blades.contact-detail.labels.defaultLanguage",placeholder:"customer.blades.contact-detail.placeholders.defaultLanguage",valueType:"ShortText"},{name:"taxPayerId",title:"customer.blades.contact-detail.labels.taxpayerId",placeholder:"customer.blades.contact-detail.placeholders.preferred-delivery",valueType:"ShortText"},{name:"preferredCommunication",title:"customer.blades.contact-detail.labels.preferred-communication",placeholder:"customer.blades.contact-detail.placeholders.preferred-communication",valueType:"ShortText"},{name:"preferredDelivery",title:"customer.blades.contact-detail.labels.preferred-delivery",placeholder:"customer.blades.contact-detail.placeholders.preferred-delivery",valueType:"ShortText"}]}}),l.registerType({memberType:"Vendor",description:"customer.blades.member-add.vendor.description",fullTypeName:"VirtoCommerce.CustomerModule.Core.Model.Vendor",icon:"fas fa-briefcase",detailBlade:{template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/vendor-detail.tpl.html",metaFields0:[{name:"name",title:"customer.blades.vendor-detail.labels.name",placeholder:"customer.blades.vendor-detail.placeholders.name",isRequired:!0,spanAllColumns:!0,valueType:"ShortText"},{spanAllColumns:!0,templateUrl:"status.html"}],metaFields:[{name:"siteUrl",title:"customer.blades.vendor-detail.labels.site-url",placeholder:"customer.blades.vendor-detail.placeholders.site-url",spanAllColumns:!0,valueType:"Url"},{name:"logoUrl",title:"customer.blades.vendor-detail.labels.logo-url",placeholder:"customer.blades.vendor-detail.placeholders.logo-url",spanAllColumns:!0,valueType:"Url"},{name:"groupName",title:"customer.blades.vendor-detail.labels.group-name",placeholder:"customer.blades.vendor-detail.placeholders.group-name",spanAllColumns:!0,valueType:"ShortText"},{name:"description",title:"customer.blades.vendor-detail.labels.description",placeholder:"customer.blades.vendor-detail.placeholders.description",spanAllColumns:!0,valueType:"LongText"}]}});c.register(1583235535540,"customerSearchFiltersDate",[{name:"customer.blades.member-list.labels.filter-new"},{keyword:"membertype:Vendor",id:3,name:"customer.blades.member-list.labels.filter-vendor"},{keyword:"membertype:Contact",id:2,name:"customer.blades.member-list.labels.filter-contact"},{keyword:"membertype:Organization",id:1,name:"customer.blades.member-list.labels.filter-organization"}]);a.register({type:"AssociatedOrganizationsOnlyScope",title:"Only for associated organizations"})}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.customerAccountsListController",["$scope","platformWebApp.dialogService","platformWebApp.uiGridHelper","platformWebApp.bladeNavigationService","filterFilter","platformWebApp.accounts",function(e,t,r,o,i,n){e.uiGridConstants=r.uiGridConstants;var a=e.blade;function l(e){var t={id:"newAccountWizard",currentEntity:{roles:[],userType:"Customer",storeId:e.id,memberId:a.memberId},title:"platform.blades.account-detail.title-new",subtitle:a.subtitle,controller:"platformWebApp.newAccountWizardController",template:"$(Platform)/Scripts/app/security/wizards/newAccount/new-account-wizard.tpl.html"};o.showBlade(t,a)}a.refresh=function(){a.isLoading=!0,a.parentBlade.refresh()},a.selectNode=function(t){if(o.checkPermission("platform:security:read")){e.selectedNodeId=t.userName;var r={id:"listItemChild",data:t,title:t.userName,subtitle:a.subtitle,controller:"platformWebApp.accountDetailController",template:"$(Platform)/Scripts/app/security/blades/account-detail.tpl.html"};o.showBlade(r,a)}else o.setError("Insufficient permission",a)},e.deleteList=function(e){var r={id:"confirmDeleteItem",title:"platform.dialogs.account-delete.title",message:"platform.dialogs.account-delete.message",callback:function(t){t&&o.closeChildrenBlades(a,(function(){var t=_.pluck(e,"userName");n.remove({names:t},a.refresh)}))}};t.showConfirmationDialog(r)},a.headIcon="fas fa-key",a.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){o.closeChildrenBlades(a,(function(){var e={id:"pickStoreList",title:"customer.blades.pick-store-list.title",subtitle:"customer.blades.pick-store-list.subtitle",onAfterNodeSelected:l,controller:"virtoCommerce.customerModule.pickStoreListController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/pick-store-list.tpl.html"};o.showBlade(e,a)}))},canExecuteMethod:function(){return!0},permission:"platform:security:create"},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){e.deleteList(e.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())},permission:"platform:security:delete"}],e.setGridOptions=function(t){r.initialize(e,t,(function(t){t.grid.registerRowsProcessor(e.singleFilter,90)}))},e.singleFilter=function(t){var r=0;return t.forEach((function(e){e.visible=_.any(i([e.entity],a.searchText)),e.visible&&r++})),e.filteredEntitiesCount=r,t},e.$watch("blade.parentBlade.currentEntity",(function(e){a.memberId=e.id,a.currentEntities=angular.copy(e.securityAccounts),a.origEntity=e.securityAccounts,a.isLoading=!1}))}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.customerDetailController",["$scope","platformWebApp.common.timeZones","platformWebApp.settings","platformWebApp.bladeNavigationService",function(e,t,r,o){var i=e.blade;i.isNew?(i.title="customer.blades.contact-detail.title-new",i.currentEntity=angular.extend({organizations:[]},i.currentEntity),i.parentBlade.currentEntity.id&&i.currentEntity.organizations.push(i.parentBlade.currentEntity.id),i.fillDynamicProperties()):i.subtitle="customer.blades.contact-detail.subtitle",i.datepickers={},i.today=new Date,i.open=function(e,t){e.preventDefault(),e.stopPropagation(),i.datepickers[t]=!0},i.timeZones=t.query(),i.groups=r.getValues({id:"Customer.MemberGroups"}),i.openGroupsDictionarySettingManagement=function(){var e={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Customer.MemberGroups",parentRefresh:function(e){i.groups=e},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};o.showBlade(e,i)},i.fetchCustomerOrganizations=function(e){i.fetchOrganizations(e).then((function(){i.customerOrganizations=angular.copy(i.organizations)}))},i.fetchAssociatedOrganizations=function(e){i.fetchOrganizations(e).then((function(){i.associatedOrganizations=angular.copy(i.organizations)}))},i.fetchNextCustomerOrganizations=function(e){i.fetchNextOrganizations(e).then((function(){i.customerOrganizations=angular.copy(i.organizations)}))},i.fetchNextAssociatedOrganizations=function(e){i.fetchNextOrganizations(e).then((function(){i.associatedOrganizations=angular.copy(i.organizations)}))}}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.employeeDetailController",["$scope","platformWebApp.common.timeZones",function(e,t){var r=e.blade;r.isNew?(r.title="customer.blades.employee-detail.title-new",r.currentEntity=angular.extend({isActive:!0,organizations:[]},r.currentEntity),r.parentBlade.currentEntity.id&&r.currentEntity.organizations.push(r.parentBlade.currentEntity.id),r.fillDynamicProperties()):r.subtitle="customer.blades.employee-detail.subtitle",r.datepickers={},r.today=new Date,r.open=function(e,t){e.preventDefault(),e.stopPropagation(),r.datepickers[t]=!0},r.timeZones=t.query()}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.filterDetailController",["$scope","$localStorage","$translate",function(e,t,r){var o,i=e.blade;function n(e){i.currentEntity=angular.copy(e),i.origEntity=e,i.isLoading=!1,i.title=i.isNew?"customer.blades.filter-detail.new-title":e.name,i.subtitle=i.isNew?"customer.blades.filter-detail.new-subtitle":"customer.blades.filter-detail.subtitle"}e.saveChanges=function(){i.currentEntity.lastUpdateTime=(new Date).getTime(),angular.copy(i.currentEntity,i.origEntity),i.isNew&&(t.customerSearchFilters.splice(0,0,i.origEntity),t.customerSearchFilterId=i.origEntity.id,i.parentBlade.filter.current=i.origEntity,i.isNew=!1),n(i.origEntity),i.parentBlade.filter.change(!0)},e.setForm=function(e){o=e},i.headIcon="fa fa-filter",i.toolbarCommands=[{name:"core.commands.apply-filter",icon:"fa fa-filter",executeMethod:function(){e.saveChanges()},canExecuteMethod:function(){return o&&o.$valid}},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(i.origEntity,i.currentEntity)},canExecuteMethod:function(){return!angular.equals(i.currentEntity,i.origEntity)}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){i.parentBlade.filter.current=null,t.customerSearchFilters.splice(t.customerSearchFilters.indexOf(i.origEntity),1),delete t.customerSearchFilterId,i.parentBlade.filter.change()},canExecuteMethod:function(){return!i.isNew}}],i.isNew?r("customer.blades.member-list.labels.unnamed-filter").then((function(e){n({id:(new Date).getTime(),name:e})})):n(i.data)}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.memberAddController",["$scope","virtoCommerce.customerModule.memberTypesResolverService",function(e,t){var r=e.blade;if(e.addMember=function(t){e.bladeClose((function(){r.parentBlade.showDetailBlade({memberType:t.memberType},!0)}))},r.currentEntity&&r.currentEntity.memberType){var o=t.resolve(r.currentEntity.memberType);e.availableTypes=_.map(o.knownChildrenTypes,(function(e){return t.resolve(e)}))}else e.availableTypes=t.objects;r.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.memberDetailController",["$scope","$q","platformWebApp.bladeNavigationService","virtoCommerce.customerModule.members","platformWebApp.dynamicProperties.api","virtoCommerce.customerModule.organizations","platformWebApp.settings",function(e,t,r,o,i,n,a){var l=e.blade;function s(e){l.currentEntity=angular.copy(e),l.origEntity=e,l.customInitialize(),l.isLoading=!1}function c(){return!angular.equals(l.currentEntity,l.origEntity)&&!l.isNew&&l.hasUpdatePermission()}function d(){return c()&&e.formScope&&e.formScope.$valid}function m(){return l.currentEntity.organizations&&l.currentEntity.organizations.length>0?n.getByIds({ids:l.currentEntity.organizations},(function(e){u(e)})).$promise:t.resolve()}function u(e){e=_.reject(e,e=>_.any(l.organizations,t=>t.id===e.id)),_.any(e)&&(l.organizations=l.organizations.concat(e))}l.updatePermission="customer:update",l.currentEntityId=l.currentEntity.id,l.refresh=function(e){l.isNew?l.currentEntity=angular.extend({dynamicProperties:[],addresses:[],phones:[],emails:[]},l.currentEntity):(l.isLoading=!0,o.get({id:l.currentEntity.id},s),e&&l.parentBlade.refresh(!0))},l.openStatusSettingManagement=function(e){var t={id:"settingDetailChild",isApiSave:!0,currentEntityId:e,controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};r.showBlade(t,l)},l.statuses=[],l.loadStatuses=function(e){a.get({id:e},(function(e){l.statuses=e.allowedValues,l.isNew&&(l.currentEntity.status=e.defaultValue,l.origEntity.status=e.defaultValue)}))},l.fillDynamicProperties=function(){i.query({id:l.memberTypeDefinition.fullTypeName},(function(e){_.each(e,(function(e){e.displayNames=void 0,e.values=[]})),l.currentEntity.dynamicProperties=e,s(l.currentEntity)}))},l.customInitialize=function(){l.isNew||(l.title=l.currentEntity.name)},e.saveChanges=function(){l.isLoading=!0,l.isNew?o.save(l.currentEntity,(function(){l.parentBlade.refresh(!0),l.origEntity=l.currentEntity,e.bladeClose()})):o.update(l.currentEntity,(function(){l.refresh(!0)}))},e.setForm=function(t){e.formScope=t},l.onClose=function(t){r.showConfirmationIfNeeded(c(),d(),l,e.saveChanges,t,"customer.dialogs.member-save.title","customer.dialogs.member-save.message")},l.isNew||(l.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:e.saveChanges,canExecuteMethod:d,permission:l.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(l.origEntity,l.currentEntity)},canExecuteMethod:c,permission:l.updatePermission}]),l.headIcon=l.memberTypeDefinition.icon,e.pageSize=50,l.fetchOrganizations=function(e){return e.page=0,l.organizations=[],t.all([m(),l.fetchNextOrganizations(e)])},l.fetchNextOrganizations=function(t){return o.search({memberType:"Organization",responseGroup:"default",searchPhrase:t.search,deepSearch:!0,take:e.pageSize,skip:t.page*e.pageSize},(function(e){u(e.results),t.page++})).$promise},l.refresh(!1)}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.memberEmailsListController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var r,o=e.blade;function i(e){return{value:e}}function n(){return!angular.equals(o.currentEntities,o.origEntity)&&o.hasUpdatePermission()}o.updatePermission="customer:update",e.selectedItem=null,e.selectItem=function(t){e.selectedItem=t},o.onClose=function(i){t.showConfirmationIfNeeded(n(),n()&&r&&r.$valid,o,e.saveChanges,i,"customer.dialogs.email-save.title","customer.dialogs.email-save.message")},e.setForm=function(e){r=e},e.cancelChanges=function(){e.bladeClose()},e.saveChanges=function(){var t=_.pluck(o.currentEntities,"value");angular.copy(t,o.data),angular.copy(o.currentEntities,o.origEntity),e.bladeClose()},o.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){o.currentEntities.push(i(""))},canExecuteMethod:function(){return!0},permission:o.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(o.origEntity,o.currentEntities)},canExecuteMethod:n,permission:o.updatePermission},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var t=o.currentEntities.indexOf(e.selectedItem);t>=0&&o.currentEntities.splice(t,1)},canExecuteMethod:function(){return e.selectedItem},permission:o.updatePermission}],e.$watch("blade.parentBlade.currentEntity.emails",(function(e){o.data=e,e=_.map(e,i),o.currentEntities=angular.copy(e),o.origEntity=e,o.isLoading=!1}))}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.memberListController",["$scope","virtoCommerce.customerModule.members","platformWebApp.dialogService","platformWebApp.bladeUtils","platformWebApp.uiGridHelper","virtoCommerce.customerModule.memberTypesResolverService","platformWebApp.ui-grid.extension",function(e,t,r,o,i,n,a){e.uiGridConstants=i.uiGridConstants;var l=e.blade;l.title="customer.blades.member-list.title";var s=o.bladeNavigationService;function c(e,t){return{id:e,name:t,blade:l,navigate:function(e){e.blade.disableOpenAnimation=!0,s.showBlade(e.blade),e.blade.refresh()}}}function d(o){var i={id:"confirmDeleteItem",title:"customer.dialogs.members-delete.title",message:"customer.dialogs.members-delete.message",callback:function(r){r&&s.closeChildrenBlades(l,(function(){l.isLoading=!0;var r=_.pluck(o,"id");if(null!=e.gridApi&&e.gridApi.selection.getSelectAllState()){var i=u();t.delete(i,(function(){e.gridApi.selection.clearSelectedRows(),l.refresh(!0)}))}else _.any(r)&&t.remove({ids:r},(function(){l.refresh(!0)}))}))}};r.showConfirmationDialog(i)}l.refresh=function(r){l.isLoading=!0;var o=u();l.searchCriteria&&angular.extend(o,l.searchCriteria),t.search(o,(function(t){var r;l.isLoading=!1,e.pageSettings.totalItems=t.totalCount,_.each(t.results,(function(e){(r=n.resolve(e.memberType))&&(e._memberTypeIcon=r.icon)})),Array.isArray(t.results)&&t.results.length&&!t.results[0].outerId&&(t.results[0].outerId=null),e.listEntries=t.results?t.results:[],function(){if(l.breadcrumbs){var e=l.breadcrumbs.slice(0);if(_.all(e,(function(e){return e.id!==l.currentEntity.id}))){var t=c(l.currentEntity.id,l.currentEntity.name);e.push(t)}l.breadcrumbs=e}else l.breadcrumbs=[c(null,"customer.blades.member-list.breadcrumb-all")]}()})),r&&l.parentRefresh&&l.parentRefresh()},l.showDetailBlade=function(e,t){l.setSelectedNode(e);var o=n.resolve(e.memberType);if(o){var i=angular.copy(o.detailBlade);i.currentEntity=e,i.currentEntityId=e.id,i.isNew=t,s.showBlade(i,l)}else r.showNotificationDialog({id:"error",title:"customer.dialogs.unknown-member-type.title",message:"customer.dialogs.unknown-member-type.message",messageValues:{memberType:e.memberType}})},e.delete=function(e){d([e])},l.setSelectedNode=function(t){e.selectedNodeId=t.id},e.selectNode=function(e){l.setSelectedNode(e);var t=n.resolve(e.memberType);if(t&&t.knownChildrenTypes&&t.knownChildrenTypes.length){var r={id:l.id,breadcrumbs:l.breadcrumbs,subtitle:"customer.blades.member-list.subtitle",subtitleValues:{name:e.name},currentEntity:e,disableOpenAnimation:!0,controller:l.controller,template:l.template,isClosingDisabled:!0};s.showBlade(r,l.parentBlade)}else l.showDetailBlade(e)},l.headIcon="fa fa-user __customers",l.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:l.refresh,canExecuteMethod:function(){return!0}},{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){var e={id:"listItemChild",currentEntity:l.currentEntity,title:"customer.blades.member-add.title",subtitle:"customer.blades.member-add.subtitle",controller:"virtoCommerce.customerModule.memberAddController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/member-add.tpl.html"};s.showBlade(e,l)},canExecuteMethod:function(){return!0},permission:"customer:create"},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){d(e.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())},permission:"customer:delete"}];var m=l.filter={keyword:null};function u(){return{memberType:l.memberType,memberId:l.currentEntity.id,keyword:m.keyword?m.keyword:void 0,deepSearch:!!m.keyword,sort:i.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount,objectType:"Member"}}m.criteriaChanged=function(){null===m.keyword&&(l.memberType=void 0),e.pageSettings.currentPage>1?e.pageSettings.currentPage=1:l.refresh()},e.setGridOptions=function(t,r){e.gridOptions=r,a.tryExtendGridOptions(t,r),r.onRegisterApi=function(t){e.gridApi=t,t.core.on.sortChanged(e,(function(){l.isLoading||l.refresh()}))},o.initializePagination(e)}}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.memberPhonesListController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var r,o=e.blade;function i(e){return{value:e}}function n(){return!angular.equals(o.currentEntities,o.origEntity)&&o.hasUpdatePermission()}o.updatePermission="customer:update",e.selectedItem=null,e.selectItem=function(t){e.selectedItem=t},o.onClose=function(i){t.showConfirmationIfNeeded(n(),n()&&r&&r.$valid,o,e.saveChanges,i,"customer.dialogs.phone-number-save.title","customer.dialogs.phone-number-save.message")},e.setForm=function(e){r=e},e.cancelChanges=function(){e.bladeClose()},e.saveChanges=function(){var t=_.pluck(o.currentEntities,"value");angular.copy(t,o.data),angular.copy(o.currentEntities,o.origEntity),e.bladeClose()},o.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){o.currentEntities.push(i(""))},canExecuteMethod:function(){return!0},permission:o.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(o.origEntity,o.currentEntities)},canExecuteMethod:n,permission:o.updatePermission},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var t=o.currentEntities.indexOf(e.selectedItem);t>=0&&o.currentEntities.splice(t,1)},canExecuteMethod:function(){return e.selectedItem},permission:o.updatePermission}],e.$watch("blade.parentBlade.currentEntity.phones",(function(e){var t;o.data=e,t=o.data,t=_.map(t,i),o.currentEntities=angular.copy(t),o.origEntity=t,o.isLoading=!1}))}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.organizationDetailController",["$scope","platformWebApp.settings","platformWebApp.bladeNavigationService",function(e,t,r){var o=e.blade;o.isNew?(o.title="customer.blades.organization-detail.title-new",o.currentEntity.parentId=o.parentBlade.currentEntity.id,o.fillDynamicProperties()):o.subtitle="customer.blades.organization-detail.subtitle",o.groups=t.getValues({id:"Customer.MemberGroups"}),o.openGroupsDictionarySettingManagement=function(){var e={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Customer.MemberGroups",parentRefresh:function(e){o.groups=e},controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};r.showBlade(e,o)}}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.pickStoreListController",["$scope","virtoCommerce.storeModule.stores","platformWebApp.bladeUtils","uiGridConstants","platformWebApp.uiGridHelper",function(e,t,r,o,i){e.uiGridConstants=o;var n=e.blade,a=r.bladeNavigationService;n.refresh=function(){n.isLoading=!0,t.search({keyword:l.keyword?l.keyword:void 0,sort:i.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount},(function(t){n.isLoading=!1,e.pageSettings.totalItems=t.totalCount,n.currentEntities=t.stores}),(function(e){a.setError("Error "+e.status,n)}))},n.selectNode=function(t){e.selectedNodeId=t.id,e.bladeClose((function(){n.onAfterNodeSelected(t)}))},n.headIcon="fa fa-archive",n.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:n.refresh,canExecuteMethod:function(){return!0}}];var l=e.filter={};l.criteriaChanged=function(){e.pageSettings.currentPage>1?e.pageSettings.currentPage=1:n.refresh()},e.setGridOptions=function(t){i.initialize(e,t,(function(t){i.bindRefreshOnSortChanged(e)})),r.initializePagination(e)}}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.vendorDetailController",["$scope",function(e){var t=e.blade;t.isNew?(t.title="customer.blades.vendor-detail.title-new",t.currentEntity=angular.extend({seoInfos:[]},t.currentEntity),t.fillDynamicProperties()):t.subtitle="customer.blades.vendor-detail.subtitle"}])},function(e,t){angular.module("virtoCommerce.customerModule.common",[]).run(["platformWebApp.metaFormsService",function(e){e.registerMetaFields("CustomeraddressDetails",[{templateUrl:"addressTypeSelector.html",priority:0},{name:"firstName",title:"core.blades.address-detail.labels.first-name",valueType:"ShortText",isRequired:!0,priority:1},{name:"lastName",title:"core.blades.address-detail.labels.last-name",valueType:"ShortText",isRequired:!0,priority:2},{templateUrl:"countrySelector.html",priority:3},{templateUrl:"countryRegionSelector.html",priority:4},{name:"city",title:"core.blades.address-detail.labels.city",valueType:"ShortText",isRequired:!0,priority:5},{name:"line1",title:"core.blades.address-detail.labels.address1",valueType:"ShortText",isRequired:!0,priority:6},{name:"line2",title:"core.blades.address-detail.labels.address2",valueType:"ShortText",priority:7},{name:"postalCode",title:"core.blades.address-detail.labels.zip-code",valueType:"ShortText",isRequired:!0,priority:8},{name:"email",title:"core.blades.address-detail.labels.email",valueType:"Email",priority:9},{name:"phone",title:"core.blades.address-detail.labels.phone",valueType:"ShortText",priority:10}])}])},function(e,t){angular.module("virtoCommerce.customerModule.common").controller("virtoCommerce.customerModule.common.coreAddressDetailController",["$scope","$filter","platformWebApp.common.countries","platformWebApp.dialogService","platformWebApp.metaFormsService","platformWebApp.bladeNavigationService",function(e,t,r,o,i,n){var a=e.blade;a.addressTypes=["Billing","Shipping","BillingAndShipping"],a.metaFields=a.metaFields&&a.metaFields.length?a.metaFields:i.getMetaFields("CustomeraddressDetails"),a.currentEntity.isNew&&(a.currentEntity.addressType=a.addressTypes[1]),a.origEntity=a.currentEntity,a.currentEntity=angular.copy(a.origEntity),a.countries=r.query(),a.defaultAddress=a.currentEntity.isDefault,a.countries.$promise.then(t=>{e.$watch("blade.currentEntity.countryCode",(e,o)=>{if(e){var i=_.findWhere(t,{id:e});i&&(a.currentEntity.countryName=i.name,e!==o&&(a.currentEntity.regionName=void 0,l=[]),i.regions?l=i.regions:r.queryRegions(e).$promise.then(e=>{i.regions=e,l.push(...e)}))}})});var l=[];function s(e,t){e.unshift({name:t,displayName:t})}function c(){return!angular.equals(a.currentEntity,a.origEntity)}function d(){return c()&&e.formScope&&e.formScope.$valid}a.currentEntity.regionName&&!a.currentEntity.regionId&&s(l,a.currentEntity.regionName),a.getRegions=function(e){var r=l;if(e&&e.length>1){var o=t("filter")(r,e);if(_.some(o)){if(o.length>1)for(var i of o=_.filter(o,t=>!t.id&&t.displayName.length>e.length))r.splice(_.indexOf(r,i),1)}else s(r,e)}return r},e.$watch("blade.currentEntity.regionName",(function(e,t){if(e!==t){var r=null;if(e){var o=_.findWhere(l,{name:e});o&&(r=o.id)}a.currentEntity.regionId=r}})),a.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:function(){a.currentEntity.isNew?0==a.numberOfAddresses(a.currentEntity.addressType)?a.currentEntity.isDefault=!0:!0===a.currentEntity.isDefault?a.searchDefaultAddress(a.currentEntity.addressType):a.currentEntity.isDefault=!1:angular.equals(a.currentEntity.addressType,a.origEntity.addressType)?a.searchDefaultAddress(a.currentEntity.addressType):(a.currentEntity.isDefault=!1,0==a.numberOfAddresses(a.currentEntity.addressType)&&(a.currentEntity.isDefault=!0),2==a.numberOfAddresses(a.origEntity.addressType)&&a.origEntity.addressType!==a.addressTypes[2]&&a.searchSecondAddress(a.origEntity.addressType,a.currentEntity.name)),a.currentEntity.addressType==a.addressTypes[2]&&(a.currentEntity.isDefault=!1),a.confirmChangesFn&&a.confirmChangesFn(a.currentEntity),angular.copy(a.currentEntity,a.origEntity),e.bladeClose()},canExecuteMethod:d,permission:a.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(a.origEntity,a.currentEntity)},canExecuteMethod:c},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var t={id:"confirmDelete",title:"core.dialogs.address-delete.title",message:"core.dialogs.address-delete.message",callback:function(t){t&&(a.deleteFn&&a.deleteFn(a.currentEntity),e.bladeClose(),1==a.numberOfAddresses(a.origEntity.addressType)&&a.currentEntity.addressType!==a.addressTypes[2]&&a.searchSecondAddress(a.origEntity.addressType,a.currentEntity.name))}};o.showConfirmationDialog(t)},canExecuteMethod:function(){return!a.currentEntity.isNew}},{name:"core.commands.default",icon:"fas fa-flag",executeMethod:function(){a.currentEntity.isDefault=!0},canExecuteMethod:function(){return"BillingAndShipping"!=a.currentEntity.addressType&&!a.currentEntity.isDefault},meta:"default"}],a.isLoading=!1,a.onClose=function(t){n.showConfirmationIfNeeded(c(),d(),a,e.saveChanges,t,"core.dialogs.address-save.title","core.dialogs.address-save.message")},e.setForm=function(t){e.formScope=t}}])},function(e,t){angular.module("virtoCommerce.customerModule.common").controller("virtoCommerce.customerModule.common.coreAddressListController",["$timeout","$scope","platformWebApp.bladeNavigationService",function(e,t,r){var o=t.blade;t.selectedItem=null,t.openDetailBlade=function(e){e||(e={isNew:!0}),t.selectedItem=e;var i={id:"coreAddressDetail",currentEntity:e,title:o.title,subtitle:"core.blades.address-detail.subtitle",controller:"virtoCommerce.customerModule.common.coreAddressDetailController",confirmChangesFn:function(e){e.name=t.getAddressName(e),e.isNew&&(e.isNew=void 0,o.currentEntities.push(e),o.confirmChangesFn&&o.confirmChangesFn(e))},deleteFn:function(e){var t=_.find(o.currentEntities,(function(t){return angular.equals(t,e)}));if(t){var r=o.currentEntities.indexOf(t);o.currentEntities.splice(r,1),o.deleteFn&&o.deleteFn(e)}},numberOfAddresses:function(e){var t=0;return o.currentEntities.find(r=>{r.addressType===e&&t++}),t},searchSecondAddress:function(e,t){o.currentEntities.find((r,i)=>{r.addressType===e&&r.name!==t&&(o.currentEntities[i].isDefault=!0)})},searchDefaultAddress:function(e){o.currentEntities.find((t,r)=>{t.addressType===e&&t.isDefault&&(o.currentEntities[r].isDefault=!1)})},template:"Modules/$(VirtoCommerce.Customer)/Scripts/common/blades/address-detail.tpl.html"};r.showBlade(i,t.blade)},t.getAddressName=function(e){return[e.countryCode,e.regionName,e.city,e.line1].join(", ")},o.headIcon=o.parentBlade.headIcon,o.toolbarCommands=[{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){t.openDetailBlade()},canExecuteMethod:function(){return!0}}],o.isLoading=!1,_.some(o.currentEntities)||e(t.openDetailBlade,60,!1)}])},function(e,t){angular.module("virtoCommerce.customerModule").directive("vcCustomerSearch",["$localStorage","platformWebApp.bladeNavigationService","virtoCommerce.customerModule.predefinedSearchFilters",function(e,t,r){return{restrict:"E",templateUrl:function(e,t){return t.templateUrl||"Modules/$(VirtoCommerce.Customer)/Scripts/directives/customerSearch.tpl.html"},scope:{blade:"="},link:function(r){var o=r.blade;r.$localStorage=e;var i=r.filter=o.filter;function n(e){var r={id:"filterDetail",controller:"virtoCommerce.customerModule.filterDetailController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/filter-detail.tpl.html"};angular.extend(r,e),t.showBlade(r,o)}e.customerSearchFilterId&&!i.keyword&&null!==i.keyword&&(i.current=_.findWhere(e.customerSearchFilters,{id:e.customerSearchFilterId}),i.keyword=i.current?i.current.keyword:"",i.searchInVariations=!!i.current&&i.current.searchInVariations),i.change=function(r){e.customerSearchFilterId=i.current?i.current.id:null,i.current&&!i.current.id?(i.current=null,n({isNew:!0})):(r||t.closeBlade({id:"filterDetail"}),i.keyword=i.current?i.current.keyword:"",i.searchInVariations=!!i.current&&i.current.searchInVariations,i.criteriaChanged())},i.edit=function(e,t){i.current=t,n({data:t})},i.criteriaChanged()}}}])},function(e,t){angular.module("virtoCommerce.customerModule").factory("virtoCommerce.customerModule.members",["$resource",function(e){return e("api/members/:id",{},{search:{method:"POST",url:"api/members/search"},update:{method:"PUT"},delete:{method:"POST",url:"api/members/delete"}})}]).factory("virtoCommerce.customerModule.organizations",["$resource",function(e){return e("api/members/organizations",{},{getByIds:{method:"GET",url:"api/organizations",isArray:!0},search:{method:"POST",url:"api/organizations/search"}})}])},function(e,t){angular.module("virtoCommerce.customerModule").factory("virtoCommerce.customerModule.memberTypesResolverService",(function(){return{objects:[],registerType:function(e){e.detailBlade=angular.extend({id:"memberDetail",metaFields:[],controller:"virtoCommerce.customerModule.memberDetailController",memberTypeDefinition:e},e.detailBlade),e.knownChildrenTypes=e.knownChildrenTypes||[],this.objects.push(e)},resolve:function(e){return _.findWhere(this.objects,{memberType:e})}}}))},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.customerAccountsWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.openBlade=function(){var r={id:"customerChildBlade",title:e.blade.title,subtitle:"customer.widgets.customer-accounts-list.blade-subtitle",controller:"virtoCommerce.customerModule.customerAccountsListController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/customer-accounts-list.tpl.html"};t.showBlade(r,e.blade)}}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.memberAddressesWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var r=e.widget.blade;e.openBlade=function(){var e={id:"orderOperationAddresses",currentEntities:r.currentEntity.addresses,title:r.title,subtitle:"customer.widgets.address-list.blade-subtitle",controller:"virtoCommerce.customerModule.common.coreAddressListController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/common/blades/address-list.tpl.html"};t.showBlade(e,r)}}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.memberEmailsWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.blade=e.widget.blade,e.openBlade=function(){var r={id:"customerChildBlade",title:e.blade.title,subtitle:"customer.widgets.member-emails-list.blade-subtitle",controller:"virtoCommerce.customerModule.memberEmailsListController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/member-emails-list.tpl.html"};t.showBlade(r,e.blade)}}])},function(e,t){angular.module("virtoCommerce.customerModule").controller("virtoCommerce.customerModule.memberPhonesWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.blade=e.widget.blade,e.openBlade=function(){var r={id:"customerChildBlade",title:e.blade.title,subtitle:"customer.widgets.member-phones-list.blade-subtitle",controller:"virtoCommerce.customerModule.memberPhonesListController",template:"Modules/$(VirtoCommerce.Customer)/Scripts/blades/member-phones-list.tpl.html"};t.showBlade(r,e.blade)}}])}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkN1c3RvbWVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIvLi9TY3JpcHRzL2N1c3RvbWVyLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIvLi9TY3JpcHRzL2JsYWRlcy9jdXN0b21lci1hY2NvdW50cy1saXN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIvLi9TY3JpcHRzL2JsYWRlcy9jdXN0b21lci1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DdXN0b21lci8uL1NjcmlwdHMvYmxhZGVzL2VtcGxveWVlLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkN1c3RvbWVyLy4vU2NyaXB0cy9ibGFkZXMvZmlsdGVyLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkN1c3RvbWVyLy4vU2NyaXB0cy9ibGFkZXMvbWVtYmVyLWFkZC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkN1c3RvbWVyLy4vU2NyaXB0cy9ibGFkZXMvbWVtYmVyLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkN1c3RvbWVyLy4vU2NyaXB0cy9ibGFkZXMvbWVtYmVyLWVtYWlscy1saXN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIvLi9TY3JpcHRzL2JsYWRlcy9tZW1iZXItbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkN1c3RvbWVyLy4vU2NyaXB0cy9ibGFkZXMvbWVtYmVyLXBob25lcy1saXN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIvLi9TY3JpcHRzL2JsYWRlcy9vcmdhbml6YXRpb24tZGV0YWlsLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIvLi9TY3JpcHRzL2JsYWRlcy9waWNrLXN0b3JlLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DdXN0b21lci8uL1NjcmlwdHMvYmxhZGVzL3ZlbmRvci1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DdXN0b21lci8uL1NjcmlwdHMvY29tbW9uL2NvbW1vbi5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkN1c3RvbWVyLy4vU2NyaXB0cy9jb21tb24vYmxhZGVzL2FkZHJlc3MtZGV0YWlsLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIvLi9TY3JpcHRzL2NvbW1vbi9ibGFkZXMvYWRkcmVzcy1saXN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIvLi9TY3JpcHRzL2RpcmVjdGl2ZXMvY3VzdG9tZXJTZWFyY2guanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DdXN0b21lci8uL1NjcmlwdHMvcmVzb3VyY2VzL21lbWJlcnMuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DdXN0b21lci8uL1NjcmlwdHMvc2VydmljZXMvbWVtYmVyVHlwZXNSZXNvbHZlci5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkN1c3RvbWVyLy4vU2NyaXB0cy93aWRnZXRzL2N1c3RvbWVyQWNjb3VudHNXaWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DdXN0b21lci8uL1NjcmlwdHMvd2lkZ2V0cy9tZW1iZXJBZGRyZXNzZXNXaWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DdXN0b21lci8uL1NjcmlwdHMvd2lkZ2V0cy9tZW1iZXJFbWFpbHNXaWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5DdXN0b21lci8uL1NjcmlwdHMvd2lkZ2V0cy9tZW1iZXJQaG9uZXNXaWRnZXQuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1bmRlZmluZWQiLCJBcHBEZXBlbmRlbmNpZXMiLCJwdXNoIiwiYW5ndWxhciIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJibGFkZU5hdmlnYXRpb25TZXJ2aWNlIiwic2hvd0JsYWRlIiwiaWQiLCJjdXJyZW50RW50aXR5IiwidGVtcGxhdGUiLCJpc0Nsb3NpbmdEaXNhYmxlZCIsImZhY3RvcnkiLCIkbG9jYWxTdG9yYWdlIiwiY3VzdG9tZXJTZWFyY2hGaWx0ZXJzIiwicmVnaXN0ZXIiLCJjdXJyZW50RmlsdGVyc1VwZGF0ZVRpbWUiLCJjdXJyZW50RmlsdGVyc1N0b3JhZ2VLZXkiLCJuZXdGaWx0ZXJzIiwiXyIsImVhY2giLCJuZXdGaWx0ZXIiLCJmb3VuZCIsImZpbmQiLCJ4IiwibGFzdFVwZGF0ZVRpbWUiLCJjb3B5Iiwic3BsaWNlIiwicnVuIiwibWFpbk1lbnVTZXJ2aWNlIiwidG9vbGJhclNlcnZpY2UiLCJicmVhZGNydW1iSGlzdG9yeVNlcnZpY2UiLCJhdXRoU2VydmljZSIsIndpZGdldFNlcnZpY2UiLCIkc3RhdGUiLCJzY29wZVJlc29sdmVyIiwibWVtYmVyVHlwZXNSZXNvbHZlclNlcnZpY2UiLCJzZXR0aW5ncyIsInByZWRlZmluZWRTZWFyY2hGaWx0ZXJzIiwibWVudUl0ZW0iLCJwYXRoIiwiaWNvbiIsInRpdGxlIiwicHJpb3JpdHkiLCJhY3Rpb24iLCJnbyIsInBlcm1pc3Npb24iLCJhZGRNZW51SXRlbSIsImdldEJhY2tCdXR0b25JbnN0YW5jZSIsImFjY291bnRzV2lkZ2V0IiwiaXNWaXNpYmxlIiwiYmxhZGUiLCJpc05ldyIsImFkZHJlc3Nlc1dpZGdldCIsImVtYWlsc1dpZGdldCIsInBob25lc1dpZGdldCIsImR5bmFtaWNQcm9wZXJ0eVdpZGdldCIsImNoZWNrUGVybWlzc2lvbiIsInZlbmRvclNlb1dpZGdldCIsIm9iamVjdFR5cGUiLCJnZXREZWZhdWx0Q29udGFpbmVySWQiLCJnZXRMYW5ndWFnZXMiLCJnZXRWYWx1ZXMiLCJpbmRleFdpZGdldCIsImRvY3VtZW50VHlwZSIsInJlZ2lzdGVyV2lkZ2V0IiwicmVnaXN0ZXJUeXBlIiwibWVtYmVyVHlwZSIsImRlc2NyaXB0aW9uIiwiZnVsbFR5cGVOYW1lIiwiZGV0YWlsQmxhZGUiLCJtZXRhRmllbGRzMCIsInBsYWNlaG9sZGVyIiwiaXNSZXF1aXJlZCIsInNwYW5BbGxDb2x1bW5zIiwidmFsdWVUeXBlIiwibWV0YUZpZWxkcyIsImtub3duQ2hpbGRyZW5UeXBlcyIsImNvbFNwYW4iLCJkaXNhYmxlZCIsImtleXdvcmQiLCJ0eXBlIiwiZGlhbG9nU2VydmljZSIsInVpR3JpZEhlbHBlciIsImZpbHRlckZpbHRlciIsImFjY291bnRzIiwidWlHcmlkQ29uc3RhbnRzIiwib3Blbk5ld0FjY291bnRXaXphcmQiLCJzdG9yZSIsIm5ld0JsYWRlIiwicm9sZXMiLCJ1c2VyVHlwZSIsInN0b3JlSWQiLCJtZW1iZXJJZCIsInN1YnRpdGxlIiwicmVmcmVzaCIsImlzTG9hZGluZyIsInBhcmVudEJsYWRlIiwic2VsZWN0Tm9kZSIsIm5vZGUiLCJzZWxlY3RlZE5vZGVJZCIsInVzZXJOYW1lIiwiZGF0YSIsInNldEVycm9yIiwiZGVsZXRlTGlzdCIsInNlbGVjdGlvbiIsImRpYWxvZyIsIm1lc3NhZ2UiLCJjYWxsYmFjayIsInJlbW92ZSIsImNsb3NlQ2hpbGRyZW5CbGFkZXMiLCJpdGVtSWRzIiwicGx1Y2siLCJuYW1lcyIsInNob3dDb25maXJtYXRpb25EaWFsb2ciLCJoZWFkSWNvbiIsInRvb2xiYXJDb21tYW5kcyIsImV4ZWN1dGVNZXRob2QiLCJvbkFmdGVyTm9kZVNlbGVjdGVkIiwiY2FuRXhlY3V0ZU1ldGhvZCIsImdyaWRBcGkiLCJnZXRTZWxlY3RlZFJvd3MiLCJhbnkiLCJzZXRHcmlkT3B0aW9ucyIsImdyaWRPcHRpb25zIiwiaW5pdGlhbGl6ZSIsImdyaWQiLCJyZWdpc3RlclJvd3NQcm9jZXNzb3IiLCJzaW5nbGVGaWx0ZXIiLCJyZW5kZXJhYmxlUm93cyIsInZpc2libGVDb3VudCIsImZvckVhY2giLCJyb3ciLCJ2aXNpYmxlIiwiZW50aXR5Iiwic2VhcmNoVGV4dCIsImZpbHRlcmVkRW50aXRpZXNDb3VudCIsIiR3YXRjaCIsImN1cnJlbnRFbnRpdGllcyIsInNlY3VyaXR5QWNjb3VudHMiLCJvcmlnRW50aXR5IiwidGltZVpvbmVzIiwiZXh0ZW5kIiwib3JnYW5pemF0aW9ucyIsImZpbGxEeW5hbWljUHJvcGVydGllcyIsImRhdGVwaWNrZXJzIiwidG9kYXkiLCJEYXRlIiwib3BlbiIsIiRldmVudCIsIndoaWNoIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJxdWVyeSIsImdyb3VwcyIsIm9wZW5Hcm91cHNEaWN0aW9uYXJ5U2V0dGluZ01hbmFnZW1lbnQiLCJpc0FwaVNhdmUiLCJjdXJyZW50RW50aXR5SWQiLCJwYXJlbnRSZWZyZXNoIiwiZmV0Y2hDdXN0b21lck9yZ2FuaXphdGlvbnMiLCIkc2VsZWN0IiwiZmV0Y2hPcmdhbml6YXRpb25zIiwidGhlbiIsImN1c3RvbWVyT3JnYW5pemF0aW9ucyIsImZldGNoQXNzb2NpYXRlZE9yZ2FuaXphdGlvbnMiLCJhc3NvY2lhdGVkT3JnYW5pemF0aW9ucyIsImZldGNoTmV4dEN1c3RvbWVyT3JnYW5pemF0aW9ucyIsImZldGNoTmV4dE9yZ2FuaXphdGlvbnMiLCJmZXRjaE5leHRBc3NvY2lhdGVkT3JnYW5pemF0aW9ucyIsImlzQWN0aXZlIiwiJHRyYW5zbGF0ZSIsImZvcm1TY29wZSIsImluaXRpYWxpemVCbGFkZSIsInNhdmVDaGFuZ2VzIiwiZ2V0VGltZSIsImN1c3RvbWVyU2VhcmNoRmlsdGVySWQiLCJmaWx0ZXIiLCJjdXJyZW50IiwiY2hhbmdlIiwic2V0Rm9ybSIsImZvcm0iLCIkdmFsaWQiLCJlcXVhbHMiLCJpbmRleE9mIiwicmVzdWx0IiwiYWRkTWVtYmVyIiwiYmxhZGVDbG9zZSIsInNob3dEZXRhaWxCbGFkZSIsInBhcmVudFR5cGUiLCJyZXNvbHZlIiwiYXZhaWxhYmxlVHlwZXMiLCJtYXAiLCJvYmplY3RzIiwiJHEiLCJtZW1iZXJzIiwiZHluYW1pY1Byb3BlcnRpZXNBcGkiLCJvcmdhbml6YXRpb25zUmVzb3VyY2UiLCJjdXN0b21Jbml0aWFsaXplIiwiaXNEaXJ0eSIsImhhc1VwZGF0ZVBlcm1pc3Npb24iLCJjYW5TYXZlIiwibG9hZEN1c3RvbWVyT3JnYW5pemF0aW9ucyIsImxlbmd0aCIsImdldEJ5SWRzIiwiaWRzIiwiam9pbk9yZ2FuaXphdGlvbnMiLCIkcHJvbWlzZSIsInJlamVjdCIsInkiLCJjb25jYXQiLCJ1cGRhdGVQZXJtaXNzaW9uIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJhZGRyZXNzZXMiLCJwaG9uZXMiLCJlbWFpbHMiLCJvcGVuU3RhdHVzU2V0dGluZ01hbmFnZW1lbnQiLCJzdGF0dXNlcyIsImxvYWRTdGF0dXNlcyIsImFsbG93ZWRWYWx1ZXMiLCJzdGF0dXMiLCJkZWZhdWx0VmFsdWUiLCJtZW1iZXJUeXBlRGVmaW5pdGlvbiIsInJlc3VsdHMiLCJkaXNwbGF5TmFtZXMiLCJ2YWx1ZXMiLCJzYXZlIiwidXBkYXRlIiwib25DbG9zZSIsImNsb3NlQ2FsbGJhY2siLCJzaG93Q29uZmlybWF0aW9uSWZOZWVkZWQiLCJwYWdlU2l6ZSIsInBhZ2UiLCJhbGwiLCJzZWFyY2giLCJyZXNwb25zZUdyb3VwIiwic2VhcmNoUGhyYXNlIiwiZGVlcFNlYXJjaCIsInRha2UiLCJza2lwIiwidHJhbnNmb3JtRGF0YUVsZW1lbnQiLCJzZWxlY3RlZEl0ZW0iLCJzZWxlY3RJdGVtIiwibGlzdEl0ZW0iLCJjYW5jZWxDaGFuZ2VzIiwiaWR4IiwiYmxhZGVVdGlscyIsImdyaWRPcHRpb25FeHRlbnNpb24iLCJnZW5lcmF0ZUJyZWFkY3J1bWIiLCJuYXZpZ2F0ZSIsImJyZWFkY3J1bWIiLCJkaXNhYmxlT3BlbkFuaW1hdGlvbiIsIm1lbWJlcklkcyIsImdldFNlbGVjdEFsbFN0YXRlIiwic2VhcmNoQ3JpdGVyaWEiLCJnZXRTZWFyY2hDcml0ZXJpYSIsImRlbGV0ZSIsImNsZWFyU2VsZWN0ZWRSb3dzIiwicGFnZVNldHRpbmdzIiwidG90YWxJdGVtcyIsInRvdGFsQ291bnQiLCJfbWVtYmVyVHlwZUljb24iLCJBcnJheSIsImlzQXJyYXkiLCJvdXRlcklkIiwibGlzdEVudHJpZXMiLCJicmVhZGNydW1icyIsInNsaWNlIiwiYnJlYWRDcnVtYiIsInNldEJyZWFkY3J1bWJzIiwic2V0U2VsZWN0ZWROb2RlIiwiZm91bmRUZW1wbGF0ZSIsInNob3dOb3RpZmljYXRpb25EaWFsb2ciLCJtZXNzYWdlVmFsdWVzIiwic3VidGl0bGVWYWx1ZXMiLCJzb3J0IiwiZ2V0U29ydEV4cHJlc3Npb24iLCJjdXJyZW50UGFnZSIsIml0ZW1zUGVyUGFnZUNvdW50IiwiY3JpdGVyaWFDaGFuZ2VkIiwiZ3JpZElkIiwidHJ5RXh0ZW5kR3JpZE9wdGlvbnMiLCJvblJlZ2lzdGVyQXBpIiwiY29yZSIsIm9uIiwic29ydENoYW5nZWQiLCJpbml0aWFsaXplUGFnaW5hdGlvbiIsInBhcmVudElkIiwic3RvcmVzIiwiZXJyb3IiLCJiaW5kUmVmcmVzaE9uU29ydENoYW5nZWQiLCJzZW9JbmZvcyIsIm1ldGFGb3Jtc1NlcnZpY2UiLCJyZWdpc3Rlck1ldGFGaWVsZHMiLCIkZmlsdGVyIiwiY291bnRyaWVzIiwiYWRkcmVzc1R5cGVzIiwiZ2V0TWV0YUZpZWxkcyIsImFkZHJlc3NUeXBlIiwiZGVmYXVsdEFkZHJlc3MiLCJpc0RlZmF1bHQiLCJhbGxDb3VudHJpZXMiLCJjb3VudHJ5Q29kZSIsIm9sZCIsImNvdW50cnkiLCJmaW5kV2hlcmUiLCJjb3VudHJ5TmFtZSIsInJlZ2lvbk5hbWUiLCJjdXJyZW50UmVnaW9ucyIsInJlZ2lvbnMiLCJxdWVyeVJlZ2lvbnMiLCJhZGRSZWdpb24iLCJ1bnNoaWZ0IiwiZGlzcGxheU5hbWUiLCJyZWdpb25JZCIsImdldFJlZ2lvbnMiLCJmaWx0ZXJlZCIsInNvbWUiLCJuZXdJZCIsInJlZ2lvbiIsIm51bWJlck9mQWRkcmVzc2VzIiwic2VhcmNoRGVmYXVsdEFkZHJlc3MiLCJzZWFyY2hTZWNvbmRBZGRyZXNzIiwiY29uZmlybUNoYW5nZXNGbiIsImRlbGV0ZUZuIiwibWV0YSIsIiR0aW1lb3V0Iiwib3BlbkRldGFpbEJsYWRlIiwiYWRkcmVzcyIsImdldEFkZHJlc3NOYW1lIiwidG9SZW1vdmUiLCJjb3VudCIsImRlZkFkZHJlc3MiLCJjaXR5IiwibGluZTEiLCJqb2luIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJlbGVtIiwiYXR0cnMiLCJzY29wZSIsImxpbmsiLCJzaG93RmlsdGVyRGV0YWlsQmxhZGUiLCJibGFkZURhdGEiLCJzZWFyY2hJblZhcmlhdGlvbnMiLCJpc0RldGFpbEJsYWRlT3BlbiIsImNsb3NlQmxhZGUiLCJlZGl0IiwiZW50cnkiLCIkcmVzb3VyY2UiLCJtZXRob2QiLCJ0aGlzIiwib3BlbkJsYWRlIiwid2lkZ2V0Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFH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QUNYakYsR0FBSSxxQkFDSmtDLE1BQU9yQyxFQUFPOEMsTUFBTVQsTUFDcEJvRCxTQUFVLHFEQUNWMUYsV0FBWSwwREFDWk0sU0FBVSxnRkFFZEosRUFBdUJDLFVBQVVrRixFQUFVcEYsRUFBTzhDIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8vQ2FsbCB0aGlzIHRvIHJlZ2lzdGVyIG91ciBtb2R1bGUgdG8gbWFpbiBhcHBsaWNhdGlvblxyXG52YXIgbW9kdWxlTmFtZSA9IFwidmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZVwiO1xyXG5cclxuaWYgKEFwcERlcGVuZGVuY2llcyAhPSB1bmRlZmluZWQpIHtcclxuICAgIEFwcERlcGVuZGVuY2llcy5wdXNoKG1vZHVsZU5hbWUpO1xyXG59XHJcblxyXG5hbmd1bGFyLm1vZHVsZShtb2R1bGVOYW1lLCBbJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUuY29tbW9uJ10pXHJcbiAgICAuY29uZmlnKFxyXG4gICAgICAgIFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnd29ya3NwYWNlLmN1c3RvbWVyTW9kdWxlJywge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9jdXN0b21lcnMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9jb21tb24vdGVtcGxhdGVzL2hvbWUudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbWVtYmVyTGlzdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogeyBpZDogbnVsbCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlckxpc3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyKS9TY3JpcHRzL2JsYWRlcy9tZW1iZXItbGlzdC50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDbG9zaW5nRGlzYWJsZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XVxyXG4gICAgKVxyXG4gICAgLy8gZGVmaW5lIHNlYXJjaCBmaWx0ZXJzIHRvIGJlIGFjY2Vzc2libGUgcGxhdGZvcm0td2lkZVxyXG4gICAgLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUucHJlZGVmaW5lZFNlYXJjaEZpbHRlcnMnLCBbJyRsb2NhbFN0b3JhZ2UnLCBmdW5jdGlvbiAoJGxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICRsb2NhbFN0b3JhZ2UuY3VzdG9tZXJTZWFyY2hGaWx0ZXJzID0gJGxvY2FsU3RvcmFnZS5jdXN0b21lclNlYXJjaEZpbHRlcnMgfHwgW107XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiAoY3VycmVudEZpbHRlcnNVcGRhdGVUaW1lLCBjdXJyZW50RmlsdGVyc1N0b3JhZ2VLZXksIG5ld0ZpbHRlcnMpIHtcclxuICAgICAgICAgICAgICAgIF8uZWFjaChuZXdGaWx0ZXJzLCBmdW5jdGlvbiAobmV3RmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gXy5maW5kKCRsb2NhbFN0b3JhZ2UuY3VzdG9tZXJTZWFyY2hGaWx0ZXJzLCBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geC5pZCA9PSBuZXdGaWx0ZXIuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQubGFzdFVwZGF0ZVRpbWUgfHwgZm91bmQubGFzdFVwZGF0ZVRpbWUgPCBjdXJyZW50RmlsdGVyc1VwZGF0ZVRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShuZXdGaWx0ZXIsIGZvdW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoISRsb2NhbFN0b3JhZ2VbY3VycmVudEZpbHRlcnNTdG9yYWdlS2V5XSB8fCAkbG9jYWxTdG9yYWdlW2N1cnJlbnRGaWx0ZXJzU3RvcmFnZUtleV0gPCBjdXJyZW50RmlsdGVyc1VwZGF0ZVRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2FsU3RvcmFnZS5jdXN0b21lclNlYXJjaEZpbHRlcnMuc3BsaWNlKDAsIDAsIG5ld0ZpbHRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGxvY2FsU3RvcmFnZVtjdXJyZW50RmlsdGVyc1N0b3JhZ2VLZXldID0gY3VycmVudEZpbHRlcnNVcGRhdGVUaW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKVxyXG4gICAgLnJ1bihcclxuICAgICAgICBbJ3BsYXRmb3JtV2ViQXBwLm1haW5NZW51U2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC50b29sYmFyU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5icmVhZGNydW1iSGlzdG9yeVNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYXV0aFNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAud2lkZ2V0U2VydmljZScsICckc3RhdGUnLCAncGxhdGZvcm1XZWJBcHAucGVybWlzc2lvblNjb3BlUmVzb2x2ZXInLCAndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5tZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLnByZWRlZmluZWRTZWFyY2hGaWx0ZXJzJyxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKG1haW5NZW51U2VydmljZSwgdG9vbGJhclNlcnZpY2UsIGJyZWFkY3J1bWJIaXN0b3J5U2VydmljZSwgYXV0aFNlcnZpY2UsIHdpZGdldFNlcnZpY2UsICRzdGF0ZSwgc2NvcGVSZXNvbHZlciwgbWVtYmVyVHlwZXNSZXNvbHZlclNlcnZpY2UsIHNldHRpbmdzLCBwcmVkZWZpbmVkU2VhcmNoRmlsdGVycykge1xyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciBtb2R1bGUgaW4gbWFpbiBtZW51XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVudUl0ZW0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJ2Jyb3dzZS9tZW1iZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtYWRkcmVzcy1jYXJkJyxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2N1c3RvbWVyLm1haW4tbWVudS10aXRsZScsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6IDE4MCxcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpIHsgJHN0YXRlLmdvKCd3b3Jrc3BhY2UuY3VzdG9tZXJNb2R1bGUnKTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnY3VzdG9tZXI6YWNjZXNzJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIG1haW5NZW51U2VydmljZS5hZGRNZW51SXRlbShtZW51SXRlbSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgYmFjay1idXR0b25cclxuICAgICAgICAgICAgICAgIHRvb2xiYXJTZXJ2aWNlLnJlZ2lzdGVyKGJyZWFkY3J1bWJIaXN0b3J5U2VydmljZS5nZXRCYWNrQnV0dG9uSW5zdGFuY2UoKSwgJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVyTGlzdENvbnRyb2xsZXInKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgcmVxdWlyZWQgV0lER0VUU1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjY291bnRzV2lkZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24gKGJsYWRlKSB7IHJldHVybiAhYmxhZGUuaXNOZXc7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUuY3VzdG9tZXJBY2NvdW50c1dpZGdldENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIpL1NjcmlwdHMvd2lkZ2V0cy9jdXN0b21lckFjY291bnRzV2lkZ2V0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBhZGRyZXNzZXNXaWRnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVyQWRkcmVzc2VzV2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DdXN0b21lcikvU2NyaXB0cy93aWRnZXRzL21lbWJlckFkZHJlc3Nlc1dpZGdldC50cGwuaHRtbCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgZW1haWxzV2lkZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlckVtYWlsc1dpZGdldENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIpL1NjcmlwdHMvd2lkZ2V0cy9tZW1iZXJFbWFpbHNXaWRnZXQudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHBob25lc1dpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5tZW1iZXJQaG9uZXNXaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyKS9TY3JpcHRzL3dpZGdldHMvbWVtYmVyUGhvbmVzV2lkZ2V0LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlXaWRnZXQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BsYXRmb3JtV2ViQXBwLmR5bmFtaWNQcm9wZXJ0eVdpZGdldENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvZHluYW1pY1Byb3BlcnRpZXMvd2lkZ2V0cy9keW5hbWljUHJvcGVydHlXaWRnZXQudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24gKGJsYWRlKSB7IHJldHVybiAhYmxhZGUuaXNOZXcgJiYgYXV0aFNlcnZpY2UuY2hlY2tQZXJtaXNzaW9uKCdwbGF0Zm9ybTpkeW5hbWljX3Byb3BlcnRpZXM6cmVhZCcpOyB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIHZlbmRvclNlb1dpZGdldCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jb3JlTW9kdWxlLnNlby5zZW9XaWRnZXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNvcmUpL1NjcmlwdHMvU0VPL3dpZGdldHMvc2VvV2lkZ2V0LnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiAnVmVuZG9yJyxcclxuICAgICAgICAgICAgICAgICAgICBnZXREZWZhdWx0Q29udGFpbmVySWQ6IGZ1bmN0aW9uIChibGFkZSkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGdldExhbmd1YWdlczogZnVuY3Rpb24gKGJsYWRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5nZXRWYWx1ZXMoeyBpZDogJ1ZpcnRvQ29tbWVyY2UuQ29yZS5HZW5lcmFsLkxhbmd1YWdlcycgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIChibGFkZSkgeyByZXR1cm4gIWJsYWRlLmlzTmV3OyB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4V2lkZ2V0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50VHlwZTogJ01lbWJlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uuc2VhcmNoTW9kdWxlLmluZGV4V2lkZ2V0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5TZWFyY2gpL1NjcmlwdHMvd2lkZ2V0cy9pbmRleC13aWRnZXQudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24gKGJsYWRlKSB7IHJldHVybiAhYmxhZGUuaXNOZXc7IH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciB3aWRnZXRzIGluIGN1c3RvbWVyIGRldGFpbHNcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoYWNjb3VudHNXaWRnZXQsICdjdXN0b21lckRldGFpbDEnKTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoYWRkcmVzc2VzV2lkZ2V0LCAnY3VzdG9tZXJEZXRhaWwxJyk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGVtYWlsc1dpZGdldCwgJ2N1c3RvbWVyRGV0YWlsMScpO1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChwaG9uZXNXaWRnZXQsICdjdXN0b21lckRldGFpbDInKTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoZHluYW1pY1Byb3BlcnR5V2lkZ2V0LCAnY3VzdG9tZXJEZXRhaWwyJyk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGluZGV4V2lkZ2V0LCAnY3VzdG9tZXJEZXRhaWwyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciB3aWRnZXRzIGluIG9yZ2FuaXphdGlvbiBkZXRhaWxzXHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGFkZHJlc3Nlc1dpZGdldCwgJ29yZ2FuaXphdGlvbkRldGFpbDEnKTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoZW1haWxzV2lkZ2V0LCAnb3JnYW5pemF0aW9uRGV0YWlsMScpO1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChwaG9uZXNXaWRnZXQsICdvcmdhbml6YXRpb25EZXRhaWwxJyk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGR5bmFtaWNQcm9wZXJ0eVdpZGdldCwgJ29yZ2FuaXphdGlvbkRldGFpbDInKTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoaW5kZXhXaWRnZXQsICdvcmdhbml6YXRpb25EZXRhaWwyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciB3aWRnZXRzIGluIGVtcGxveWVlIGRldGFpbHNcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoYWNjb3VudHNXaWRnZXQsICdlbXBsb3llZURldGFpbDEnKTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoYWRkcmVzc2VzV2lkZ2V0LCAnZW1wbG95ZWVEZXRhaWwxJyk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGVtYWlsc1dpZGdldCwgJ2VtcGxveWVlRGV0YWlsMScpO1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChwaG9uZXNXaWRnZXQsICdlbXBsb3llZURldGFpbDInKTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoZHluYW1pY1Byb3BlcnR5V2lkZ2V0LCAnZW1wbG95ZWVEZXRhaWwyJyk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGluZGV4V2lkZ2V0LCAnZW1wbG95ZWVEZXRhaWwyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9SZWdpc3RlciB3aWRnZXRzIGluIHZlbmRvciBkZXRhaWxzXHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGFjY291bnRzV2lkZ2V0LCAndmVuZG9yRGV0YWlsMScpO1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChhZGRyZXNzZXNXaWRnZXQsICd2ZW5kb3JEZXRhaWwxJyk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGVtYWlsc1dpZGdldCwgJ3ZlbmRvckRldGFpbDEnKTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQocGhvbmVzV2lkZ2V0LCAndmVuZG9yRGV0YWlsMScpO1xyXG4gICAgICAgICAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChkeW5hbWljUHJvcGVydHlXaWRnZXQsICd2ZW5kb3JEZXRhaWwyJyk7XHJcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHZlbmRvclNlb1dpZGdldCwgJ3ZlbmRvckRldGFpbDInKTtcclxuICAgICAgICAgICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoaW5kZXhXaWRnZXQsICd2ZW5kb3JEZXRhaWwyJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgbWVtYmVyIHR5cGVzXHJcbiAgICAgICAgICAgICAgICBtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZS5yZWdpc3RlclR5cGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlclR5cGU6ICdPcmdhbml6YXRpb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnY3VzdG9tZXIuYmxhZGVzLm1lbWJlci1hZGQub3JnYW5pemF0aW9uLmRlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICBmdWxsVHlwZU5hbWU6ICdWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyTW9kdWxlLkNvcmUuTW9kZWwuT3JnYW5pemF0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLWJ1aWxkaW5nJyxcclxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxCbGFkZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyKS9TY3JpcHRzL2JsYWRlcy9vcmdhbml6YXRpb24tZGV0YWlsLnRwbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YUZpZWxkczA6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbmFtZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMub3JnYW5pemF0aW9uLWRldGFpbC5sYWJlbHMubmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiY3VzdG9tZXIuYmxhZGVzLm9yZ2FuaXphdGlvbi1kZXRhaWwucGxhY2Vob2xkZXJzLm5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuQWxsQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJTaG9ydFRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuQWxsQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImdyb3Vwcy5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbkFsbENvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJzdGF0dXMuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhRmllbGRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2J1c2luZXNzQ2F0ZWdvcnknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY3VzdG9tZXIuYmxhZGVzLm9yZ2FuaXphdGlvbi1kZXRhaWwubGFiZWxzLmJ1c2luZXNzLWNhdGVnb3J5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuQWxsQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJTaG9ydFRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZGVzY3JpcHRpb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY3VzdG9tZXIuYmxhZGVzLm9yZ2FuaXphdGlvbi1kZXRhaWwubGFiZWxzLmRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjdXN0b21lci5ibGFkZXMub3JnYW5pemF0aW9uLWRldGFpbC5wbGFjZWhvbGRlcnMuZGVzY3JpcHRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5BbGxDb2x1bW5zOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIkxvbmdUZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGtub3duQ2hpbGRyZW5UeXBlczogWydPcmdhbml6YXRpb24nLCAnRW1wbG95ZWUnLCAnQ29udGFjdCddXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG1lbWJlclR5cGVzUmVzb2x2ZXJTZXJ2aWNlLnJlZ2lzdGVyVHlwZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyVHlwZTogJ0VtcGxveWVlJyxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ2N1c3RvbWVyLmJsYWRlcy5tZW1iZXItYWRkLmVtcGxveWVlLmRlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICBmdWxsVHlwZU5hbWU6ICdWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyTW9kdWxlLkNvcmUuTW9kZWwuRW1wbG95ZWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYXMgZmEtdXNlci10aWUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbEJsYWRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIpL1NjcmlwdHMvYmxhZGVzL2VtcGxveWVlLWRldGFpbC50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFGaWVsZHMwOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY3VzdG9tZXIuYmxhZGVzLmVtcGxveWVlLWRldGFpbC5sYWJlbHMuZmlyc3QtbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiZmlyc3ROYW1lLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbWlkZGxlTmFtZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuZW1wbG95ZWUtZGV0YWlsLmxhYmVscy5taWRkbGUtbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiY3VzdG9tZXIuYmxhZGVzLmVtcGxveWVlLWRldGFpbC5wbGFjZWhvbGRlcnMubWlkZGxlLW5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJTaG9ydFRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuZW1wbG95ZWUtZGV0YWlsLmxhYmVscy5sYXN0LW5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImxhc3ROYW1lLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuZW1wbG95ZWUtZGV0YWlsLmxhYmVscy5mdWxsLW5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImZ1bGxOYW1lLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuQWxsQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInN0YXR1cy5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFGaWVsZHM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbWVtYmVyVHlwZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuZW1wbG95ZWUtZGV0YWlsLmxhYmVscy50eXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjdXN0b21lci5ibGFkZXMuZW1wbG95ZWUtZGV0YWlsLnBsYWNlaG9sZGVycy50eXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiU2hvcnRUZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5lbXBsb3llZS1kZXRhaWwubGFiZWxzLmJpcnRoZGF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjdXN0b21lci5ibGFkZXMuZW1wbG95ZWUtZGV0YWlsLnBsYWNlaG9sZGVycy5iaXJ0aGRheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiYmlydGhEYXRlLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY3VzdG9tZXIuYmxhZGVzLmVtcGxveWVlLWRldGFpbC5sYWJlbHMub3JnYW5pemF0aW9uc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwib3JnYW5pemF0aW9ucy5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5lbXBsb3llZS1kZXRhaWwubGFiZWxzLnRpbWV6b25lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJ0aW1lWm9uZS5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2RlZmF1bHRMYW5ndWFnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuZW1wbG95ZWUtZGV0YWlsLmxhYmVscy5kZWZhdWx0TGFuZ3VhZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImN1c3RvbWVyLmJsYWRlcy5lbXBsb3llZS1kZXRhaWwucGxhY2Vob2xkZXJzLmRlZmF1bHRMYW5ndWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIlNob3J0VGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwaG90b1VybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuZW1wbG95ZWUtZGV0YWlsLmxhYmVscy5waG90by11cmxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImN1c3RvbWVyLmJsYWRlcy5lbXBsb3llZS1kZXRhaWwucGxhY2Vob2xkZXJzLnBob3RvLXVybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIlVybFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZS5yZWdpc3RlclR5cGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlclR5cGU6ICdDb250YWN0JyxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ2N1c3RvbWVyLmJsYWRlcy5tZW1iZXItYWRkLmNvbnRhY3QuZGVzY3JpcHRpb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxUeXBlTmFtZTogJ1ZpcnRvQ29tbWVyY2UuQ3VzdG9tZXJNb2R1bGUuQ29yZS5Nb2RlbC5Db250YWN0JyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFyIGZhLXNtaWxlJyxcclxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxCbGFkZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyKS9TY3JpcHRzL2JsYWRlcy9jdXN0b21lci1kZXRhaWwudHBsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhRmllbGRzMDogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMuZmlyc3QtbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiZmlyc3ROYW1lLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuY29udGFjdC1kZXRhaWwubGFiZWxzLmxhc3QtbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwibGFzdE5hbWUuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMuZnVsbC1uYW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJmdWxsTmFtZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xTcGFuOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuQWxsQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInN0YXR1cy5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiZ3JvdXBzLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnc2FsdXRhdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuY29udGFjdC1kZXRhaWwubGFiZWxzLnNhbHV0YXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5wbGFjZWhvbGRlcnMuc2FsdXRhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIlNob3J0VGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhRmllbGRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMub3JnYW5pemF0aW9uc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwib3JnYW5pemF0aW9ucy5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMuYXNzb2NpYXRlZC1vcmdhbml6YXRpb25zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJhc3NvY2lhdGVkT3JnYW5pemF0aW9ucy5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMuYmlydGhkYXlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImJpcnRoRGF0ZS5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sU3BhbjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMudGltZXpvbmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInRpbWVab25lLmh0bWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZGVmYXVsdExhbmd1YWdlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMuZGVmYXVsdExhbmd1YWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjdXN0b21lci5ibGFkZXMuY29udGFjdC1kZXRhaWwucGxhY2Vob2xkZXJzLmRlZmF1bHRMYW5ndWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIlNob3J0VGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICd0YXhQYXllcklkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMudGF4cGF5ZXJJZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiY3VzdG9tZXIuYmxhZGVzLmNvbnRhY3QtZGV0YWlsLnBsYWNlaG9sZGVycy5wcmVmZXJyZWQtZGVsaXZlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJTaG9ydFRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAncHJlZmVycmVkQ29tbXVuaWNhdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5ibGFkZXMuY29udGFjdC1kZXRhaWwubGFiZWxzLnByZWZlcnJlZC1jb21tdW5pY2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjdXN0b21lci5ibGFkZXMuY29udGFjdC1kZXRhaWwucGxhY2Vob2xkZXJzLnByZWZlcnJlZC1jb21tdW5pY2F0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiU2hvcnRUZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3ByZWZlcnJlZERlbGl2ZXJ5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy5jb250YWN0LWRldGFpbC5sYWJlbHMucHJlZmVycmVkLWRlbGl2ZXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjdXN0b21lci5ibGFkZXMuY29udGFjdC1kZXRhaWwucGxhY2Vob2xkZXJzLnByZWZlcnJlZC1kZWxpdmVyeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIlNob3J0VGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZS5yZWdpc3RlclR5cGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlclR5cGU6ICdWZW5kb3InLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnY3VzdG9tZXIuYmxhZGVzLm1lbWJlci1hZGQudmVuZG9yLmRlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICBmdWxsVHlwZU5hbWU6ICdWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyTW9kdWxlLkNvcmUuTW9kZWwuVmVuZG9yJyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLWJyaWVmY2FzZScsXHJcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsQmxhZGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DdXN0b21lcikvU2NyaXB0cy9ibGFkZXMvdmVuZG9yLWRldGFpbC50cGwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFGaWVsZHMwOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ25hbWUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY3VzdG9tZXIuYmxhZGVzLnZlbmRvci1kZXRhaWwubGFiZWxzLm5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImN1c3RvbWVyLmJsYWRlcy52ZW5kb3ItZGV0YWlsLnBsYWNlaG9sZGVycy5uYW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbkFsbENvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiU2hvcnRUZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbkFsbENvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJzdGF0dXMuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhRmllbGRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3NpdGVVcmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY3VzdG9tZXIuYmxhZGVzLnZlbmRvci1kZXRhaWwubGFiZWxzLnNpdGUtdXJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjdXN0b21lci5ibGFkZXMudmVuZG9yLWRldGFpbC5wbGFjZWhvbGRlcnMuc2l0ZS11cmxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5BbGxDb2x1bW5zOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBcIlVybFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdsb2dvVXJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy52ZW5kb3ItZGV0YWlsLmxhYmVscy5sb2dvLXVybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiY3VzdG9tZXIuYmxhZGVzLnZlbmRvci1kZXRhaWwucGxhY2Vob2xkZXJzLmxvZ28tdXJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuQWxsQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJVcmxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZ3JvdXBOYW1lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy52ZW5kb3ItZGV0YWlsLmxhYmVscy5ncm91cC1uYW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJjdXN0b21lci5ibGFkZXMudmVuZG9yLWRldGFpbC5wbGFjZWhvbGRlcnMuZ3JvdXAtbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbkFsbENvbHVtbnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiU2hvcnRUZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImN1c3RvbWVyLmJsYWRlcy52ZW5kb3ItZGV0YWlsLmxhYmVscy5kZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiY3VzdG9tZXIuYmxhZGVzLnZlbmRvci1kZXRhaWwucGxhY2Vob2xkZXJzLmRlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuQWxsQ29sdW1uczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJMb25nVGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFRpbWVNb2RpZmljYXRpb25EYXRlID0gMTU4MzIzNTUzNTU0MDtcclxuICAgICAgICAgICAgICAgIC8vIHByZWRlZmluZSBzZWFyY2ggZmlsdGVycyBmb3IgY3VzdG9tZXIgc2VhcmNoXHJcbiAgICAgICAgICAgICAgICBwcmVkZWZpbmVkU2VhcmNoRmlsdGVycy5yZWdpc3RlcihsYXN0VGltZU1vZGlmaWNhdGlvbkRhdGUsICdjdXN0b21lclNlYXJjaEZpbHRlcnNEYXRlJywgW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2N1c3RvbWVyLmJsYWRlcy5tZW1iZXItbGlzdC5sYWJlbHMuZmlsdGVyLW5ldycgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleXdvcmQ6ICdtZW1iZXJ0eXBlOlZlbmRvcicsIGlkOiAzLCBuYW1lOiAnY3VzdG9tZXIuYmxhZGVzLm1lbWJlci1saXN0LmxhYmVscy5maWx0ZXItdmVuZG9yJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsga2V5d29yZDogJ21lbWJlcnR5cGU6Q29udGFjdCcsIGlkOiAyLCBuYW1lOiAnY3VzdG9tZXIuYmxhZGVzLm1lbWJlci1saXN0LmxhYmVscy5maWx0ZXItY29udGFjdCcgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IGtleXdvcmQ6ICdtZW1iZXJ0eXBlOk9yZ2FuaXphdGlvbicsIGlkOiAxLCBuYW1lOiAnY3VzdG9tZXIuYmxhZGVzLm1lbWJlci1saXN0LmxhYmVscy5maWx0ZXItb3JnYW5pemF0aW9uJyB9XHJcbiAgICAgICAgICAgICAgICBdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RlciBwZXJtaXNzaW9uIHNjb3Blc1xyXG4gICAgICAgICAgICAgICAgdmFyIGFzc29jaWF0ZWRPcmdhbml6YXRpb25zT25seVNjb3BlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdBc3NvY2lhdGVkT3JnYW5pemF0aW9uc09ubHlTY29wZScsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPbmx5IGZvciBhc3NvY2lhdGVkIG9yZ2FuaXphdGlvbnMnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgc2NvcGVSZXNvbHZlci5yZWdpc3Rlcihhc3NvY2lhdGVkT3JnYW5pemF0aW9uc09ubHlTY29wZSk7XHJcblxyXG4gICAgICAgICAgICB9XSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLmN1c3RvbWVyQWNjb3VudHNMaXN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAudWlHcmlkSGVscGVyJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAnZmlsdGVyRmlsdGVyJywgJ3BsYXRmb3JtV2ViQXBwLmFjY291bnRzJyxcbmZ1bmN0aW9uICgkc2NvcGUsIGRpYWxvZ1NlcnZpY2UsIHVpR3JpZEhlbHBlciwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgZmlsdGVyRmlsdGVyLCBhY2NvdW50cykge1xuICAgICRzY29wZS51aUdyaWRDb25zdGFudHMgPSB1aUdyaWRIZWxwZXIudWlHcmlkQ29uc3RhbnRzO1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLnJlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKGRhdGEpIHtcbiAgICAgICAgYmxhZGUubWVtYmVySWQgPSBkYXRhLmlkO1xuICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMgPSBhbmd1bGFyLmNvcHkoZGF0YS5zZWN1cml0eUFjY291bnRzKTtcbiAgICAgICAgYmxhZGUub3JpZ0VudGl0eSA9IGRhdGEuc2VjdXJpdHlBY2NvdW50cztcbiAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYmxhZGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmIChibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNoZWNrUGVybWlzc2lvbigncGxhdGZvcm06c2VjdXJpdHk6cmVhZCcpKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWROb2RlSWQgPSBub2RlLnVzZXJOYW1lO1xuXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICdsaXN0SXRlbUNoaWxkJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBub2RlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBub2RlLnVzZXJOYW1lLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBibGFkZS5zdWJ0aXRsZSxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuYWNjb3VudERldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvc2VjdXJpdHkvYmxhZGVzL2FjY291bnQtZGV0YWlsLnRwbC5odG1sJ1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2V0RXJyb3IoJ0luc3VmZmljaWVudCBwZXJtaXNzaW9uJywgYmxhZGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG9wZW5OZXdBY2NvdW50V2l6YXJkKHN0b3JlKSB7XG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiAnbmV3QWNjb3VudFdpemFyZCcsXG4gICAgICAgICAgICBjdXJyZW50RW50aXR5OiB7IHJvbGVzOiBbXSwgdXNlclR5cGU6ICdDdXN0b21lcicsIHN0b3JlSWQ6IHN0b3JlLmlkLCBtZW1iZXJJZDogYmxhZGUubWVtYmVySWQgfSxcbiAgICAgICAgICAgIHRpdGxlOiAncGxhdGZvcm0uYmxhZGVzLmFjY291bnQtZGV0YWlsLnRpdGxlLW5ldycsXG4gICAgICAgICAgICBzdWJ0aXRsZTogYmxhZGUuc3VidGl0bGUsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAubmV3QWNjb3VudFdpemFyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZWN1cml0eS93aXphcmRzL25ld0FjY291bnQvbmV3LWFjY291bnQtd2l6YXJkLnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgIH1cblxuICAgICRzY29wZS5kZWxldGVMaXN0ID0gZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgaWQ6IFwiY29uZmlybURlbGV0ZUl0ZW1cIixcbiAgICAgICAgICAgIHRpdGxlOiBcInBsYXRmb3JtLmRpYWxvZ3MuYWNjb3VudC1kZWxldGUudGl0bGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwicGxhdGZvcm0uZGlhbG9ncy5hY2NvdW50LWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUlkcyA9IF8ucGx1Y2soc2VsZWN0aW9uLCAndXNlck5hbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY291bnRzLnJlbW92ZSh7IG5hbWVzOiBpdGVtSWRzIH0sIGJsYWRlLnJlZnJlc2gpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhkaWFsb2cpO1xuICAgIH07XG5cbiAgICBibGFkZS5oZWFkSWNvbiA9ICdmYXMgZmEta2V5JztcblxuICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5hZGRcIiwgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQ2hpbGRyZW5CbGFkZXMoYmxhZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdwaWNrU3RvcmVMaXN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnY3VzdG9tZXIuYmxhZGVzLnBpY2stc3RvcmUtbGlzdC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ2N1c3RvbWVyLmJsYWRlcy5waWNrLXN0b3JlLWxpc3Quc3VidGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25BZnRlck5vZGVTZWxlY3RlZDogb3Blbk5ld0FjY291bnRXaXphcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5waWNrU3RvcmVMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyKS9TY3JpcHRzL2JsYWRlcy9waWNrLXN0b3JlLWxpc3QudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246ICdwbGF0Zm9ybTpzZWN1cml0eTpjcmVhdGUnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHsgJHNjb3BlLmRlbGV0ZUxpc3QoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTsgfSxcbiAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmdyaWRBcGkgJiYgXy5hbnkoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiAncGxhdGZvcm06c2VjdXJpdHk6ZGVsZXRlJ1xuICAgICAgICB9XG4gICAgXTtcblxuICAgIC8vIHVpLWdyaWRcbiAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZE9wdGlvbnMpIHtcbiAgICAgICAgdWlHcmlkSGVscGVyLmluaXRpYWxpemUoJHNjb3BlLCBncmlkT3B0aW9ucywgZnVuY3Rpb24gKGdyaWRBcGkpIHtcbiAgICAgICAgICAgIGdyaWRBcGkuZ3JpZC5yZWdpc3RlclJvd3NQcm9jZXNzb3IoJHNjb3BlLnNpbmdsZUZpbHRlciwgOTApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNpbmdsZUZpbHRlciA9IGZ1bmN0aW9uIChyZW5kZXJhYmxlUm93cykge1xuICAgICAgICB2YXIgdmlzaWJsZUNvdW50ID0gMDtcbiAgICAgICAgcmVuZGVyYWJsZVJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICByb3cudmlzaWJsZSA9IF8uYW55KGZpbHRlckZpbHRlcihbcm93LmVudGl0eV0sIGJsYWRlLnNlYXJjaFRleHQpKTtcbiAgICAgICAgICAgIGlmIChyb3cudmlzaWJsZSkgdmlzaWJsZUNvdW50Kys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzY29wZS5maWx0ZXJlZEVudGl0aWVzQ291bnQgPSB2aXNpYmxlQ291bnQ7XG4gICAgICAgIHJldHVybiByZW5kZXJhYmxlUm93cztcbiAgICB9O1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eScsIGluaXRpYWxpemVCbGFkZSk7XG5cbiAgICAvLyBvbiBsb2FkOlxuICAgIC8vICRzY29wZS4kd2F0Y2goJ2JsYWRlLnBhcmVudEJsYWRlLmN1cnJlbnRFbnRpdHkuc2VjdXJpdHlBY2NvdW50cycgZ2V0cyBmaXJlZCAgICBcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlJykuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5jdXN0b21lckRldGFpbENvbnRyb2xsZXInLFxyXG4gICAgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuY29tbW9uLnRpbWVab25lcycsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCB0aW1lWm9uZXMsIHNldHRpbmdzLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xyXG4gICAgICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAnY3VzdG9tZXIuYmxhZGVzLmNvbnRhY3QtZGV0YWlsLnRpdGxlLW5ldyc7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5leHRlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbnM6IFtdXHJcbiAgICAgICAgICAgICAgICB9LCBibGFkZS5jdXJyZW50RW50aXR5KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkub3JnYW5pemF0aW9ucy5wdXNoKGJsYWRlLnBhcmVudEJsYWRlLmN1cnJlbnRFbnRpdHkuaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGJsYWRlLmZpbGxEeW5hbWljUHJvcGVydGllcygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnY3VzdG9tZXIuYmxhZGVzLmNvbnRhY3QtZGV0YWlsLnN1YnRpdGxlJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZGF0ZXBpY2tlclxyXG4gICAgICAgICAgICBibGFkZS5kYXRlcGlja2VycyA9IHt9O1xyXG4gICAgICAgICAgICBibGFkZS50b2RheSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICBibGFkZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJsYWRlLmRhdGVwaWNrZXJzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBibGFkZS50aW1lWm9uZXMgPSB0aW1lWm9uZXMucXVlcnkoKTtcclxuICAgICAgICAgICAgYmxhZGUuZ3JvdXBzID0gc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdDdXN0b21lci5NZW1iZXJHcm91cHMnIH0pO1xyXG5cclxuICAgICAgICAgICAgYmxhZGUub3Blbkdyb3Vwc0RpY3Rpb25hcnlTZXR0aW5nTWFuYWdlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogJ3NldHRpbmdEZXRhaWxDaGlsZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNBcGlTYXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogJ0N1c3RvbWVyLk1lbWJlckdyb3VwcycsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVmcmVzaDogZnVuY3Rpb24gKGRhdGEpIHsgYmxhZGUuZ3JvdXBzID0gZGF0YTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ0RpY3Rpb25hcnlDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJyQoUGxhdGZvcm0pL1NjcmlwdHMvYXBwL3NldHRpbmdzL2JsYWRlcy9zZXR0aW5nLWRpY3Rpb25hcnkudHBsLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmZldGNoQ3VzdG9tZXJPcmdhbml6YXRpb25zID0gZnVuY3Rpb24gKCRzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLmZldGNoT3JnYW5pemF0aW9ucygkc2VsZWN0KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXN0b21lck9yZ2FuaXphdGlvbnMgPSBhbmd1bGFyLmNvcHkoYmxhZGUub3JnYW5pemF0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYmxhZGUuZmV0Y2hBc3NvY2lhdGVkT3JnYW5pemF0aW9ucyA9IGZ1bmN0aW9uICgkc2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5mZXRjaE9yZ2FuaXphdGlvbnMoJHNlbGVjdCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuYXNzb2NpYXRlZE9yZ2FuaXphdGlvbnMgPSBhbmd1bGFyLmNvcHkoYmxhZGUub3JnYW5pemF0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYmxhZGUuZmV0Y2hOZXh0Q3VzdG9tZXJPcmdhbml6YXRpb25zID0gZnVuY3Rpb24gKCRzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLmZldGNoTmV4dE9yZ2FuaXphdGlvbnMoJHNlbGVjdCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VzdG9tZXJPcmdhbml6YXRpb25zID0gYW5ndWxhci5jb3B5KGJsYWRlLm9yZ2FuaXphdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmZldGNoTmV4dEFzc29jaWF0ZWRPcmdhbml6YXRpb25zID0gZnVuY3Rpb24gKCRzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLmZldGNoTmV4dE9yZ2FuaXphdGlvbnMoJHNlbGVjdCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuYXNzb2NpYXRlZE9yZ2FuaXphdGlvbnMgPSBhbmd1bGFyLmNvcHkoYmxhZGUub3JnYW5pemF0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUnKS5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLmVtcGxveWVlRGV0YWlsQ29udHJvbGxlcicsXHJcbiAgICBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5jb21tb24udGltZVpvbmVzJywgZnVuY3Rpb24gKCRzY29wZSwgdGltZVpvbmVzKSB7XHJcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xyXG5cclxuICAgICAgICBpZiAoYmxhZGUuaXNOZXcpIHtcclxuICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAnY3VzdG9tZXIuYmxhZGVzLmVtcGxveWVlLWRldGFpbC50aXRsZS1uZXcnO1xyXG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5leHRlbmQoe1xyXG4gICAgICAgICAgICAgICAgaXNBY3RpdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25zOiBbXVxyXG4gICAgICAgICAgICB9LCBibGFkZS5jdXJyZW50RW50aXR5KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChibGFkZS5wYXJlbnRCbGFkZS5jdXJyZW50RW50aXR5LmlkKSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5Lm9yZ2FuaXphdGlvbnMucHVzaChibGFkZS5wYXJlbnRCbGFkZS5jdXJyZW50RW50aXR5LmlkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYmxhZGUuZmlsbER5bmFtaWNQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnY3VzdG9tZXIuYmxhZGVzLmVtcGxveWVlLWRldGFpbC5zdWJ0aXRsZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkYXRlcGlja2VyXHJcbiAgICAgICAgYmxhZGUuZGF0ZXBpY2tlcnMgPSB7fTtcclxuICAgICAgICBibGFkZS50b2RheSA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgIGJsYWRlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgYmxhZGUuZGF0ZXBpY2tlcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBibGFkZS50aW1lWm9uZXMgPSB0aW1lWm9uZXMucXVlcnkoKTtcclxuICAgIH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLmZpbHRlckRldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYWxTdG9yYWdlJywgJyR0cmFuc2xhdGUnLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYWxTdG9yYWdlLCAkdHJhbnNsYXRlKSB7XG4gICAgICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAgICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5Lmxhc3RVcGRhdGVUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xuICAgICAgICAgICAgICAgICAgICAkbG9jYWxTdG9yYWdlLmN1c3RvbWVyU2VhcmNoRmlsdGVycy5zcGxpY2UoMCwgMCwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgICRsb2NhbFN0b3JhZ2UuY3VzdG9tZXJTZWFyY2hGaWx0ZXJJZCA9IGJsYWRlLm9yaWdFbnRpdHkuaWQ7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLmZpbHRlci5jdXJyZW50ID0gYmxhZGUub3JpZ0VudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNOZXcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUuZmlsdGVyLmNoYW5nZSh0cnVlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZShkYXRhKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShkYXRhKTtcbiAgICAgICAgICAgICAgICBibGFkZS5vcmlnRW50aXR5ID0gZGF0YTtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gYmxhZGUuaXNOZXcgPyAnY3VzdG9tZXIuYmxhZGVzLmZpbHRlci1kZXRhaWwubmV3LXRpdGxlJyA6IGRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICBibGFkZS5zdWJ0aXRsZSA9IGJsYWRlLmlzTmV3ID8gJ2N1c3RvbWVyLmJsYWRlcy5maWx0ZXItZGV0YWlsLm5ldy1zdWJ0aXRsZScgOiAnY3VzdG9tZXIuYmxhZGVzLmZpbHRlci1kZXRhaWwuc3VidGl0bGUnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZm9ybVNjb3BlO1xuICAgICAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkgeyBmb3JtU2NvcGUgPSBmb3JtOyB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhYW5ndWxhci5lcXVhbHMoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLWZpbHRlcic7XG5cbiAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiY29yZS5jb21tYW5kcy5hcHBseS1maWx0ZXJcIiwgaWNvbjogJ2ZhIGZhLWZpbHRlcicsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybVNjb3BlICYmIGZvcm1TY29wZS4kdmFsaWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZXNldFwiLCBpY29uOiAnZmEgZmEtdW5kbycsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5vcmlnRW50aXR5LCBibGFkZS5jdXJyZW50RW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNEaXJ0eVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmRlbGV0ZVwiLCBpY29uOiAnZmFzIGZhLXRyYXNoLWFsdCcsXG4gICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGRlbGV0ZUVudHJ5LFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWJsYWRlLmlzTmV3O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV07XG5cblxuICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlRW50cnkoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUuZmlsdGVyLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICRsb2NhbFN0b3JhZ2UuY3VzdG9tZXJTZWFyY2hGaWx0ZXJzLnNwbGljZSgkbG9jYWxTdG9yYWdlLmN1c3RvbWVyU2VhcmNoRmlsdGVycy5pbmRleE9mKGJsYWRlLm9yaWdFbnRpdHkpLCAxKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgJGxvY2FsU3RvcmFnZS5jdXN0b21lclNlYXJjaEZpbHRlcklkO1xuICAgICAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLmZpbHRlci5jaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWN0aW9ucyBvbiBsb2FkICAgICAgICBcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xuICAgICAgICAgICAgICAgICR0cmFuc2xhdGUoJ2N1c3RvbWVyLmJsYWRlcy5tZW1iZXItbGlzdC5sYWJlbHMudW5uYW1lZC1maWx0ZXInKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKHsgaWQ6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLCBuYW1lOiByZXN1bHQgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZShibGFkZS5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVyQWRkQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVyVHlwZXNSZXNvbHZlclNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZSkge1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICRzY29wZS5hZGRNZW1iZXIgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5zaG93RGV0YWlsQmxhZGUoeyBtZW1iZXJUeXBlOiBub2RlLm1lbWJlclR5cGUgfSwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgaWYgKGJsYWRlLmN1cnJlbnRFbnRpdHkgJiYgYmxhZGUuY3VycmVudEVudGl0eS5tZW1iZXJUeXBlKSB7XG4gICAgICAgIHZhciBwYXJlbnRUeXBlID0gbWVtYmVyVHlwZXNSZXNvbHZlclNlcnZpY2UucmVzb2x2ZShibGFkZS5jdXJyZW50RW50aXR5Lm1lbWJlclR5cGUpO1xuICAgICAgICAkc2NvcGUuYXZhaWxhYmxlVHlwZXMgPSBfLm1hcChwYXJlbnRUeXBlLmtub3duQ2hpbGRyZW5UeXBlcywgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZS5yZXNvbHZlKHR5cGUpO1xuICAgICAgICB9KSA7XG4gICAgfSBlbHNle1xuICAgICAgICAkc2NvcGUuYXZhaWxhYmxlVHlwZXMgPSAgbWVtYmVyVHlwZXNSZXNvbHZlclNlcnZpY2Uub2JqZWN0cztcbiAgICB9XG4gICAgXG5cbiAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVyRGV0YWlsQ29udHJvbGxlcicsXHJcbiAgICBbJyRzY29wZScsICckcScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVycycsICdwbGF0Zm9ybVdlYkFwcC5keW5hbWljUHJvcGVydGllcy5hcGknLCAndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5vcmdhbml6YXRpb25zJywgJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdzJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgbWVtYmVycywgZHluYW1pY1Byb3BlcnRpZXNBcGksIG9yZ2FuaXphdGlvbnNSZXNvdXJjZSwgc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xyXG4gICAgICAgICAgICBibGFkZS51cGRhdGVQZXJtaXNzaW9uID0gJ2N1c3RvbWVyOnVwZGF0ZSc7XHJcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHlJZCA9IGJsYWRlLmN1cnJlbnRFbnRpdHkuaWQ7XHJcblxyXG4gICAgICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKHBhcmVudFJlZnJlc2gpIHtcclxuICAgICAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBhbmd1bGFyLmV4dGVuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNQcm9wZXJ0aWVzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc2VzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmVzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWxzOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJzLmdldCh7IGlkOiBibGFkZS5jdXJyZW50RW50aXR5LmlkIH0sIGluaXRpYWxpemVCbGFkZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRSZWZyZXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLnJlZnJlc2godHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgYmxhZGUub3BlblN0YXR1c1NldHRpbmdNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKGN1cnJlbnRFbnRpdHlJZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAnc2V0dGluZ0RldGFpbENoaWxkJyxcclxuICAgICAgICAgICAgICAgICAgICBpc0FwaVNhdmU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiBjdXJyZW50RW50aXR5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdEaWN0aW9uYXJ5Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBibGFkZS5zdGF0dXNlcyA9IFtdO1xyXG4gICAgICAgICAgICBibGFkZS5sb2FkU3RhdHVzZXMgPSBmdW5jdGlvbiAoY3VycmVudEVudGl0eUlkKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5nZXQoeyBpZDogY3VycmVudEVudGl0eUlkIH0sIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuc3RhdHVzZXMgPSBkYXRhLmFsbG93ZWRWYWx1ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLmlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkuc3RhdHVzID0gZGF0YS5kZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkuc3RhdHVzID0gZGF0YS5kZWZhdWx0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmZpbGxEeW5hbWljUHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGR5bmFtaWNQcm9wZXJ0aWVzQXBpLnF1ZXJ5KHsgaWQ6IGJsYWRlLm1lbWJlclR5cGVEZWZpbml0aW9uLmZ1bGxUeXBlTmFtZSB9LCBmdW5jdGlvbiAocmVzdWx0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChyZXN1bHRzLCBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4LmRpc3BsYXlOYW1lcyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeC52YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmR5bmFtaWNQcm9wZXJ0aWVzID0gcmVzdWx0cztcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoYmxhZGUuY3VycmVudEVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZShkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5jb3B5KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYmxhZGUub3JpZ0VudGl0eSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5jdXN0b21Jbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYmFzZSBmdW5jdGlvbiB0byBvdmVycmlkZSBhcyBuZWVkZWRcclxuICAgICAgICAgICAgYmxhZGUuY3VzdG9tSW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYmxhZGUuaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICBibGFkZS50aXRsZSA9IGJsYWRlLmN1cnJlbnRFbnRpdHkubmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGlzRGlydHkoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpICYmICFibGFkZS5pc05ldyAmJiBibGFkZS5oYXNVcGRhdGVQZXJtaXNzaW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNhblNhdmUoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmICRzY29wZS5mb3JtU2NvcGUgJiYgJHNjb3BlLmZvcm1TY29wZS4kdmFsaWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLmlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVycy5zYXZlKGJsYWRlLmN1cnJlbnRFbnRpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLnJlZnJlc2godHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5vcmlnRW50aXR5ID0gYmxhZGUuY3VycmVudEVudGl0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ibGFkZUNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJzLnVwZGF0ZShibGFkZS5jdXJyZW50RW50aXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7IGJsYWRlLnJlZnJlc2godHJ1ZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvcm1TY29wZSA9IGZvcm07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLm9uQ2xvc2UgPSBmdW5jdGlvbiAoY2xvc2VDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93Q29uZmlybWF0aW9uSWZOZWVkZWQoaXNEaXJ0eSgpLCBjYW5TYXZlKCksIGJsYWRlLCAkc2NvcGUuc2F2ZUNoYW5nZXMsIGNsb3NlQ2FsbGJhY2ssIFwiY3VzdG9tZXIuZGlhbG9ncy5tZW1iZXItc2F2ZS50aXRsZVwiLCBcImN1c3RvbWVyLmRpYWxvZ3MubWVtYmVyLXNhdmUubWVzc2FnZVwiKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICghYmxhZGUuaXNOZXcpIHtcclxuICAgICAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLXNhdmUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiAkc2NvcGUuc2F2ZUNoYW5nZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGNhblNhdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZXNldFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnZmEgZmEtdW5kbycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5vcmlnRW50aXR5LCBibGFkZS5jdXJyZW50RW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNEaXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gYmxhZGUubWVtYmVyVHlwZURlZmluaXRpb24uaWNvbjtcclxuXHJcbiAgICAgICAgICAgIC8vIHBhZ2VTaXplIGFtb3VudCBtdXN0IGJlIGVub3VnaCB0byBzaG93IHNjcm9sbGJhciBpbiBkcm9wZG93biBsaXN0IGNvbnRhaW5lci5cclxuICAgICAgICAgICAgLy8gSWYgc2Nyb2xsYmFyIGRvZXNuJ3QgYXBwZWFyIGF1dG8gbG9hZGluZyB3b24ndCB3b3JrLlxyXG4gICAgICAgICAgICAkc2NvcGUucGFnZVNpemUgPSA1MDtcclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmZldGNoT3JnYW5pemF0aW9ucyA9IGZ1bmN0aW9uICgkc2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAkc2VsZWN0LnBhZ2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgYmxhZGUub3JnYW5pemF0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLmFsbChbbG9hZEN1c3RvbWVyT3JnYW5pemF0aW9ucygpLCBibGFkZS5mZXRjaE5leHRPcmdhbml6YXRpb25zKCRzZWxlY3QpXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmZldGNoTmV4dE9yZ2FuaXphdGlvbnMgPSBmdW5jdGlvbiAoJHNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lbWJlcnMuc2VhcmNoKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyVHlwZTogJ09yZ2FuaXphdGlvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlR3JvdXA6ICdkZWZhdWx0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGhyYXNlOiAkc2VsZWN0LnNlYXJjaCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVlcFNlYXJjaDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFrZTogJHNjb3BlLnBhZ2VTaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwOiAkc2VsZWN0LnBhZ2UgKiAkc2NvcGUucGFnZVNpemVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGpvaW5Pcmdhbml6YXRpb25zKGRhdGEucmVzdWx0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWxlY3QucGFnZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gbG9hZEN1c3RvbWVyT3JnYW5pemF0aW9ucygpIHtcclxuICAgICAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5Lm9yZ2FuaXphdGlvbnMgJiYgYmxhZGUuY3VycmVudEVudGl0eS5vcmdhbml6YXRpb25zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JnYW5pemF0aW9uc1Jlc291cmNlLmdldEJ5SWRzKHsgaWRzOiBibGFkZS5jdXJyZW50RW50aXR5Lm9yZ2FuaXphdGlvbnMgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgam9pbk9yZ2FuaXphdGlvbnMoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBqb2luT3JnYW5pemF0aW9ucyhvcmdhbml6YXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6YXRpb25zID0gXy5yZWplY3Qob3JnYW5pemF0aW9ucywgeCA9PiBfLmFueShibGFkZS5vcmdhbml6YXRpb25zLCB5ID0+IHkuaWQgPT09IHguaWQpKTtcclxuICAgICAgICAgICAgICAgIGlmIChfLmFueShvcmdhbml6YXRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLm9yZ2FuaXphdGlvbnMgPSBibGFkZS5vcmdhbml6YXRpb25zLmNvbmNhdChvcmdhbml6YXRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYmxhZGUucmVmcmVzaChmYWxzZSk7XHJcbiAgICAgICAgfV0pO1xyXG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5tZW1iZXJFbWFpbHNMaXN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgIGJsYWRlLnVwZGF0ZVBlcm1pc3Npb24gPSAnY3VzdG9tZXI6dXBkYXRlJztcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybURhdGFFbGVtZW50KGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGRhdGEgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplQmxhZGUoZGF0YSkge1xuICAgICAgICBibGFkZS5kYXRhID0gZGF0YTtcblxuICAgICAgICAvLyB0cmFuc2Zvcm0gc2ltcGxlIHN0cmluZyB0byBjb21wbGV4IG9iamVjdC4gU2ltcGxlIHN0cmluZyBpc24ndCBlZGl0YWJsZS5cbiAgICAgICAgZGF0YSA9IF8ubWFwKGRhdGEsIHRyYW5zZm9ybURhdGFFbGVtZW50KTtcblxuICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMgPSBhbmd1bGFyLmNvcHkoZGF0YSk7XG4gICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBkYXRhO1xuICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gbGlzdEl0ZW07XG4gICAgfTtcblxuICAgIGJsYWRlLm9uQ2xvc2UgPSBmdW5jdGlvbiAoY2xvc2VDYWxsYmFjaykge1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIGNhblNhdmUoKSwgYmxhZGUsICRzY29wZS5zYXZlQ2hhbmdlcywgY2xvc2VDYWxsYmFjaywgXCJjdXN0b21lci5kaWFsb2dzLmVtYWlsLXNhdmUudGl0bGVcIiwgXCJjdXN0b21lci5kaWFsb2dzLmVtYWlsLXNhdmUubWVzc2FnZVwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gaXNEaXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVxdWFscyhibGFkZS5jdXJyZW50RW50aXRpZXMsIGJsYWRlLm9yaWdFbnRpdHkpICYmIGJsYWRlLmhhc1VwZGF0ZVBlcm1pc3Npb24oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5TYXZlKCkge1xuICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmIGZvcm1TY29wZSAmJiBmb3JtU2NvcGUuJHZhbGlkO1xuICAgIH1cblxuICAgIHZhciBmb3JtU2NvcGU7XG4gICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkgeyBmb3JtU2NvcGUgPSBmb3JtOyB9XG5cbiAgICAkc2NvcGUuY2FuY2VsQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBfLnBsdWNrKGJsYWRlLmN1cnJlbnRFbnRpdGllcywgJ3ZhbHVlJyk7XG4gICAgICAgIGFuZ3VsYXIuY29weSh2YWx1ZXMsIGJsYWRlLmRhdGEpO1xuICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0aWVzLCBibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICB9O1xuXG4gICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLCBpY29uOiAnZmFzIGZhLXBsdXMnLFxuICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcy5wdXNoKHRyYW5zZm9ybURhdGFFbGVtZW50KCcnKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZXNldFwiLCBpY29uOiAnZmEgZmEtdW5kbycsXG4gICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHksIGJsYWRlLmN1cnJlbnRFbnRpdGllcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNEaXJ0eSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpZHggPSBibGFkZS5jdXJyZW50RW50aXRpZXMuaW5kZXhPZigkc2NvcGUuc2VsZWN0ZWRJdGVtKTtcbiAgICAgICAgICAgICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxuICAgICAgICB9XG4gICAgXTtcblxuICAgICRzY29wZS4kd2F0Y2goJ2JsYWRlLnBhcmVudEJsYWRlLmN1cnJlbnRFbnRpdHkuZW1haWxzJywgaW5pdGlhbGl6ZUJsYWRlKTtcblxuICAgIC8vIG9uIGxvYWQ6XG4gICAgLy8gJHNjb3BlLiR3YXRjaCgnYmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eS5lbWFpbHMnIGdldHMgZmlyZWRcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVyTGlzdENvbnRyb2xsZXInLCBbJyRzY29wZScsICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlcnMnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlclR5cGVzUmVzb2x2ZXJTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLnVpLWdyaWQuZXh0ZW5zaW9uJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgbWVtYmVycywgZGlhbG9nU2VydmljZSwgYmxhZGVVdGlscywgdWlHcmlkSGVscGVyLCBtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZSwgZ3JpZE9wdGlvbkV4dGVuc2lvbikge1xuICAgICAgICAgICAgJHNjb3BlLnVpR3JpZENvbnN0YW50cyA9IHVpR3JpZEhlbHBlci51aUdyaWRDb25zdGFudHM7XG5cbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gJ2N1c3RvbWVyLmJsYWRlcy5tZW1iZXItbGlzdC50aXRsZSc7XG4gICAgICAgICAgICB2YXIgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSA9IGJsYWRlVXRpbHMuYmxhZGVOYXZpZ2F0aW9uU2VydmljZTtcblxuICAgICAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uIChwYXJlbnRSZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoQ3JpdGVyaWEgPSBnZXRTZWFyY2hDcml0ZXJpYSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLnNlYXJjaENyaXRlcmlhKSB7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHNlYXJjaENyaXRlcmlhLCBibGFkZS5zZWFyY2hDcml0ZXJpYSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbWVtYmVycy5zZWFyY2goc2VhcmNoQ3JpdGVyaWEsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IGRhdGEudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZWNhbGN1bGF0ZSBpY29uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVtYmVyVHlwZURlZmluaXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBfLmVhY2goZGF0YS5yZXN1bHRzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXJUeXBlRGVmaW5pdGlvbiA9IG1lbWJlclR5cGVzUmVzb2x2ZXJTZXJ2aWNlLnJlc29sdmUoeC5tZW1iZXJUeXBlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4Ll9tZW1iZXJUeXBlSWNvbiA9IG1lbWJlclR5cGVEZWZpbml0aW9uLmljb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgb3V0ZXJJZCBwcm9wZXJ0eSB0byB0aGUgZmlyc3QgZWxlbWVudChpZiBpdCBkb2Vzbid0IGV4aXN0KSBzbyB0aGF0IHRoZSBvdXRlciBpZCBjb2x1bW4gYXBwZWFyc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5yZXN1bHRzKSAmJiBkYXRhLnJlc3VsdHMubGVuZ3RoICYmICFkYXRhLnJlc3VsdHNbMF0ub3V0ZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmVzdWx0c1swXS5vdXRlcklkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5saXN0RW50cmllcyA9IGRhdGEucmVzdWx0cyA/IGRhdGEucmVzdWx0cyA6IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NldCBuYXZpZ2F0aW9uIGJyZWFkY3J1bWJzXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRCcmVhZGNydW1icygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRSZWZyZXNoICYmIGJsYWRlLnBhcmVudFJlZnJlc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50UmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vQnJlYWRjcnVtYnNcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldEJyZWFkY3J1bWJzKCkge1xuICAgICAgICAgICAgICAgIGlmIChibGFkZS5icmVhZGNydW1icykge1xuICAgICAgICAgICAgICAgICAgICAvL0Nsb25lIGFycmF5IChhbmd1bGFyLmNvcHkgbGVhdmVzIHRoZSBzYW1lIHJlZmVyZW5jZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJyZWFkY3J1bWJzID0gYmxhZGUuYnJlYWRjcnVtYnMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9wcmV2ZW50IGR1cGxpY2F0ZSBpdGVtc1xuICAgICAgICAgICAgICAgICAgICBpZiAoXy5hbGwoYnJlYWRjcnVtYnMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkICE9PSBibGFkZS5jdXJyZW50RW50aXR5LmlkOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJyZWFkQ3J1bWIgPSBnZW5lcmF0ZUJyZWFkY3J1bWIoYmxhZGUuY3VycmVudEVudGl0eS5pZCwgYmxhZGUuY3VycmVudEVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJzLnB1c2goYnJlYWRDcnVtYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuYnJlYWRjcnVtYnMgPSBicmVhZGNydW1icztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5icmVhZGNydW1icyA9IFtnZW5lcmF0ZUJyZWFkY3J1bWIobnVsbCwgJ2N1c3RvbWVyLmJsYWRlcy5tZW1iZXItbGlzdC5icmVhZGNydW1iLWFsbCcpXTtcclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVCcmVhZGNydW1iKGlkLCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBibGFkZTogYmxhZGUsXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlOiBmdW5jdGlvbiAoYnJlYWRjcnVtYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWRjcnVtYi5ibGFkZS5kaXNhYmxlT3BlbkFuaW1hdGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShicmVhZGNydW1iLmJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkY3J1bWIuYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmxhZGUuc2hvd0RldGFpbEJsYWRlID0gZnVuY3Rpb24gKGxpc3RJdGVtLCBpc05ldykge1xuICAgICAgICAgICAgICAgIGJsYWRlLnNldFNlbGVjdGVkTm9kZShsaXN0SXRlbSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZm91bmRUZW1wbGF0ZSA9IG1lbWJlclR5cGVzUmVzb2x2ZXJTZXJ2aWNlLnJlc29sdmUobGlzdEl0ZW0ubWVtYmVyVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0gYW5ndWxhci5jb3B5KGZvdW5kVGVtcGxhdGUuZGV0YWlsQmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS5jdXJyZW50RW50aXR5ID0gbGlzdEl0ZW07XG4gICAgICAgICAgICAgICAgICAgIG5ld0JsYWRlLmN1cnJlbnRFbnRpdHlJZCA9IGxpc3RJdGVtLmlkO1xuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS5pc05ldyA9IGlzTmV3O1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbkRpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY3VzdG9tZXIuZGlhbG9ncy51bmtub3duLW1lbWJlci10eXBlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImN1c3RvbWVyLmRpYWxvZ3MudW5rbm93bi1tZW1iZXItdHlwZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlVmFsdWVzOiB7IG1lbWJlclR5cGU6IGxpc3RJdGVtLm1lbWJlclR5cGUgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlTGlzdChbZGF0YV0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZGVsZXRlTGlzdChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlSXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJjdXN0b21lci5kaWFsb2dzLm1lbWJlcnMtZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiY3VzdG9tZXIuZGlhbG9ncy5tZW1iZXJzLWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZW1iZXJJZHMgPSBfLnBsdWNrKHNlbGVjdGlvbiwgJ2lkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuZ3JpZEFwaSAhPSB1bmRlZmluZWQpICYmICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RBbGxTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VhcmNoQ3JpdGVyaWEgPSBnZXRTZWFyY2hDcml0ZXJpYSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVycy5kZWxldGUoc2VhcmNoQ3JpdGVyaWEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uY2xlYXJTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfLmFueShtZW1iZXJJZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXJzLnJlbW92ZSh7IGlkczogbWVtYmVySWRzIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyBibGFkZS5yZWZyZXNoKHRydWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dDb25maXJtYXRpb25EaWFsb2coZGlhbG9nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmxhZGUuc2V0U2VsZWN0ZWROb2RlID0gZnVuY3Rpb24gKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbGlzdEl0ZW0uaWQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgIGJsYWRlLnNldFNlbGVjdGVkTm9kZShsaXN0SXRlbSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZm91bmRUZW1wbGF0ZSA9IG1lbWJlclR5cGVzUmVzb2x2ZXJTZXJ2aWNlLnJlc29sdmUobGlzdEl0ZW0ubWVtYmVyVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kVGVtcGxhdGUgJiYgZm91bmRUZW1wbGF0ZS5rbm93bkNoaWxkcmVuVHlwZXMgJiYgZm91bmRUZW1wbGF0ZS5rbm93bkNoaWxkcmVuVHlwZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBibGFkZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBibGFkZS5icmVhZGNydW1icyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY3VzdG9tZXIuYmxhZGVzLm1lbWJlci1saXN0LnN1YnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlVmFsdWVzOiB7IG5hbWU6IGxpc3RJdGVtLm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IGxpc3RJdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZU9wZW5BbmltYXRpb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBibGFkZS5jb250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGJsYWRlLnRlbXBsYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDbG9zaW5nRGlzYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlLnBhcmVudEJsYWRlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5zaG93RGV0YWlsQmxhZGUobGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGJsYWRlLmhlYWRJY29uID0gJ2ZhIGZhLXVzZXIgX19jdXN0b21lcnMnO1xuXG4gICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlZnJlc2hcIiwgaWNvbjogJ2ZhIGZhLXJlZnJlc2gnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBibGFkZS5yZWZyZXNoLFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLCBpY29uOiAnZmFzIGZhLXBsdXMnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdsaXN0SXRlbUNoaWxkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5OiBibGFkZS5jdXJyZW50RW50aXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnY3VzdG9tZXIuYmxhZGVzLm1lbWJlci1hZGQudGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnY3VzdG9tZXIuYmxhZGVzLm1lbWJlci1hZGQuc3VidGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlckFkZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIpL1NjcmlwdHMvYmxhZGVzL21lbWJlci1hZGQudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246ICdjdXN0b21lcjpjcmVhdGUnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkgeyBkZWxldGVMaXN0KCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSk7IH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuZ3JpZEFwaSAmJiBfLmFueSgkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRSb3dzKCkpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiAnY3VzdG9tZXI6ZGVsZXRlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG5cblxuICAgICAgICAgICAgLy8gc2ltcGxlIGFuZCBhZHZhbmNlZCBmaWx0ZXJpbmdcbiAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBibGFkZS5maWx0ZXIgPSB7IGtleXdvcmQ6IG51bGwgfTtcblxuICAgICAgICAgICAgZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLmtleXdvcmQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUubWVtYmVyVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyB1aS1ncmlkXG4gICAgICAgICAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZElkLCBncmlkT3B0aW9ucykge1xuICAgICAgICAgICAgICAgICRzY29wZS5ncmlkT3B0aW9ucyA9IGdyaWRPcHRpb25zO1xuICAgICAgICAgICAgICAgIGdyaWRPcHRpb25FeHRlbnNpb24udHJ5RXh0ZW5kR3JpZE9wdGlvbnMoZ3JpZElkLCBncmlkT3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICBncmlkT3B0aW9ucy5vblJlZ2lzdGVyQXBpID0gZnVuY3Rpb24gKGdyaWRBcGkpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkgPSBncmlkQXBpO1xuICAgICAgICAgICAgICAgICAgICBncmlkQXBpLmNvcmUub24uc29ydENoYW5nZWQoJHNjb3BlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJsYWRlLmlzTG9hZGluZykgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgYmxhZGVVdGlscy5pbml0aWFsaXplUGFnaW5hdGlvbigkc2NvcGUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0U2VhcmNoQ3JpdGVyaWEoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlYXJjaENyaXRlcmlhID0ge1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJUeXBlOiBibGFkZS5tZW1iZXJUeXBlLFxuICAgICAgICAgICAgICAgICAgICBtZW1iZXJJZDogYmxhZGUuY3VycmVudEVudGl0eS5pZCxcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZDogZmlsdGVyLmtleXdvcmQgPyBmaWx0ZXIua2V5d29yZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgZGVlcFNlYXJjaDogZmlsdGVyLmtleXdvcmQgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6IHVpR3JpZEhlbHBlci5nZXRTb3J0RXhwcmVzc2lvbigkc2NvcGUpLFxuICAgICAgICAgICAgICAgICAgICBza2lwOiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgdGFrZTogJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0VHlwZTogJ01lbWJlcidcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWFyY2hDcml0ZXJpYTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvL05vIG5lZWQgdG8gY2FsbCB0aGlzIGJlY2F1c2UgcGFnZSAncGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlJyBpcyB3YXRjaGVkISEhIEl0IHdvdWxkIHRyaWdnZXIgc3Vic2VxdWVudCBkdXBsaWNhdGVkIHJlcS4uLlxuICAgICAgICAgICAgLy9ibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgIH1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlclBob25lc0xpc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgYmxhZGUudXBkYXRlUGVybWlzc2lvbiA9ICdjdXN0b21lcjp1cGRhdGUnO1xuICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtRGF0YUVsZW1lbnQoZGF0YSkge1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogZGF0YSB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVCbGFkZShkYXRhKSB7XG4gICAgICAgIC8vIHRyYW5zZm9ybSBzaW1wbGUgc3RyaW5nIHRvIGNvbXBsZXggb2JqZWN0LiBTaW1wbGUgc3RyaW5nIGlzbid0IGVkaXRhYmxlLlxuICAgICAgICBkYXRhID0gXy5tYXAoZGF0YSwgdHJhbnNmb3JtRGF0YUVsZW1lbnQpO1xuXG4gICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IGFuZ3VsYXIuY29weShkYXRhKTtcbiAgICAgICAgYmxhZGUub3JpZ0VudGl0eSA9IGRhdGE7XG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gbGlzdEl0ZW07XG4gICAgfTtcblxuICAgIGJsYWRlLm9uQ2xvc2UgPSBmdW5jdGlvbiAoY2xvc2VDYWxsYmFjaykge1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIGNhblNhdmUoKSwgYmxhZGUsICRzY29wZS5zYXZlQ2hhbmdlcywgY2xvc2VDYWxsYmFjaywgXCJjdXN0b21lci5kaWFsb2dzLnBob25lLW51bWJlci1zYXZlLnRpdGxlXCIsIFwiY3VzdG9tZXIuZGlhbG9ncy5waG9uZS1udW1iZXItc2F2ZS5tZXNzYWdlXCIpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdGllcywgYmxhZGUub3JpZ0VudGl0eSkgJiYgYmxhZGUuaGFzVXBkYXRlUGVybWlzc2lvbigpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblNhdmUoKSB7XG4gICAgICAgIHJldHVybiBpc0RpcnR5KCkgJiYgZm9ybVNjb3BlICYmIGZvcm1TY29wZS4kdmFsaWQ7XG4gICAgfVxuXG4gICAgdmFyIGZvcm1TY29wZTtcbiAgICAkc2NvcGUuc2V0Rm9ybSA9IGZ1bmN0aW9uIChmb3JtKSB7IGZvcm1TY29wZSA9IGZvcm07IH1cblxuICAgICRzY29wZS5jYW5jZWxDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgIH1cblxuICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IF8ucGx1Y2soYmxhZGUuY3VycmVudEVudGl0aWVzLCAndmFsdWUnKTtcbiAgICAgICAgYW5ndWxhci5jb3B5KHZhbHVlcywgYmxhZGUuZGF0YSk7XG4gICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXRpZXMsIGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgIH07XG5cbiAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuYWRkXCIsIGljb246ICdmYXMgZmEtcGx1cycsXG4gICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzLnB1c2godHJhbnNmb3JtRGF0YUVsZW1lbnQoJycpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlc2V0XCIsIGljb246ICdmYSBmYS11bmRvJyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUub3JpZ0VudGl0eSwgYmxhZGUuY3VycmVudEVudGl0aWVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBpc0RpcnR5LFxuICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmRlbGV0ZVwiLCBpY29uOiAnZmFzIGZhLXRyYXNoLWFsdCcsXG4gICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkeCA9IGJsYWRlLmN1cnJlbnRFbnRpdGllcy5pbmRleE9mKCRzY29wZS5zZWxlY3RlZEl0ZW0pO1xuICAgICAgICAgICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnNlbGVjdGVkSXRlbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXG4gICAgICAgIH1cbiAgICBdO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnYmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eS5waG9uZXMnLCBmdW5jdGlvbiAoY3VycmVudEVudGl0aWVzKSB7XG4gICAgICAgIGJsYWRlLmRhdGEgPSBjdXJyZW50RW50aXRpZXM7XG4gICAgICAgIGluaXRpYWxpemVCbGFkZShibGFkZS5kYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIG9uIGxvYWQ6IFxuICAgIC8vICRzY29wZS4kd2F0Y2goJ2JsYWRlLnBhcmVudEJsYWRlLmN1cnJlbnRFbnRpdHkucGhvbmVzJyBnZXRzIGZpcmVkXG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUnKS5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm9yZ2FuaXphdGlvbkRldGFpbENvbnRyb2xsZXInLFxyXG4gICAgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ3MnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgc2V0dGluZ3MsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcclxuICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJsYWRlLmlzTmV3KSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS50aXRsZSA9ICdjdXN0b21lci5ibGFkZXMub3JnYW5pemF0aW9uLWRldGFpbC50aXRsZS1uZXcnO1xyXG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5wYXJlbnRJZCA9IGJsYWRlLnBhcmVudEJsYWRlLmN1cnJlbnRFbnRpdHkuaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgYmxhZGUuZmlsbER5bmFtaWNQcm9wZXJ0aWVzKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBibGFkZS5zdWJ0aXRsZSA9ICdjdXN0b21lci5ibGFkZXMub3JnYW5pemF0aW9uLWRldGFpbC5zdWJ0aXRsZSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJsYWRlLmdyb3VwcyA9IHNldHRpbmdzLmdldFZhbHVlcyh7IGlkOiAnQ3VzdG9tZXIuTWVtYmVyR3JvdXBzJyB9KTtcclxuXHJcbiAgICAgICAgICAgIGJsYWRlLm9wZW5Hcm91cHNEaWN0aW9uYXJ5U2V0dGluZ01hbmFnZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdzZXR0aW5nRGV0YWlsQ2hpbGQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQXBpU2F2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6ICdDdXN0b21lci5NZW1iZXJHcm91cHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFJlZnJlc2g6IGZ1bmN0aW9uIChkYXRhKSB7IGJsYWRlLmdyb3VwcyA9IGRhdGE7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdEaWN0aW9uYXJ5Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5waWNrU3RvcmVMaXN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2Uuc3RvcmVNb2R1bGUuc3RvcmVzJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlVXRpbHMnLCAndWlHcmlkQ29uc3RhbnRzJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgc3RvcmVzLCBibGFkZVV0aWxzLCB1aUdyaWRDb25zdGFudHMsIHVpR3JpZEhlbHBlcikge1xuICAgICAgICAkc2NvcGUudWlHcmlkQ29uc3RhbnRzID0gdWlHcmlkQ29uc3RhbnRzO1xuXG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgdmFyIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UgPSBibGFkZVV0aWxzLmJsYWRlTmF2aWdhdGlvblNlcnZpY2U7XG5cbiAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICBzdG9yZXMuc2VhcmNoKHtcbiAgICAgICAgICAgICAgICBrZXl3b3JkOiBmaWx0ZXIua2V5d29yZCA/IGZpbHRlci5rZXl3b3JkIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHVpR3JpZEhlbHBlci5nZXRTb3J0RXhwcmVzc2lvbigkc2NvcGUpLFxuICAgICAgICAgICAgICAgIHNraXA6ICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgICAgIHRha2U6ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnRcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbENvdW50O1xuICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IGRhdGEuc3RvcmVzO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgYmxhZGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWROb2RlSWQgPSBub2RlLmlkO1xuICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJsYWRlLm9uQWZ0ZXJOb2RlU2VsZWN0ZWQobm9kZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS1hcmNoaXZlJztcblxuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZWZyZXNoXCIsIGljb246ICdmYSBmYS1yZWZyZXNoJyxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBibGFkZS5yZWZyZXNoLFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIHNpbXBsZSBhbmQgYWR2YW5jZWQgZmlsdGVyaW5nXG4gICAgICAgIHZhciBmaWx0ZXIgPSAkc2NvcGUuZmlsdGVyID0ge307XG5cbiAgICAgICAgZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID4gMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdWktZ3JpZFxuICAgICAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIHVpR3JpZEhlbHBlci5pbml0aWFsaXplKCRzY29wZSwgZ3JpZE9wdGlvbnMsIGZ1bmN0aW9uIChncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgdWlHcmlkSGVscGVyLmJpbmRSZWZyZXNoT25Tb3J0Q2hhbmdlZCgkc2NvcGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBibGFkZVV0aWxzLmluaXRpYWxpemVQYWdpbmF0aW9uKCRzY29wZSk7XG4gICAgICAgIH07XG5cbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUudmVuZG9yRGV0YWlsQ29udHJvbGxlcicsXG4gICAgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICAgICBpZiAoYmxhZGUuaXNOZXcpIHtcbiAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gJ2N1c3RvbWVyLmJsYWRlcy52ZW5kb3ItZGV0YWlsLnRpdGxlLW5ldyc7XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5leHRlbmQoe1xuICAgICAgICAgICAgICAgIHNlb0luZm9zOiBbXVxuICAgICAgICAgICAgfSwgYmxhZGUuY3VycmVudEVudGl0eSk7XG5cbiAgICAgICAgICAgIGJsYWRlLmZpbGxEeW5hbWljUHJvcGVydGllcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnY3VzdG9tZXIuYmxhZGVzLnZlbmRvci1kZXRhaWwuc3VidGl0bGUnO1xuICAgICAgICB9XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUuY29tbW9uJywgW10pXG4gICAgLnJ1bihbJ3BsYXRmb3JtV2ViQXBwLm1ldGFGb3Jtc1NlcnZpY2UnLCBmdW5jdGlvbiAobWV0YUZvcm1zU2VydmljZSkge1xuICAgICAgICBtZXRhRm9ybXNTZXJ2aWNlLnJlZ2lzdGVyTWV0YUZpZWxkcygnQ3VzdG9tZXJhZGRyZXNzRGV0YWlscycsIFt7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2FkZHJlc3NUeXBlU2VsZWN0b3IuaHRtbCcsXG4gICAgICAgICAgICBwcmlvcml0eTogMFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAnZmlyc3ROYW1lJyxcbiAgICAgICAgICAgIHRpdGxlOiAnY29yZS5ibGFkZXMuYWRkcmVzcy1kZXRhaWwubGFiZWxzLmZpcnN0LW5hbWUnLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiAnU2hvcnRUZXh0JyxcbiAgICAgICAgICAgIGlzUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBwcmlvcml0eTogMVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAnbGFzdE5hbWUnLFxuICAgICAgICAgICAgdGl0bGU6ICdjb3JlLmJsYWRlcy5hZGRyZXNzLWRldGFpbC5sYWJlbHMubGFzdC1uYW1lJyxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogJ1Nob3J0VGV4dCcsXG4gICAgICAgICAgICBpc1JlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IDJcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb3VudHJ5U2VsZWN0b3IuaHRtbCcsXG4gICAgICAgICAgICBwcmlvcml0eTogM1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvdW50cnlSZWdpb25TZWxlY3Rvci5odG1sJyxcbiAgICAgICAgICAgIHByaW9yaXR5OiA0XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6ICdjaXR5JyxcbiAgICAgICAgICAgIHRpdGxlOiAnY29yZS5ibGFkZXMuYWRkcmVzcy1kZXRhaWwubGFiZWxzLmNpdHknLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiAnU2hvcnRUZXh0JyxcbiAgICAgICAgICAgIGlzUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBwcmlvcml0eTogNVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAnbGluZTEnLFxuICAgICAgICAgICAgdGl0bGU6ICdjb3JlLmJsYWRlcy5hZGRyZXNzLWRldGFpbC5sYWJlbHMuYWRkcmVzczEnLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiAnU2hvcnRUZXh0JyxcbiAgICAgICAgICAgIGlzUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBwcmlvcml0eTogNlxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAnbGluZTInLFxuICAgICAgICAgICAgdGl0bGU6ICdjb3JlLmJsYWRlcy5hZGRyZXNzLWRldGFpbC5sYWJlbHMuYWRkcmVzczInLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiAnU2hvcnRUZXh0JyxcbiAgICAgICAgICAgIHByaW9yaXR5OiA3XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6ICdwb3N0YWxDb2RlJyxcbiAgICAgICAgICAgIHRpdGxlOiAnY29yZS5ibGFkZXMuYWRkcmVzcy1kZXRhaWwubGFiZWxzLnppcC1jb2RlJyxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogJ1Nob3J0VGV4dCcsXG4gICAgICAgICAgICBpc1JlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgcHJpb3JpdHk6IDhcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogJ2VtYWlsJyxcbiAgICAgICAgICAgIHRpdGxlOiAnY29yZS5ibGFkZXMuYWRkcmVzcy1kZXRhaWwubGFiZWxzLmVtYWlsJyxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogJ0VtYWlsJyxcbiAgICAgICAgICAgIHByaW9yaXR5OiA5XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIG5hbWU6ICdwaG9uZScsXG4gICAgICAgICAgICB0aXRsZTogJ2NvcmUuYmxhZGVzLmFkZHJlc3MtZGV0YWlsLmxhYmVscy5waG9uZScsXG4gICAgICAgICAgICB2YWx1ZVR5cGU6ICdTaG9ydFRleHQnLFxuICAgICAgICAgICAgcHJpb3JpdHk6IDEwXG4gICAgICAgIH1dKTtcbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5jb21tb24nKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLmNvbW1vbi5jb3JlQWRkcmVzc0RldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckZmlsdGVyJywgJ3BsYXRmb3JtV2ViQXBwLmNvbW1vbi5jb3VudHJpZXMnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5tZXRhRm9ybXNTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkZmlsdGVyLCBjb3VudHJpZXMsIGRpYWxvZ1NlcnZpY2UsIG1ldGFGb3Jtc1NlcnZpY2UsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgIGJsYWRlLmFkZHJlc3NUeXBlcyA9IFsnQmlsbGluZycsICdTaGlwcGluZycsICdCaWxsaW5nQW5kU2hpcHBpbmcnXTtcbiAgICAgICAgYmxhZGUubWV0YUZpZWxkcyA9IGJsYWRlLm1ldGFGaWVsZHMgJiYgYmxhZGUubWV0YUZpZWxkcy5sZW5ndGggPyBibGFkZS5tZXRhRmllbGRzIDogbWV0YUZvcm1zU2VydmljZS5nZXRNZXRhRmllbGRzKCdDdXN0b21lcmFkZHJlc3NEZXRhaWxzJyk7XG4gICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5LmlzTmV3KSB7XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmFkZHJlc3NUeXBlID0gYmxhZGUuYWRkcmVzc1R5cGVzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBibGFkZS5jdXJyZW50RW50aXR5O1xuICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICBibGFkZS5jb3VudHJpZXMgPSBjb3VudHJpZXMucXVlcnkoKTtcblxuXG4gICAgICAgIGJsYWRlLmRlZmF1bHRBZGRyZXNzID0gYmxhZGUuY3VycmVudEVudGl0eS5pc0RlZmF1bHQ7XG5cblxuICAgICAgICBibGFkZS5jb3VudHJpZXMuJHByb21pc2UudGhlbihcbiAgICAgICAgICAgIChhbGxDb3VudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdibGFkZS5jdXJyZW50RW50aXR5LmNvdW50cnlDb2RlJywgKGNvdW50cnlDb2RlLCBvbGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50cnlDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRyeSA9IF8uZmluZFdoZXJlKGFsbENvdW50cmllcywgeyBpZDogY291bnRyeUNvZGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkuY291bnRyeU5hbWUgPSBjb3VudHJ5Lm5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRyeUNvZGUgIT09IG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LnJlZ2lvbk5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSZWdpb25zID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50cnkucmVnaW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UmVnaW9ucyA9IGNvdW50cnkucmVnaW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJpZXMucXVlcnlSZWdpb25zKGNvdW50cnlDb2RlKS4kcHJvbWlzZS50aGVuKChyZWdpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHJ5LnJlZ2lvbnMgPSByZWdpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFJlZ2lvbnMucHVzaCguLi5yZWdpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRSZWdpb25zID0gW107XG4gICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5LnJlZ2lvbk5hbWUgJiYgIWJsYWRlLmN1cnJlbnRFbnRpdHkucmVnaW9uSWQpIHtcbiAgICAgICAgICAgIGFkZFJlZ2lvbihjdXJyZW50UmVnaW9ucywgYmxhZGUuY3VycmVudEVudGl0eS5yZWdpb25OYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsYWRlLmdldFJlZ2lvbnMgPSBmdW5jdGlvbiAoc2VhcmNoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IGN1cnJlbnRSZWdpb25zO1xuICAgICAgICAgICAgaWYgKHNlYXJjaCAmJiBzZWFyY2gubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKHJlc3VsdHMsIHNlYXJjaCk7XG4gICAgICAgICAgICAgICAgaWYgKCFfLnNvbWUoZmlsdGVyZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJlZ2lvbihyZXN1bHRzLCBzZWFyY2gpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWQubGVuZ3RoID4gMSkgeyAvLyByZW1vdmUgb3RoZXIgKGFkZGVkKSByZWNvcmRzXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkID0gXy5maWx0ZXIoZmlsdGVyZWQsICh4KSA9PiAheC5pZCAmJiB4LmRpc3BsYXlOYW1lLmxlbmd0aCA+IHNlYXJjaC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4IG9mIGZpbHRlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnNwbGljZShfLmluZGV4T2YocmVzdWx0cywgeCksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBhZGRSZWdpb24ocmVnaW9ucywgbmFtZSkge1xuICAgICAgICAgICAgcmVnaW9ucy51bnNoaWZ0KHsgbmFtZTogbmFtZSwgZGlzcGxheU5hbWU6IG5hbWUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuJHdhdGNoKCdibGFkZS5jdXJyZW50RW50aXR5LnJlZ2lvbk5hbWUnLCBmdW5jdGlvbiAocmVnaW9uTmFtZSwgb2xkKSB7XG4gICAgICAgICAgICBpZiAocmVnaW9uTmFtZSA9PT0gb2xkKSByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBuZXdJZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAocmVnaW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciByZWdpb24gPSBfLmZpbmRXaGVyZShjdXJyZW50UmVnaW9ucywgeyBuYW1lOiByZWdpb25OYW1lIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWdpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SWQgPSByZWdpb24uaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LnJlZ2lvbklkID0gbmV3SWQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnNhdmVcIiwgaWNvbjogJ2ZhcyBmYS1zYXZlJyxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzaWduaW5nIGEgZGVmYXVsdCBhZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5LmlzTmV3KSB7IC8vIElmIHlvdSBhZGRlZCBhIG5ldyBhZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUubnVtYmVyT2ZBZGRyZXNzZXMoYmxhZGUuY3VycmVudEVudGl0eS5hZGRyZXNzVHlwZSkgPT0gMCkgeyAvLyBJZiBoZSB3aWxsIHRoZSBvbmx5IG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkuaXNEZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5LmlzRGVmYXVsdCA9PT0gdHJ1ZSkgeyAvLyBJZiBhdCBjcmVhdGlvbiBtYWRlIHRoZSBkZWZhdWx0IGFkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuc2VhcmNoRGVmYXVsdEFkZHJlc3MoYmxhZGUuY3VycmVudEVudGl0eS5hZGRyZXNzVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmlzRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoYmxhZGUuY3VycmVudEVudGl0eS5hZGRyZXNzVHlwZSwgYmxhZGUub3JpZ0VudGl0eS5hZGRyZXNzVHlwZSkpIHsgLy8gSWYgdGhlIHR5cGUgb2YgdGhlIGN1cnJlbnQgYWRkcmVzcyBoYXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkuaXNEZWZhdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLm51bWJlck9mQWRkcmVzc2VzKGJsYWRlLmN1cnJlbnRFbnRpdHkuYWRkcmVzc1R5cGUpID09IDApIHsgLy8gVGhlIGN1cnJlbnQgYWRkcmVzcyB3aWxsIGJlIHRoZSBvbmx5IG9uZSBpbiB0aGUgZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5pc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUubnVtYmVyT2ZBZGRyZXNzZXMoYmxhZGUub3JpZ0VudGl0eS5hZGRyZXNzVHlwZSkgPT0gMiAmJiBibGFkZS5vcmlnRW50aXR5LmFkZHJlc3NUeXBlICE9PSBibGFkZS5hZGRyZXNzVHlwZXNbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuc2VhcmNoU2Vjb25kQWRkcmVzcyhibGFkZS5vcmlnRW50aXR5LmFkZHJlc3NUeXBlLCBibGFkZS5jdXJyZW50RW50aXR5Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnNlYXJjaERlZmF1bHRBZGRyZXNzKGJsYWRlLmN1cnJlbnRFbnRpdHkuYWRkcmVzc1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5jdXJyZW50RW50aXR5LmFkZHJlc3NUeXBlID09IGJsYWRlLmFkZHJlc3NUeXBlc1syXSkgeyAvLyBJZiB0aGUgY3VycmVudCBhZGRyZXNzIGlzIGZyb20gQmlsbGluZ0FuZFNoaXBwaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmlzRGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLmNvbmZpcm1DaGFuZ2VzRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmNvbmZpcm1DaGFuZ2VzRm4oYmxhZGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogY2FuU2F2ZSxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVzZXRcIiwgaWNvbjogJ2ZhIGZhLXVuZG8nLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHksIGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNEaXJ0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmRlbGV0ZVwiLCBpY29uOiAnZmFzIGZhLXRyYXNoLWFsdCcsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZGVsZXRlRW50cnksXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWJsYWRlLmN1cnJlbnRFbnRpdHkuaXNOZXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNvcmUuY29tbWFuZHMuZGVmYXVsdFwiLCBpY29uOiAnZmFzIGZhLWZsYWcnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5pc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUuY3VycmVudEVudGl0eS5hZGRyZXNzVHlwZSA9PSAnQmlsbGluZ0FuZFNoaXBwaW5nJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFibGFkZS5jdXJyZW50RW50aXR5LmlzRGVmYXVsdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1ldGE6IFwiZGVmYXVsdFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG5cbiAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgYmxhZGUub25DbG9zZSA9IGZ1bmN0aW9uIChjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIGNhblNhdmUoKSwgYmxhZGUsICRzY29wZS5zYXZlQ2hhbmdlcywgY2xvc2VDYWxsYmFjaywgXCJjb3JlLmRpYWxvZ3MuYWRkcmVzcy1zYXZlLnRpdGxlXCIsIFwiY29yZS5kaWFsb2dzLmFkZHJlc3Mtc2F2ZS5tZXNzYWdlXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgICAgICRzY29wZS5mb3JtU2NvcGUgPSBmb3JtO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGlydHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gIWFuZ3VsYXIuZXF1YWxzKGJsYWRlLmN1cnJlbnRFbnRpdHksIGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2FuU2F2ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0RpcnR5KCkgJiYgJHNjb3BlLmZvcm1TY29wZSAmJiAkc2NvcGUuZm9ybVNjb3BlLiR2YWxpZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRlbGV0ZUVudHJ5KCkge1xuICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHtcbiAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiY29yZS5kaWFsb2dzLmFkZHJlc3MtZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJjb3JlLmRpYWxvZ3MuYWRkcmVzcy1kZWxldGUubWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5kZWxldGVGbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmRlbGV0ZUZuKGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibGFkZS5udW1iZXJPZkFkZHJlc3NlcyhibGFkZS5vcmlnRW50aXR5LmFkZHJlc3NUeXBlKSA9PSAxICYmIGJsYWRlLmN1cnJlbnRFbnRpdHkuYWRkcmVzc1R5cGUgIT09IGJsYWRlLmFkZHJlc3NUeXBlc1syXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnNlYXJjaFNlY29uZEFkZHJlc3MoYmxhZGUub3JpZ0VudGl0eS5hZGRyZXNzVHlwZSwgYmxhZGUuY3VycmVudEVudGl0eS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhkaWFsb2cpO1xuICAgICAgICB9XG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUuY29tbW9uJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5jb21tb24uY29yZUFkZHJlc3NMaXN0Q29udHJvbGxlcicsIFsnJHRpbWVvdXQnLCAnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHRpbWVvdXQsICRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuXG4gICAgICAgICRzY29wZS5vcGVuRGV0YWlsQmxhZGUgPSBmdW5jdGlvbiAoYWRkcmVzcykge1xuICAgICAgICAgICAgaWYgKCFhZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzcyA9IHsgaXNOZXc6IHRydWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBhZGRyZXNzO1xuXG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6ICdjb3JlQWRkcmVzc0RldGFpbCcsXG4gICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogYWRkcmVzcyxcbiAgICAgICAgICAgICAgICB0aXRsZTogYmxhZGUudGl0bGUsXG4gICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjb3JlLmJsYWRlcy5hZGRyZXNzLWRldGFpbC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUuY29tbW9uLmNvcmVBZGRyZXNzRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29uZmlybUNoYW5nZXNGbjogZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcy5uYW1lID0gJHNjb3BlLmdldEFkZHJlc3NOYW1lKGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWRkcmVzcy5pc05ldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzcy5pc05ldyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcy5wdXNoKGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLmNvbmZpcm1DaGFuZ2VzRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jb25maXJtQ2hhbmdlc0ZuKGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZWxldGVGbjogZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvUmVtb3ZlID0gXy5maW5kKGJsYWRlLmN1cnJlbnRFbnRpdGllcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKHgsIGFkZHJlc3MpIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9SZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSBibGFkZS5jdXJyZW50RW50aXRpZXMuaW5kZXhPZih0b1JlbW92ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmxhZGUuZGVsZXRlRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5kZWxldGVGbihhZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZBZGRyZXNzZXM6IGZ1bmN0aW9uIChhZGRyZXNzVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMuZmluZCgoZGVmQWRkcmVzcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZkFkZHJlc3MuYWRkcmVzc1R5cGUgPT09IGFkZHJlc3NUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlYXJjaFNlY29uZEFkZHJlc3M6IGZ1bmN0aW9uIChhZGRyZXNzVHlwZSwgbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMuZmluZCgoZGVmQWRkcmVzcywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlZkFkZHJlc3MuYWRkcmVzc1R5cGUgPT09IGFkZHJlc3NUeXBlICYmIGRlZkFkZHJlc3MubmFtZSAhPT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllc1tpXS5pc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlYXJjaERlZmF1bHRBZGRyZXNzOiBmdW5jdGlvbiAoYWRkcmVzc1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzLmZpbmQoKGRlZkFkZHJlc3MsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZBZGRyZXNzLmFkZHJlc3NUeXBlID09PSBhZGRyZXNzVHlwZSAmJiBkZWZBZGRyZXNzLmlzRGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllc1tpXS5pc0RlZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIpL1NjcmlwdHMvY29tbW9uL2JsYWRlcy9hZGRyZXNzLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgJHNjb3BlLmJsYWRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS5nZXRBZGRyZXNzTmFtZSA9IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgICAgICByZXR1cm4gW2FkZHJlc3MuY291bnRyeUNvZGUsIGFkZHJlc3MucmVnaW9uTmFtZSwgYWRkcmVzcy5jaXR5LCBhZGRyZXNzLmxpbmUxXS5qb2luKFwiLCBcIik7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUuaGVhZEljb24gPSBibGFkZS5wYXJlbnRCbGFkZS5oZWFkSWNvbjtcblxuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5hZGRcIiwgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vcGVuRGV0YWlsQmxhZGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG9wZW4gYmxhZGUgZm9yIG5ldyBzZXR0aW5nXG4gICAgICAgIGlmICghXy5zb21lKGJsYWRlLmN1cnJlbnRFbnRpdGllcykpIHtcbiAgICAgICAgICAgICR0aW1lb3V0KCRzY29wZS5vcGVuRGV0YWlsQmxhZGUsIDYwLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpXG4gICAgLmRpcmVjdGl2ZSgndmNDdXN0b21lclNlYXJjaCcsIFsnJGxvY2FsU3RvcmFnZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUucHJlZGVmaW5lZFNlYXJjaEZpbHRlcnMnLCBmdW5jdGlvbiAoJGxvY2FsU3RvcmFnZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgcHJlZGVmaW5lZFNlYXJjaEZpbHRlcnMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHxcbiAgICAgICAgICAgICAgICAgICAgJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyKS9TY3JpcHRzL2RpcmVjdGl2ZXMvY3VzdG9tZXJTZWFyY2gudHBsLmh0bWwnO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgYmxhZGU6ICc9J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGxvY2FsU3RvcmFnZSA9ICRsb2NhbFN0b3JhZ2U7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9ICRzY29wZS5maWx0ZXIgPSBibGFkZS5maWx0ZXI7XG5cbiAgICAgICAgICAgICAgICBpZiAoJGxvY2FsU3RvcmFnZS5jdXN0b21lclNlYXJjaEZpbHRlcklkICYmICFmaWx0ZXIua2V5d29yZCAmJiBmaWx0ZXIua2V5d29yZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuY3VycmVudCA9IF8uZmluZFdoZXJlKCRsb2NhbFN0b3JhZ2UuY3VzdG9tZXJTZWFyY2hGaWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBpZDogJGxvY2FsU3RvcmFnZS5jdXN0b21lclNlYXJjaEZpbHRlcklkIH0pO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIua2V5d29yZCA9IGZpbHRlci5jdXJyZW50ID8gZmlsdGVyLmN1cnJlbnQua2V5d29yZCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuc2VhcmNoSW5WYXJpYXRpb25zID0gZmlsdGVyLmN1cnJlbnQgPyBmaWx0ZXIuY3VycmVudC5zZWFyY2hJblZhcmlhdGlvbnMgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmaWx0ZXIuY2hhbmdlID0gZnVuY3Rpb24oaXNEZXRhaWxCbGFkZU9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvY2FsU3RvcmFnZS5jdXN0b21lclNlYXJjaEZpbHRlcklkID0gZmlsdGVyLmN1cnJlbnQgPyBmaWx0ZXIuY3VycmVudC5pZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIuY3VycmVudCAmJiAhZmlsdGVyLmN1cnJlbnQuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJEZXRhaWxCbGFkZSh7IGlzTmV3OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0RldGFpbEJsYWRlT3BlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQmxhZGUoeyBpZDogJ2ZpbHRlckRldGFpbCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIua2V5d29yZCA9IGZpbHRlci5jdXJyZW50ID8gZmlsdGVyLmN1cnJlbnQua2V5d29yZCA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLnNlYXJjaEluVmFyaWF0aW9ucyA9IGZpbHRlci5jdXJyZW50ID8gZmlsdGVyLmN1cnJlbnQuc2VhcmNoSW5WYXJpYXRpb25zIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuY3JpdGVyaWFDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZmlsdGVyLmVkaXQgPSBmdW5jdGlvbigkZXZlbnQsIGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlci5jdXJyZW50ID0gZW50cnk7XG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJEZXRhaWxCbGFkZSh7IGRhdGE6IGVudHJ5IH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaG93RmlsdGVyRGV0YWlsQmxhZGUoYmxhZGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnZmlsdGVyRGV0YWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLmZpbHRlckRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DdXN0b21lcikvU2NyaXB0cy9ibGFkZXMvZmlsdGVyLWRldGFpbC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5ld0JsYWRlLCBibGFkZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZpbHRlci5jcml0ZXJpYUNoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpXG4uZmFjdG9yeSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5tZW1iZXJzJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL21lbWJlcnMvOmlkJywge30sIHtcbiAgICAgICAgc2VhcmNoOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvbWVtYmVycy9zZWFyY2gnIH0sXG4gICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnIH0sXG4gICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL21lbWJlcnMvZGVsZXRlJ31cbiAgICB9KTtcbn1dKVxuLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUub3JnYW5pemF0aW9ucycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xuICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9tZW1iZXJzL29yZ2FuaXphdGlvbnMnLCB7fSxcbiAgICAgICAge1xuICAgICAgICAgICAgZ2V0QnlJZHM6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIHVybDogJ2FwaS9vcmdhbml6YXRpb25zJyxcbiAgICAgICAgICAgICAgICBpc0FycmF5OiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VhcmNoOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvb3JnYW5pemF0aW9ucy9zZWFyY2gnIH1cbiAgICAgICAgfSk7XG59XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpXG4uZmFjdG9yeSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5tZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZScsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvYmplY3RzOiBbXSxcbiAgICAgICAgcmVnaXN0ZXJUeXBlOiBmdW5jdGlvbiAobWVtYmVyVHlwZURlZmluaXRpb24pIHtcbiAgICAgICAgICAgIG1lbWJlclR5cGVEZWZpbml0aW9uLmRldGFpbEJsYWRlID0gYW5ndWxhci5leHRlbmQoe1xuICAgICAgICAgICAgICAgIGlkOiBcIm1lbWJlckRldGFpbFwiLFxuICAgICAgICAgICAgICAgIG1ldGFGaWVsZHM6IFtdLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlckRldGFpbENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIG1lbWJlclR5cGVEZWZpbml0aW9uOiBtZW1iZXJUeXBlRGVmaW5pdGlvblxuICAgICAgICAgICAgfSwgbWVtYmVyVHlwZURlZmluaXRpb24uZGV0YWlsQmxhZGUpO1xuXG4gICAgICAgICAgICBtZW1iZXJUeXBlRGVmaW5pdGlvbi5rbm93bkNoaWxkcmVuVHlwZXMgPSBtZW1iZXJUeXBlRGVmaW5pdGlvbi5rbm93bkNoaWxkcmVuVHlwZXMgfHwgW107XG5cbiAgICAgICAgICAgIHRoaXMub2JqZWN0cy5wdXNoKG1lbWJlclR5cGVEZWZpbml0aW9uKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzb2x2ZTogZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmRXaGVyZSh0aGlzLm9iamVjdHMsIHsgbWVtYmVyVHlwZTogdHlwZSB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTsiLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5jdXN0b21lckFjY291bnRzV2lkZ2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgXG4gICAgJHNjb3BlLm9wZW5CbGFkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgaWQ6IFwiY3VzdG9tZXJDaGlsZEJsYWRlXCIsXG4gICAgICAgICAgICB0aXRsZTogJHNjb3BlLmJsYWRlLnRpdGxlLFxuICAgICAgICAgICAgc3VidGl0bGU6ICdjdXN0b21lci53aWRnZXRzLmN1c3RvbWVyLWFjY291bnRzLWxpc3QuYmxhZGUtc3VidGl0bGUnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUuY3VzdG9tZXJBY2NvdW50c0xpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIpL1NjcmlwdHMvYmxhZGVzL2N1c3RvbWVyLWFjY291bnRzLWxpc3QudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCAkc2NvcGUuYmxhZGUpO1xuICAgIH07XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVyQWRkcmVzc2VzV2lkZ2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcblxuICAgICRzY29wZS5vcGVuQmxhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgXHRpZDogXCJvcmRlck9wZXJhdGlvbkFkZHJlc3Nlc1wiLFxuICAgICAgICAgICAgY3VycmVudEVudGl0aWVzOiBibGFkZS5jdXJyZW50RW50aXR5LmFkZHJlc3NlcyxcbiAgICAgICAgICAgIHRpdGxlOiBibGFkZS50aXRsZSxcbiAgICAgICAgICAgIHN1YnRpdGxlOiAnY3VzdG9tZXIud2lkZ2V0cy5hZGRyZXNzLWxpc3QuYmxhZGUtc3VidGl0bGUnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUuY29tbW9uLmNvcmVBZGRyZXNzTGlzdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5DdXN0b21lcikvU2NyaXB0cy9jb21tb24vYmxhZGVzL2FkZHJlc3MtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICB9O1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVyRW1haWxzV2lkZ2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XHJcbiAgICAgICAgJHNjb3BlLmJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcclxuXHJcbiAgICAgICAgJHNjb3BlLm9wZW5CbGFkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xyXG4gICAgICAgICAgICAgICAgaWQ6IFwiY3VzdG9tZXJDaGlsZEJsYWRlXCIsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJHNjb3BlLmJsYWRlLnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc3VidGl0bGU6ICdjdXN0b21lci53aWRnZXRzLm1lbWJlci1lbWFpbHMtbGlzdC5ibGFkZS1zdWJ0aXRsZScsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZS5tZW1iZXJFbWFpbHNMaXN0Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkN1c3RvbWVyKS9TY3JpcHRzL2JsYWRlcy9tZW1iZXItZW1haWxzLWxpc3QudHBsLmh0bWwnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCAkc2NvcGUuYmxhZGUpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlclBob25lc1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuICAgICRzY29wZS5ibGFkZSA9ICRzY29wZS53aWRnZXQuYmxhZGU7XG5cbiAgICAkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICBpZDogXCJjdXN0b21lckNoaWxkQmxhZGVcIixcbiAgICAgICAgICAgIHRpdGxlOiAkc2NvcGUuYmxhZGUudGl0bGUsXG4gICAgICAgICAgICBzdWJ0aXRsZTogJ2N1c3RvbWVyLndpZGdldHMubWVtYmVyLXBob25lcy1saXN0LmJsYWRlLXN1YnRpdGxlJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlclBob25lc0xpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ3VzdG9tZXIpL1NjcmlwdHMvYmxhZGVzL21lbWJlci1waG9uZXMtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsICRzY29wZS5ibGFkZSk7XG4gICAgfTtcbn1dKTsiXSwic291cmNlUm9vdCI6IiJ9