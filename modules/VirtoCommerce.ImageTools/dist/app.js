!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){o(1),o(2),o(3),o(4),o(5),o(6),o(7),o(8),e.exports=o(9)},function(e,t){null!=AppDependencies&&AppDependencies.push("virtoCommerce.imageToolsModule"),angular.module("virtoCommerce.imageToolsModule",["ui.grid.infiniteScroll"]).constant("imageToolsConfig",{intMaxValue:2147483647}).config(["$stateProvider",function(e){e.state("workspace.thumbnail",{url:"/thumbnail",templateUrl:"$(Platform)/Scripts/common/templates/home.tpl.html",controller:["$scope","platformWebApp.bladeNavigationService",function(e,t){t.showBlade({id:"thumbnailList",title:"imageTools.blades.tasks-list.title",subtitle:"imageTools.blades.tasks-list.subtitle",controller:"virtoCommerce.imageToolsModule.taskListController",template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/blades/task-list.tpl.html",isClosingDisabled:!0})}]})}]).run(["$rootScope","platformWebApp.mainMenuService","platformWebApp.widgetService","$state","platformWebApp.authService","platformWebApp.pushNotificationTemplateResolver","platformWebApp.bladeNavigationService",function(e,t,o,i,n,a,r){var l={path:"browse/thumbnail",icon:"fa fa-picture-o",title:"imageTools.main-menu-title",priority:901,action:function(){i.go("workspace.thumbnail")},permission:"thumbnail:access"};t.addMenuItem(l);var s={priority:901,satisfy:function(e,t){return"header-notification"==t&&"ThumbnailProcess"==e.notifyType},template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/notifications/headerNotification.tpl.html",action:function(e){i.go("workspace.pushNotificationsHistory",e)}};a.register(s);var c={priority:901,satisfy:function(e,t){return"history"==t&&"ThumbnailProcess"==e.notifyType},template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/notifications/historyThumbnailProcess.tpl.html",action:function(e){var t={id:"thumbnailProcessDetail",title:"Title1",template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/blades/task-progress.tpl.html",controller:"virtoCommerce.imageToolsModule.taskRunController",notification:e};r.showBlade(t)}};a.register(c)}])},function(e,t){angular.module("virtoCommerce.imageToolsModule").controller("virtoCommerce.imageToolsModule.optionDetailController",["$rootScope","$scope","platformWebApp.dialogService","platformWebApp.bladeNavigationService","virtoCommerce.imageToolsModule.resizeMethod","virtoCommerce.imageToolsModule.anchorPosition","virtoCommerce.imageToolsModule.jpegQuality","virtoCommerce.imageToolsModule.optionApi",function(e,t,o,i,n,a,r,l){var s,c=t.blade;function u(e){c.item=angular.copy(e),c.currentEntity=c.item,c.origEntity=e,c.isLoading=!1,c.title=c.isNew?"imageTools.blades.setting-detail.title":e.name,c.subtitle="imageTools.blades.setting-detail.subtitle"}function m(){return!angular.equals(c.currentEntity,c.origEntity)&&c.hasUpdatePermission()}function d(){return m()&&s&&s.$valid}t.positiveNum=/^[0-9]+$/,c.resizeMethodTypes=n.get(),c.anchorPositionTypes=a.get(),c.jpegQualityTypes=r.get(),c.refresh=function(e){c.isLoading=!0,c.isNew?u({resizeMethod:"FixedSize",anchorPosition:"Center",jpegQuality:"High"}):l.get({id:c.currentEntityId},(function(t){u(t),e&&c.parentBlade.refresh(e)}))},t.saveChanges=function(){c.isLoading=!0,(c.isNew?l.save(c.currentEntity,(function(e){c.isNew=!1,c.currentEntityId=e.id,c.refresh(!0)})).$promise:l.update(c.currentEntity,(function(){c.refresh(!0)})).$promise).catch((function(e){i.setError("Error "+e.status,c)})).finally((function(){c.isLoading=!1}))},t.setForm=function(e){s=e},c.onClose=function(e){i.showConfirmationIfNeeded(m(),d(),c,t.saveChanges,e,"imageTools.dialogs.setting-save.title","imageTools.dialogs.setting-save.message")},c.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:t.saveChanges,canExecuteMethod:d},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(c.origEntity,c.currentEntity)},canExecuteMethod:m},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var e={id:"confirmDelete",title:"imageTools.dialogs.setting-delete.title",message:"imageTools.dialogs.setting-delete.message",callback:function(e){e&&(c.isLoading=!0,l.delete({ids:c.currentEntityId},(function(){i.closeBlade(c,(function(){c.parentBlade.refresh(!0)}))})))}};o.showConfirmationDialog(e)},canExecuteMethod:function(){return!c.isNew}}],c.refresh()}])},function(e,t){angular.module("virtoCommerce.imageToolsModule").controller("virtoCommerce.imageToolsModule.optionListController",["$scope","platformWebApp.bladeNavigationService","imageToolsConfig","virtoCommerce.imageToolsModule.optionApi",function(e,t,o,i){var n=e.blade;function a(e){var o={id:"optionDetail",controller:"virtoCommerce.imageToolsModule.optionDetailController",template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/blades/option-detail.tpl.html"};angular.extend(o,e),t.showBlade(o,n)}n.refresh=function(e){n.isLoading=!0;var t={skip:0,take:o.intMaxValue};i.search(t,(function(e){n.isLoading=!1,n.currentEntities=e.results})),e&&n.parentBlade.refresh&&n.parentBlade.refresh()},n.setSelectedId=function(t){e.selectedNodeId=t},e.selectNode=function(e){n.setSelectedId(e.id),a({currentEntityId:e.id})},n.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:n.refresh,canExecuteMethod:function(){return!0}},{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){n.setSelectedId(null),a({isNew:!0})},canExecuteMethod:function(){return!0}}],n.refresh()}])},function(e,t){angular.module("virtoCommerce.imageToolsModule").controller("virtoCommerce.imageToolsModule.taskDetailController",["$rootScope","$scope","platformWebApp.bladeNavigationService","imageToolsConfig","virtoCommerce.imageToolsModule.taskApi","virtoCommerce.imageToolsModule.optionApi","platformWebApp.dialogService",function(e,t,o,i,n,a,r){var l=t.blade;function s(e){if(l.isNew){var t=c();a.search(t,(function(e){!function(e){l.currentEntity&&l.currentEntity.thumbnailOptions.length>0&&(l.currentEntity.thumbnailOptions=_.map(l.currentEntity.thumbnailOptions,(function(t){var o=_.find(e,(function(e){return t.id==e.id}));return o||t})))}(e.results),l.optionList=e.results,l.currentEntity={},l.isLoading=!1}))}else l.item=angular.copy(e),l.currentEntity=l.item,l.origEntity=e,l.isLoading=!1}function c(){return{skip:0,take:i.intMaxValue}}function u(){return!angular.equals(l.currentEntity,l.origEntity)&&l.hasUpdatePermission()}function m(){return u()&&l.formScope&&l.formScope.$valid}function d(){l.isLoading=!0,(l.isNew?n.save(l.currentEntity,(function(e){l.isNew=!1,l.currentEntityId=e.id,l.refresh(!0)})).$promise:n.update(l.currentEntity,(function(){l.refresh(!0)})).$promise).catch((function(e){o.setError("Error "+e.status,l)})).finally((function(){l.isLoading=!1}))}function g(e){if(e&&1===e.length&&"folder"===e[0].type){var t=e[0];l.currentEntity.workPath=t.relativeUrl?t.relativeUrl:t.name}else{r.showDialog({id:"selectFolderDialog",title:"imageTools.dialogs.select-folder.title",message:"imageTools.dialogs.select-folder.msg1",callback:function(){return!0}},"$(Platform)/Scripts/common/dialogs/notifyDialog.tpl.html","platformWebApp.confirmDialogController")}}l.updatePermission="thumbnail:update",l.refresh=function(e){var t=c();a.search(t,(function(e){l.optionList=e.results})),l.isNew?s({}):n.get({id:l.currentEntityId},(function(t){s(t),e&&l.parentBlade.refresh()}))},l.onClose=function(e){o.showConfirmationIfNeeded(u(),m(),l,d,e,"imageTools.dialogs.task-save.title","imageTools.dialogs.task-save.message")},l.formScope=null,t.setForm=function(e){l.formScope=e},l.toolbarCommands=[{name:"platform.commands.save",icon:"fas fa-save",executeMethod:function(){d()},canExecuteMethod:function(){return m()},permission:l.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){l.item=angular.copy(l.origEntity),l.currentEntity=l.item},canExecuteMethod:function(){return u()},permission:l.updatePermission},{name:"imageTools.commands.run",icon:"fa fa-exclamation",executeMethod:function(){var e,i;e=l.currentEntity,i={id:"confirmTaskRun",isFirstRun:!e.lastRun,callback:function(i){var a={taskIds:[e.id],regenerate:i};n.taskRun(a,(function(e){var i={id:"thumbnailProgress",notification:e,controller:"virtoCommerce.imageToolsModule.taskRunController",template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/blades/task-progress.tpl.html"};t.$on("new-notification-event",(function(e,t){t&&t.id==i.notification.id&&(l.canImport=null!=t.finished)})),o.showBlade(i,l.parentBlade||l)}),(function(e){o.setError("Error "+e.status,l)}))}},r.showDialog(i,"Modules/$(VirtoCommerce.ImageTools)/Scripts/dialogs/run-dialog.tpl.html","platformWebApp.confirmDialogController")},canExecuteMethod:function(){return!l.isNew&&!u()}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var e;e={id:"confirmDelete",title:"imageTools.dialogs.task-delete.title",message:"imageTools.dialogs.task-delete.message",callback:function(e){e&&(l.isLoading=!0,n.delete({ids:l.currentEntityId},(function(){o.closeBlade(l,(function(){l.parentBlade.refresh()}))})))}},r.showConfirmationDialog(e)},canExecuteMethod:function(){return!l.isNew}}],l.openFolderPath=function(){var e={title:"imageTools.blades.setting-managment.title",subtitle:"imageTools.blades.setting-managment.subtitle",onSelect:g,controller:"virtoCommerce.assetsModule.assetSelectController"};o.showBlade(e,l)},l.openSettingManagement=function(){var e={id:"optionListDetail",currentEntityId:l.currentEntityId,title:"imageTools.blades.setting-managment.title",subtitle:"imageTools.blades.setting-managment.subtitle",controller:"virtoCommerce.imageToolsModule.optionListController",template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/blades/option-list.tpl.html"};o.showBlade(e,l)},l.refresh()}])},function(e,t){angular.module("virtoCommerce.imageToolsModule").controller("virtoCommerce.imageToolsModule.taskListController",["$scope","$timeout","platformWebApp.bladeNavigationService","platformWebApp.bladeUtils","platformWebApp.uiGridHelper","platformWebApp.dialogService","virtoCommerce.imageToolsModule.taskApi",function(e,t,o,i,n,a,r){var l=e.blade;function s(){if(e.hasMore){++e.pageSettings.currentPage,e.gridApi.infiniteScroll.saveScrollPercentage(),l.isLoading=!0;var o=u();r.search(o,(function(o){c(o.results),e.items=e.items.concat(o.results),e.hasMore=o.listEntries.length===e.pageSettings.itemsPerPageCount,e.gridApi.infiniteScroll.dataLoaded(),t((function(){e.gridApi.selection.getSelectAllState()&&e.gridApi.selection.selectAllRows()}))})).$promise.finally((function(){l.isLoading=!1}))}}function c(e){angular.forEach(e,(function(e){var t=_.first(e.thumbnailOptions,3);(t=_.map(t,(function(e){return e.width+"x"+e.height})))&&t.length&&(e.description="("+t.join(", ")+")")}))}function u(){return{sort:n.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount}}function m(){return e.gridApi&&_.any(e.gridApi.selection.getSelectedRows())}function d(){return e.gridApi.selection.getSelectedRows()}e.uiGridConstants=n.uiGridConstants,e.hasMore=!0,e.items=[],l.refresh=function(){l.isLoading=!0,1!==e.pageSettings.currentPage&&(e.pageSettings.currentPage=1);var o=u();r.search(o,(function(o){c(o.results),e.items=o.results,e.hasMore=o.totalCount===e.pageSettings.itemsPerPageCount,t((function(){e.gridApi&&e.gridApi.selection.getSelectAllState()&&e.gridApi.selection.selectAllRows()}))})).$promise.finally((function(){l.isLoading=!1})),e.gridApi&&(e.items=[],e.gridApi.selection.clearSelectedRows(),e.gridApi.infiniteScroll.resetScroll(!0,!0),e.gridApi.infiniteScroll.dataLoaded())},l.setSelectedItem=function(t){e.selectedNodeId=t.id},e.selectItem=function(t,o){l.setSelectedItem(o),e.taskEdit(o)},e.taskEdit=function(e){var t={id:"listTaskDetail",currentEntityId:e.id,title:"imageTools.blades.task-detail.title",subtitle:"imageTools.blades.task-detail.subtitle",controller:"virtoCommerce.imageToolsModule.taskDetailController",template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/blades/task-detail.tpl.html"};o.showBlade(t,l)},e.selectNode=function(t,i){e.selectedNodeId=t.id;var n={id:"listTaskDetail",controller:"virtoCommerce.imageToolsModule.taskDetailController",template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/blades/task-detail.tpl.html"};i?angular.extend(n,{title:"imageTools.blades.task-detail.title",isNew:!0,saveCallback:function(e){n.isNew=!1,l.refresh(!0).then((function(){n.currentEntityId=e.id,o.showBlade(n,l)}))}}):angular.extend(n,{currentEntityId:t.id,title:t.name,subtitle:"imageTools.blades.task-detail.subtitle"}),o.showBlade(n,l)},e.taskRun=function(t){var i={id:"confirmTaskRun",isFirstRun:_.some(t,(function(e){return!e.lastRun})),callback:function(i){var n={taskIds:angular.isArray(t)?_.pluck(t,"id"):[t.id],regenerate:i};r.taskRun(n,(function(t){var i={id:"thumbnailProgress",notification:t,controller:"virtoCommerce.imageToolsModule.taskRunController",template:"Modules/$(VirtoCommerce.ImageTools)/Scripts/blades/task-progress.tpl.html"};e.$on("new-notification-event",(function(e,t){t&&t.id==i.notification.id&&(l.canImport=null!=t.finished)})),o.showBlade(i,l.parentBlade||l)}),(function(e){o.setError("Error "+e.status,l)}))}};a.showDialog(i,"Modules/$(VirtoCommerce.ImageTools)/Scripts/dialogs/run-dialog.tpl.html","platformWebApp.confirmDialogController")},l.headIcon="fa fa-picture-o",l.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:l.refresh,canExecuteMethod:function(){return!0}},{name:"platform.commands.add",icon:"fas fa-plus",executeMethod:function(){e.selectNode({},!0)},canExecuteMethod:function(){return!0}},{name:"imageTools.commands.run",icon:"fa fa-exclamation",canExecuteMethod:m,executeMethod:function(){e.taskRun(d())}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var e,t;e=d(),t={id:"confirmDelete",title:"imageTools.dialogs.task-delete.title",message:"imageTools.dialogs.task-delete.message",callback:function(t){if(t){l.isLoading=!0,o.closeChildrenBlades(l);var i=_.map(e,(function(e){return e.id}));r.delete({ids:i},(function(){l.refresh()}))}}},a.showConfirmationDialog(t)},canExecuteMethod:m}],e.taskDelete=function(e){var t={id:"confirmDelete",title:"imageTools.dialogs.task-delete.title",message:"imageTools.dialogs.task-delete.message",callback:function(t){t&&(l.isLoading=!0,r.delete({ids:e.id},(function(){o.closeChildrenBlades(l),l.refresh()})))}};a.showConfirmationDialog(t)},e.setGridOptions=function(t){i.initializePagination(e,!0),e.pageSettings.itemsPerPageCount=50,n.initialize(e,t,(function(t){e.gridApi=t,n.bindRefreshOnSortChanged(e),e.gridApi.infiniteScroll.on.needLoadMoreData(e,s)})),l.refresh()}}])},function(e,t){angular.module("virtoCommerce.imageToolsModule").controller("virtoCommerce.imageToolsModule.taskRunController",["$scope","virtoCommerce.imageToolsModule.taskApi",function(e,t){var o=e.blade;e.$on("new-notification-event",(function(e,t){o.notification&&t.id==o.notification.id&&angular.copy(t,o.notification)})),o.toolbarCommands=[{name:"platform.commands.cancel",icon:"fa fa-times",canExecuteMethod:function(){return o.notification&&!o.notification.finished},executeMethod:function(){t.taskCancel({jobId:o.notification.jobId},null,(function(e){}))}}],o.title=o.notification.title,o.headIcon="fa fa-search",o.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.imageToolsModule").factory("virtoCommerce.imageToolsModule.resizeMethod",(function(){return{get:function(){return[{value:"FixedSize",title:"imageTools.blades.setting-detail.resize-method.fixed-size"},{value:"FixedWidth",title:"imageTools.blades.setting-detail.resize-method.fixed-width"},{value:"FixedHeight",title:"imageTools.blades.setting-detail.resize-method.fixed-height"},{value:"Crop",title:"imageTools.blades.setting-detail.resize-method.crop"}]}}})).factory("virtoCommerce.imageToolsModule.anchorPosition",(function(){return{get:function(){return[{value:"TopLeft",title:"imageTools.blades.setting-detail.anchor-position.top-left"},{value:"TopCenter",title:"imageTools.blades.setting-detail.anchor-position.top-center"},{value:"TopRight",title:"imageTools.blades.setting-detail.anchor-position.top-right"},{value:"CenterLeft",title:"imageTools.blades.setting-detail.anchor-position.center-left"},{value:"Center",title:"imageTools.blades.setting-detail.anchor-position.center"},{value:"CenterRight",title:"imageTools.blades.setting-detail.anchor-position.center-right"},{value:"BottomLeft",title:"imageTools.blades.setting-detail.anchor-position.bottom-left"},{value:"BottomCenter",title:"imageTools.blades.setting-detail.anchor-position.bottom-center"},{value:"BottomRight",title:"imageTools.blades.setting-detail.anchor-position.bottom-right"}]}}})).factory("virtoCommerce.imageToolsModule.jpegQuality",(function(){return{get:function(){return[{value:"Low",title:"imageTools.blades.setting-detail.jpeg-quality.low"},{value:"Medium",title:"imageTools.blades.setting-detail.jpeg-quality.medium"},{value:"High",title:"imageTools.blades.setting-detail.jpeg-quality.high"},{value:"VeryHigh",title:"imageTools.blades.setting-detail.jpeg-quality.very-high"}]}}}))},function(e,t){angular.module("virtoCommerce.imageToolsModule").factory("virtoCommerce.imageToolsModule.taskApi",["$resource",function(e){return e("api/image/thumbnails/tasks/:id",{id:"@id"},{search:{method:"POST",url:"api/image/thumbnails/tasks/search"},update:{method:"PUT",url:"api/image/thumbnails/tasks"},taskRun:{method:"POST",url:"api/image/thumbnails/tasks/run"},taskCancel:{method:"POST",url:"api/image/thumbnails/tasks/:jobId/cancel"}})}]).factory("virtoCommerce.imageToolsModule.optionApi",["$resource",function(e){return e("api/image/thumbnails/options/:id",{id:"@id"},{search:{method:"POST",url:"api/image/thumbnails/options/search"},update:{method:"PUT",url:"api/image/thumbnails/options"}})}])},function(e,t,o){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5JbWFnZVRvb2xzLy4vU2NyaXB0cy90aHVtYm5haWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5JbWFnZVRvb2xzLy4vU2NyaXB0cy9ibGFkZXMvb3B0aW9uLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMvLi9TY3JpcHRzL2JsYWRlcy9vcHRpb24tbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMvLi9TY3JpcHRzL2JsYWRlcy90YXNrLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMvLi9TY3JpcHRzL2JsYWRlcy90YXNrLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5JbWFnZVRvb2xzLy4vU2NyaXB0cy9ibGFkZXMvdGFzay1wcm9ncmVzcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMvLi9TY3JpcHRzL3Jlc291cnNlL2VudW1zLmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuSW1hZ2VUb29scy8uL1NjcmlwdHMvcmVzb3Vyc2UvdGh1bWJuYWlsQXBpLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidW5kZWZpbmVkIiwiQXBwRGVwZW5kZW5jaWVzIiwicHVzaCIsImFuZ3VsYXIiLCJjb25zdGFudCIsImludE1heFZhbHVlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIiRzY29wZSIsImJsYWRlTmF2aWdhdGlvblNlcnZpY2UiLCJzaG93QmxhZGUiLCJpZCIsInRpdGxlIiwic3VidGl0bGUiLCJ0ZW1wbGF0ZSIsImlzQ2xvc2luZ0Rpc2FibGVkIiwicnVuIiwiJHJvb3RTY29wZSIsIm1haW5NZW51U2VydmljZSIsIndpZGdldFNlcnZpY2UiLCIkc3RhdGUiLCJhdXRoU2VydmljZSIsInB1c2hOb3RpZmljYXRpb25UZW1wbGF0ZVJlc29sdmVyIiwibWVudUl0ZW0iLCJwYXRoIiwiaWNvbiIsInByaW9yaXR5IiwiYWN0aW9uIiwiZ28iLCJwZXJtaXNzaW9uIiwiYWRkTWVudUl0ZW0iLCJtZW51VGVtcGxhdGUiLCJzYXRpc2Z5Iiwibm90aWZ5IiwicGxhY2UiLCJub3RpZnlUeXBlIiwicmVnaXN0ZXIiLCJoaXN0b3J5VGVtcGxhdGUiLCJibGFkZSIsIm5vdGlmaWNhdGlvbiIsImRpYWxvZ1NlcnZpY2UiLCJyZXNpemVNZXRob2QiLCJhbmNob3JQb3NpdGlvbiIsImpwZWdRdWFsaXR5Iiwib3B0aW9uQXBpIiwiZGV0YWlsRm9ybSIsImluaXRpYWxpemVCbGFkZSIsImRhdGEiLCJpdGVtIiwiY29weSIsImN1cnJlbnRFbnRpdHkiLCJvcmlnRW50aXR5IiwiaXNMb2FkaW5nIiwiaXNOZXciLCJpc0RpcnR5IiwiZXF1YWxzIiwiaGFzVXBkYXRlUGVybWlzc2lvbiIsImNhblNhdmUiLCIkdmFsaWQiLCJwb3NpdGl2ZU51bSIsInJlc2l6ZU1ldGhvZFR5cGVzIiwiYW5jaG9yUG9zaXRpb25UeXBlcyIsImpwZWdRdWFsaXR5VHlwZXMiLCJyZWZyZXNoIiwicGFyZW50UmVmcmVzaCIsImN1cnJlbnRFbnRpdHlJZCIsInBhcmVudEJsYWRlIiwic2F2ZUNoYW5nZXMiLCJzYXZlIiwiJHByb21pc2UiLCJ1cGRhdGUiLCJjYXRjaCIsImVycm9yIiwic2V0RXJyb3IiLCJzdGF0dXMiLCJmaW5hbGx5Iiwic2V0Rm9ybSIsImZvcm0iLCJvbkNsb3NlIiwiY2xvc2VDYWxsYmFjayIsInNob3dDb25maXJtYXRpb25JZk5lZWRlZCIsInRvb2xiYXJDb21tYW5kcyIsImV4ZWN1dGVNZXRob2QiLCJjYW5FeGVjdXRlTWV0aG9kIiwiZGlhbG9nIiwibWVzc2FnZSIsImNhbGxiYWNrIiwicmVtb3ZlIiwiZGVsZXRlIiwiaWRzIiwiY2xvc2VCbGFkZSIsInNob3dDb25maXJtYXRpb25EaWFsb2ciLCJpbWFnZVRvb2xzQ29uZmlnIiwic2hvd0RldGFpbEJsYWRlIiwiYmxhZGVEYXRhIiwibmV3QmxhZGUiLCJleHRlbmQiLCJzZWFyY2hDcml0ZXJpYSIsInNraXAiLCJ0YWtlIiwic2VhcmNoIiwiY3VycmVudEVudGl0aWVzIiwicmVzdWx0cyIsInNldFNlbGVjdGVkSWQiLCJzZWxlY3RlZE5vZGVJZCIsInNlbGVjdE5vZGUiLCJsaXN0SXRlbSIsInRhc2tBcGkiLCJvcHRpb25TZWFyY2hDcml0ZXJpYSIsImdldE9wdGlvbnNTZWFyY2hDcml0ZXJpYSIsIm9wdGlvbnMiLCJ0aHVtYm5haWxPcHRpb25zIiwibGVuZ3RoIiwiXyIsIm1hcCIsImVsIiwibmV3T3B0aW9uIiwiZmluZCIsIm9wdGlvbiIsInVwZGF0ZUVudGl0eU9wdGlvbnMiLCJvcHRpb25MaXN0IiwiZm9ybVNjb3BlIiwiZm9sZGVyUGF0aCIsInR5cGUiLCJzZWxlY3RlZEZvbGRlciIsIndvcmtQYXRoIiwicmVsYXRpdmVVcmwiLCJzaG93RGlhbG9nIiwidXBkYXRlUGVybWlzc2lvbiIsInRhc2siLCJpc0ZpcnN0UnVuIiwibGFzdFJ1biIsInJlZ2VuZXJhdGUiLCJyZXF1ZXN0IiwidGFza0lkcyIsInRhc2tSdW4iLCIkb24iLCJldmVudCIsImNhbkltcG9ydCIsImZpbmlzaGVkIiwib3BlbkZvbGRlclBhdGgiLCJvblNlbGVjdCIsIm9wZW5TZXR0aW5nTWFuYWdlbWVudCIsIiR0aW1lb3V0IiwiYmxhZGVVdGlscyIsInVpR3JpZEhlbHBlciIsInNob3dNb3JlIiwiaGFzTW9yZSIsInBhZ2VTZXR0aW5ncyIsImN1cnJlbnRQYWdlIiwiZ3JpZEFwaSIsImluZmluaXRlU2Nyb2xsIiwic2F2ZVNjcm9sbFBlcmNlbnRhZ2UiLCJnZXRTZWFyY2hDcml0ZXJpYSIsImFkZERlc2NyaXB0aW9uSXRlbSIsIml0ZW1zIiwiY29uY2F0IiwibGlzdEVudHJpZXMiLCJpdGVtc1BlclBhZ2VDb3VudCIsImRhdGFMb2FkZWQiLCJzZWxlY3Rpb24iLCJnZXRTZWxlY3RBbGxTdGF0ZSIsInNlbGVjdEFsbFJvd3MiLCJmb3JFYWNoIiwiZmlyc3RUaHJlZSIsImZpcnN0Iiwid2lkdGgiLCJoZWlnaHQiLCJkZXNjcmlwdGlvbiIsImpvaW4iLCJzb3J0IiwiZ2V0U29ydEV4cHJlc3Npb24iLCJpc0l0ZW1zQ2hlY2tlZCIsImFueSIsImdldFNlbGVjdGVkUm93cyIsImdldFNlbGVjdGVkSXRlbXMiLCJ1aUdyaWRDb25zdGFudHMiLCJ0b3RhbENvdW50IiwiY2xlYXJTZWxlY3RlZFJvd3MiLCJyZXNldFNjcm9sbCIsInNldFNlbGVjdGVkSXRlbSIsInNlbGVjdEl0ZW0iLCJlIiwidGFza0VkaXQiLCJzZWxlY3RlZEl0ZW0iLCJub2RlIiwic2F2ZUNhbGxiYWNrIiwibmV3UHJpY2VsaXN0IiwidGhlbiIsIml0ZW1zU2VsZWN0Iiwic29tZSIsImlzQXJyYXkiLCJwbHVjayIsImhlYWRJY29uIiwiY2xvc2VDaGlsZHJlbkJsYWRlcyIsInRhc2tEZWxldGUiLCJzZXRHcmlkT3B0aW9ucyIsImdyaWRPcHRpb25zIiwiaW5pdGlhbGl6ZVBhZ2luYXRpb24iLCJpbml0aWFsaXplIiwiYmluZFJlZnJlc2hPblNvcnRDaGFuZ2VkIiwib24iLCJuZWVkTG9hZE1vcmVEYXRhIiwidGFza0NhbmNlbCIsImpvYklkIiwiZmFjdG9yeSIsIiRyZXNvdXJjZSIsIm1ldGhvZCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYs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T0FBUSxPQUFRMU0sSUFBSyxrQ0FDaENzTSxXQUFZLENBQUVJLE9BQVEsT0FBUTFNLElBQUssaURBSXREd00sUUFBUSwyQ0FDTCxDQUNJLFlBQWEsU0FBU0MsR0FDbEIsT0FBT0EsRUFBVSxtQ0FDYixDQUFFbk0sR0FBSSxPQUNOLENBQ0l5RixPQUFRLENBQUUyRyxPQUFRLE9BQVExTSxJQUFLLHVDQUMvQmlFLE9BQVEsQ0FBRXlJLE9BQVEsTUFBTzFNLElBQUssc0MiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwidmFyIG1vZHVsZU5hbWUgPSBcInZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZVwiO1xuXG5pZiAoQXBwRGVwZW5kZW5jaWVzICE9IHVuZGVmaW5lZCkge1xuICAgIEFwcERlcGVuZGVuY2llcy5wdXNoKG1vZHVsZU5hbWUpO1xufVxuYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgWyd1aS5ncmlkLmluZmluaXRlU2Nyb2xsJ10pXG4gICAgLmNvbnN0YW50KCdpbWFnZVRvb2xzQ29uZmlnJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaW50TWF4VmFsdWU6IDIxNDc0ODM2NDdcbiAgICAgICAgfSlcbiAgICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC5zdGF0ZSgnd29ya3NwYWNlLnRodW1ibmFpbCcsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvdGh1bWJuYWlsJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJyQoUGxhdGZvcm0pL1NjcmlwdHMvY29tbW9uL3RlbXBsYXRlcy9ob21lLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3RodW1ibmFpbExpc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdpbWFnZVRvb2xzLmJsYWRlcy50YXNrcy1saXN0LnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnaW1hZ2VUb29scy5ibGFkZXMudGFza3MtbGlzdC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnRhc2tMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMpL1NjcmlwdHMvYmxhZGVzL3Rhc2stbGlzdC50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Nsb3NpbmdEaXNhYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShibGFkZSk7XG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0pO1xuICAgIH1dKVxuICAgIC5ydW4oXG4gICAgICAgIFsnJHJvb3RTY29wZScsICdwbGF0Zm9ybVdlYkFwcC5tYWluTWVudVNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAud2lkZ2V0U2VydmljZScsICckc3RhdGUnLCAncGxhdGZvcm1XZWJBcHAuYXV0aFNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAucHVzaE5vdGlmaWNhdGlvblRlbXBsYXRlUmVzb2x2ZXInLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCBtYWluTWVudVNlcnZpY2UsIHdpZGdldFNlcnZpY2UsICRzdGF0ZSwgYXV0aFNlcnZpY2UsIHB1c2hOb3RpZmljYXRpb25UZW1wbGF0ZVJlc29sdmVyLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgICAgICAgICB2YXIgbWVudUl0ZW0gPSB7XG4gICAgICAgICAgICAgICAgcGF0aDogJ2Jyb3dzZS90aHVtYm5haWwnLFxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1waWN0dXJlLW8nLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnaW1hZ2VUb29scy5tYWluLW1lbnUtdGl0bGUnLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiA5MDEsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7ICRzdGF0ZS5nbygnd29ya3NwYWNlLnRodW1ibmFpbCcpOyB9LFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246ICd0aHVtYm5haWw6YWNjZXNzJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1haW5NZW51U2VydmljZS5hZGRNZW51SXRlbShtZW51SXRlbSk7XG5cbiAgICAgICAgICAgIHZhciBtZW51VGVtcGxhdGUgPVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByaW9yaXR5OiA5MDEsXG4gICAgICAgICAgICAgICAgc2F0aXNmeTogZnVuY3Rpb24gKG5vdGlmeSwgcGxhY2UpIHsgcmV0dXJuIHBsYWNlID09ICdoZWFkZXItbm90aWZpY2F0aW9uJyAmJiBub3RpZnkubm90aWZ5VHlwZSA9PSAnVGh1bWJuYWlsUHJvY2Vzcyc7IH0sXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5JbWFnZVRvb2xzKS9TY3JpcHRzL25vdGlmaWNhdGlvbnMvaGVhZGVyTm90aWZpY2F0aW9uLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChub3RpZnkpIHsgJHN0YXRlLmdvKCd3b3Jrc3BhY2UucHVzaE5vdGlmaWNhdGlvbnNIaXN0b3J5Jywgbm90aWZ5KSB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcHVzaE5vdGlmaWNhdGlvblRlbXBsYXRlUmVzb2x2ZXIucmVnaXN0ZXIobWVudVRlbXBsYXRlKTtcblxuICAgICAgICAgICAgdmFyIGhpc3RvcnlUZW1wbGF0ZSA9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IDkwMSxcbiAgICAgICAgICAgICAgICBzYXRpc2Z5OiBmdW5jdGlvbiAobm90aWZ5LCBwbGFjZSkgeyByZXR1cm4gcGxhY2UgPT0gJ2hpc3RvcnknICYmIG5vdGlmeS5ub3RpZnlUeXBlID09ICdUaHVtYm5haWxQcm9jZXNzJzsgfSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMpL1NjcmlwdHMvbm90aWZpY2F0aW9ucy9oaXN0b3J5VGh1bWJuYWlsUHJvY2Vzcy50cGwuaHRtbCcsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAobm90aWZ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAndGh1bWJuYWlsUHJvY2Vzc0RldGFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1RpdGxlMScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMpL1NjcmlwdHMvYmxhZGVzL3Rhc2stcHJvZ3Jlc3MudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS50YXNrUnVuQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb246IG5vdGlmeVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShibGFkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHB1c2hOb3RpZmljYXRpb25UZW1wbGF0ZVJlc29sdmVyLnJlZ2lzdGVyKGhpc3RvcnlUZW1wbGF0ZSk7XG4gICAgICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLmltYWdlVG9vbHNNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLmltYWdlVG9vbHNNb2R1bGUub3B0aW9uRGV0YWlsQ29udHJvbGxlcicsIFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS5yZXNpemVNZXRob2QnLCAndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLmFuY2hvclBvc2l0aW9uJywgJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS5qcGVnUXVhbGl0eScsICd2aXJ0b0NvbW1lcmNlLmltYWdlVG9vbHNNb2R1bGUub3B0aW9uQXBpJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICRzY29wZSwgZGlhbG9nU2VydmljZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgcmVzaXplTWV0aG9kLCBhbmNob3JQb3NpdGlvbiwganBlZ1F1YWxpdHksIG9wdGlvbkFwaSkge1xuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAgICAgJHNjb3BlLnBvc2l0aXZlTnVtID0gL15bMC05XSskLztcblxuICAgICAgICBibGFkZS5yZXNpemVNZXRob2RUeXBlcyA9IHJlc2l6ZU1ldGhvZC5nZXQoKTtcbiAgICAgICAgYmxhZGUuYW5jaG9yUG9zaXRpb25UeXBlcyA9IGFuY2hvclBvc2l0aW9uLmdldCgpO1xuICAgICAgICBibGFkZS5qcGVnUXVhbGl0eVR5cGVzID0ganBlZ1F1YWxpdHkuZ2V0KCk7XG5cbiAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uIChwYXJlbnRSZWZyZXNoKSB7XG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGJsYWRlLmlzTmV3KSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKHsgcmVzaXplTWV0aG9kOiAnRml4ZWRTaXplJywgYW5jaG9yUG9zaXRpb246ICdDZW50ZXInLCBqcGVnUXVhbGl0eTogJ0hpZ2gnIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25BcGkuZ2V0KHsgaWQ6IGJsYWRlLmN1cnJlbnRFbnRpdHlJZCB9LCBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZShkYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50UmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaChwYXJlbnRSZWZyZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKGRhdGEpIHtcbiAgICAgICAgICAgIGJsYWRlLml0ZW0gPSBhbmd1bGFyLmNvcHkoZGF0YSk7XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYmxhZGUuaXRlbTtcbiAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBkYXRhO1xuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gYmxhZGUuaXNOZXcgPyAnaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwudGl0bGUnIDogZGF0YS5uYW1lO1xuICAgICAgICAgICAgYmxhZGUuc3VidGl0bGUgPSAnaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwuc3VidGl0bGUnO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHNhdmVPclVwZGF0ZSgpO1xuICAgICAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7XG4gICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVPclVwZGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25BcGkuc2F2ZShibGFkZS5jdXJyZW50RW50aXR5LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc05ldyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5SWQgPSBkYXRhLmlkO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKHRydWUpO1xuICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uQXBpLnVwZGF0ZShibGFkZS5jdXJyZW50RW50aXR5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2godHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZWxldGVFbnRyeSgpIHtcbiAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IFwiY29uZmlybURlbGV0ZVwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcImltYWdlVG9vbHMuZGlhbG9ncy5zZXR0aW5nLWRlbGV0ZS50aXRsZVwiLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiaW1hZ2VUb29scy5kaWFsb2dzLnNldHRpbmctZGVsZXRlLm1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlbW92ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uQXBpLmRlbGV0ZSh7IGlkczogYmxhZGUuY3VycmVudEVudGl0eUlkIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQmxhZGUoYmxhZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlhbG9nU2VydmljZS5zaG93Q29uZmlybWF0aW9uRGlhbG9nKGRpYWxvZyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGV0YWlsRm9ybTtcbiAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICAgICAgZGV0YWlsRm9ybSA9IGZvcm07XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVxdWFscyhibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KSAmJiBibGFkZS5oYXNVcGRhdGVQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjYW5TYXZlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRGlydHkoKSAmJiBkZXRhaWxGb3JtICYmIGRldGFpbEZvcm0uJHZhbGlkO1xuICAgICAgICB9XG5cblxuICAgICAgICBibGFkZS5vbkNsb3NlID0gZnVuY3Rpb24gKGNsb3NlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbklmTmVlZGVkKGlzRGlydHkoKSwgY2FuU2F2ZSgpLCBibGFkZSwgJHNjb3BlLnNhdmVDaGFuZ2VzLCBjbG9zZUNhbGxiYWNrLCBcImltYWdlVG9vbHMuZGlhbG9ncy5zZXR0aW5nLXNhdmUudGl0bGVcIiwgXCJpbWFnZVRvb2xzLmRpYWxvZ3Muc2V0dGluZy1zYXZlLm1lc3NhZ2VcIik7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLCBpY29uOiAnZmFzIGZhLXNhdmUnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6ICRzY29wZS5zYXZlQ2hhbmdlcyxcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBjYW5TYXZlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVzZXRcIiwgaWNvbjogJ2ZhIGZhLXVuZG8nLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHksIGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogaXNEaXJ0eVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmRlbGV0ZVwiLCBpY29uOiAnZmFzIGZhLXRyYXNoLWFsdCcsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZGVsZXRlRW50cnksXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWJsYWRlLmlzTmV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG5cbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLm9wdGlvbkxpc3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdpbWFnZVRvb2xzQ29uZmlnJywgJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS5vcHRpb25BcGknLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBpbWFnZVRvb2xzQ29uZmlnLCBvcHRpb25BcGkpIHtcbiAgICAgICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uIChwYXJlbnRSZWZyZXNoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBzZWFyY2hDcml0ZXJpYSA9IGdldFNlYXJjaENyaXRlcmlhKCk7XG5cbiAgICAgICAgICAgICAgICBvcHRpb25BcGkuc2VhcmNoKHNlYXJjaENyaXRlcmlhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0aWVzID0gZGF0YS5yZXN1bHRzO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFJlZnJlc2ggJiYgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBTZWFyY2ggQ3JpdGVyaWFcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNlYXJjaENyaXRlcmlhKCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWFyY2hDcml0ZXJpYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcDogMCxcbiAgICAgICAgICAgICAgICAgICAgdGFrZTogaW1hZ2VUb29sc0NvbmZpZy5pbnRNYXhWYWx1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlYXJjaENyaXRlcmlhO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBibGFkZS5zZXRTZWxlY3RlZElkID0gZnVuY3Rpb24gKHNlbGVjdGVkTm9kZUlkKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gc2VsZWN0ZWROb2RlSWQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93RGV0YWlsQmxhZGUoYmxhZGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbkRldGFpbCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmltYWdlVG9vbHNNb2R1bGUub3B0aW9uRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuSW1hZ2VUb29scykvU2NyaXB0cy9ibGFkZXMvb3B0aW9uLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5ld0JsYWRlLCBibGFkZURhdGEpO1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgIGJsYWRlLnNldFNlbGVjdGVkSWQobGlzdEl0ZW0uaWQpO1xuICAgICAgICAgICAgICAgIHNob3dEZXRhaWxCbGFkZSh7IGN1cnJlbnRFbnRpdHlJZDogbGlzdEl0ZW0uaWQgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnJlZnJlc2hcIiwgaWNvbjogJ2ZhIGZhLXJlZnJlc2gnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBibGFkZS5yZWZyZXNoLFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmFkZFwiLCBpY29uOiAnZmFzIGZhLXBsdXMnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5zZXRTZWxlY3RlZElkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0RldGFpbEJsYWRlKHsgaXNOZXc6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnRhc2tEZXRhaWxDb250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ2ltYWdlVG9vbHNDb25maWcnLCAndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnRhc2tBcGknLCAndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLm9wdGlvbkFwaScsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJyxcbiAgICAgICAgZnVuY3Rpb24gKCRyb290U2NvcGUsICRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgaW1hZ2VUb29sc0NvbmZpZywgdGFza0FwaSwgb3B0aW9uQXBpLCBkaWFsb2dTZXJ2aWNlKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgYmxhZGUudXBkYXRlUGVybWlzc2lvbiA9ICd0aHVtYm5haWw6dXBkYXRlJztcbiAgICAgICAgXG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAocGFyZW50UmVmcmVzaCkge1xuICAgICAgICAgICAgdmFyIG9wdGlvblNlYXJjaENyaXRlcmlhID0gZ2V0T3B0aW9uc1NlYXJjaENyaXRlcmlhKCk7XG5cbiAgICAgICAgICAgIG9wdGlvbkFwaS5zZWFyY2gob3B0aW9uU2VhcmNoQ3JpdGVyaWEsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUub3B0aW9uTGlzdCA9IGRhdGEucmVzdWx0cztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoYmxhZGUuaXNOZXcpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoe30pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXNrQXBpLmdldCh7IGlkOiBibGFkZS5jdXJyZW50RW50aXR5SWQgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUJsYWRlKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50UmVmcmVzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUJsYWRlKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25TZWFyY2hDcml0ZXJpYSA9IGdldE9wdGlvbnNTZWFyY2hDcml0ZXJpYSgpO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9uQXBpLnNlYXJjaChvcHRpb25TZWFyY2hDcml0ZXJpYSwgZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRW50aXR5T3B0aW9ucyhvcHRpb25zLnJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5vcHRpb25MaXN0ID0gb3B0aW9ucy5yZXN1bHRzO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0ge307XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBibGFkZS5pdGVtID0gYW5ndWxhci5jb3B5KGRhdGEpO1xuICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBibGFkZS5pdGVtO1xuICAgICAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBkYXRhO1xuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vVXBkYXRlIG9wdGlvbnMgXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVudGl0eU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKGJsYWRlLmN1cnJlbnRFbnRpdHkgJiYgYmxhZGUuY3VycmVudEVudGl0eS50aHVtYm5haWxPcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LnRodW1ibmFpbE9wdGlvbnMgPSBfLm1hcChibGFkZS5jdXJyZW50RW50aXR5LnRodW1ibmFpbE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld09wdGlvbiA9IF8uZmluZChvcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLmlkID09IG9wdGlvbi5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ld09wdGlvbiA/IG5ld09wdGlvbiA6IGVsO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlYXJjaCBDcml0ZXJpYVxuICAgICAgICBmdW5jdGlvbiBnZXRPcHRpb25zU2VhcmNoQ3JpdGVyaWEoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlYXJjaENyaXRlcmlhID0ge1xuICAgICAgICAgICAgICAgICAgICBza2lwOiAwLFxuICAgICAgICAgICAgICAgICAgICB0YWtlOiBpbWFnZVRvb2xzQ29uZmlnLmludE1heFZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoQ3JpdGVyaWE7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBpc0RpcnR5KCkge1xuICAgICAgICAgICAgcmV0dXJuICFhbmd1bGFyLmVxdWFscyhibGFkZS5jdXJyZW50RW50aXR5LCBibGFkZS5vcmlnRW50aXR5KSAmJiBibGFkZS5oYXNVcGRhdGVQZXJtaXNzaW9uKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gY2FuU2F2ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0RpcnR5KCkgJiYgYmxhZGUuZm9ybVNjb3BlICYmIGJsYWRlLmZvcm1TY29wZS4kdmFsaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzYXZlQ2hhbmdlcygpIHtcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHNhdmVPclVwZGF0ZSgpO1xuICAgICAgICAgICAgcHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7XG4gICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHNhdmVPclVwZGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrQXBpLnNhdmUoYmxhZGUuY3VycmVudEVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTmV3ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5SWQgPSBkYXRhLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrQXBpLnVwZGF0ZShibGFkZS5jdXJyZW50RW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJsYWRlLm9uQ2xvc2UgPSBmdW5jdGlvbiAoY2xvc2VDYWxsYmFjaykge1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93Q29uZmlybWF0aW9uSWZOZWVkZWQoaXNEaXJ0eSgpLCBjYW5TYXZlKCksIGJsYWRlLCBzYXZlQ2hhbmdlcywgY2xvc2VDYWxsYmFjaywgXCJpbWFnZVRvb2xzLmRpYWxvZ3MudGFzay1zYXZlLnRpdGxlXCIsIFwiaW1hZ2VUb29scy5kaWFsb2dzLnRhc2stc2F2ZS5tZXNzYWdlXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGJsYWRlLmZvcm1TY29wZSA9IG51bGw7XG4gICAgICAgICRzY29wZS5zZXRGb3JtID0gZnVuY3Rpb24gKGZvcm0pIHsgYmxhZGUuZm9ybVNjb3BlID0gZm9ybTsgfVxuXG4gICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLnNhdmVcIixcbiAgICAgICAgICAgICAgICBpY29uOiAnZmFzIGZhLXNhdmUnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUNoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhblNhdmUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZXNldFwiLFxuICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS11bmRvJyxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLml0ZW0gPSBhbmd1bGFyLmNvcHkoYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkgPSBibGFkZS5pdGVtO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImltYWdlVG9vbHMuY29tbWFuZHMucnVuXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWV4Y2xhbWF0aW9uJyxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tSdW4oYmxhZGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhYmxhZGUuaXNOZXcgJiYgIWlzRGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlVGFzaygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWJsYWRlLmlzTmV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICBmdW5jdGlvbiB0YXNrUnVuKHRhc2spIHtcbiAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IFwiY29uZmlybVRhc2tSdW5cIixcbiAgICAgICAgICAgICAgICBpc0ZpcnN0UnVuOiAhdGFzay5sYXN0UnVuLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVnZW5lcmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tJZHM6IFt0YXNrLmlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2VuZXJhdGU6IHJlZ2VuZXJhdGVcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0YXNrQXBpLnRhc2tSdW4ocmVxdWVzdCwgZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICd0aHVtYm5haWxQcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogbm90aWZpY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnRhc2tSdW5Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5JbWFnZVRvb2xzKS9TY3JpcHRzL2JsYWRlcy90YXNrLXByb2dyZXNzLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKFwibmV3LW5vdGlmaWNhdGlvbi1ldmVudFwiLCBmdW5jdGlvbiAoZXZlbnQsIG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uICYmIG5vdGlmaWNhdGlvbi5pZCA9PSBuZXdCbGFkZS5ub3RpZmljYXRpb24uaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmNhbkltcG9ydCA9IG5vdGlmaWNhdGlvbi5maW5pc2hlZCAhPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUucGFyZW50QmxhZGUgfHwgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlhbG9nU2VydmljZS5zaG93RGlhbG9nKGRpYWxvZywgJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkltYWdlVG9vbHMpL1NjcmlwdHMvZGlhbG9ncy9ydW4tZGlhbG9nLnRwbC5odG1sJywgJ3BsYXRmb3JtV2ViQXBwLmNvbmZpcm1EaWFsb2dDb250cm9sbGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBmb2xkZXJQYXRoKGZvbGRlclBhdGgpIHtcbiAgICAgICAgICAgIGlmIChmb2xkZXJQYXRoICYmIGZvbGRlclBhdGgubGVuZ3RoID09PSAxICYmIGZvbGRlclBhdGhbMF0udHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgICAgICAgICAgICAvL2ZvciBmaXJzdCBsZXZlbCBibG9icyByZWxhdGl2ZVVybCBjYW4gYmUgdW5kZWZpbmRlZCAoZm9yIGF6dXJlIHByb3ZpZGVyKSBzbyB0YWtlIHRoZSBuYW1lIGFzIGEgcGF0aCBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRm9sZGVyID0gZm9sZGVyUGF0aFswXTtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LndvcmtQYXRoID0gc2VsZWN0ZWRGb2xkZXIucmVsYXRpdmVVcmxcbiAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3RlZEZvbGRlci5yZWxhdGl2ZVVybFxuICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkRm9sZGVyLm5hbWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcInNlbGVjdEZvbGRlckRpYWxvZ1wiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2ltYWdlVG9vbHMuZGlhbG9ncy5zZWxlY3QtZm9sZGVyLnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ2ltYWdlVG9vbHMuZGlhbG9ncy5zZWxlY3QtZm9sZGVyLm1zZzEnLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZGlhbG9nU2VydmljZS5zaG93RGlhbG9nKGRpYWxvZywgJyQoUGxhdGZvcm0pL1NjcmlwdHMvY29tbW9uL2RpYWxvZ3Mvbm90aWZ5RGlhbG9nLnRwbC5odG1sJywgJ3BsYXRmb3JtV2ViQXBwLmNvbmZpcm1EaWFsb2dDb250cm9sbGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBkZWxldGVUYXNrKCkge1xuICAgICAgICAgICAgdmFyIGRpYWxvZyA9IHtcbiAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5kaWFsb2dzLnRhc2stZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJpbWFnZVRvb2xzLmRpYWxvZ3MudGFzay1kZWxldGUubWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQXBpLmRlbGV0ZSh7IGlkczogYmxhZGUuY3VycmVudEVudGl0eUlkIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhkaWFsb2cpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGUub3BlbkZvbGRlclBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICdpbWFnZVRvb2xzLmJsYWRlcy5zZXR0aW5nLW1hbmFnbWVudC50aXRsZScsXG4gICAgICAgICAgICAgICAgc3VidGl0bGU6ICdpbWFnZVRvb2xzLmJsYWRlcy5zZXR0aW5nLW1hbmFnbWVudC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgb25TZWxlY3Q6IGZvbGRlclBhdGgsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuYXNzZXRzTW9kdWxlLmFzc2V0U2VsZWN0Q29udHJvbGxlcidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGJsYWRlLm9wZW5TZXR0aW5nTWFuYWdlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogJ29wdGlvbkxpc3REZXRhaWwnLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogYmxhZGUuY3VycmVudEVudGl0eUlkLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1tYW5hZ21lbnQudGl0bGUnLFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1tYW5hZ21lbnQuc3VidGl0bGUnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmltYWdlVG9vbHNNb2R1bGUub3B0aW9uTGlzdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuSW1hZ2VUb29scykvU2NyaXB0cy9ibGFkZXMvb3B0aW9uLWxpc3QudHBsLmh0bWwnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG5cbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnRhc2tMaXN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywnJHRpbWVvdXQnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS50YXNrQXBpJyxcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHRpbWVvdXQsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGJsYWRlVXRpbHMsIHVpR3JpZEhlbHBlciwgZGlhbG9nU2VydmljZSwgdGFza0FwaSkge1xuICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgICAgICAkc2NvcGUudWlHcmlkQ29uc3RhbnRzID0gdWlHcmlkSGVscGVyLnVpR3JpZENvbnN0YW50cztcbiAgICAgICAgICAgICRzY29wZS5oYXNNb3JlID0gdHJ1ZTtcbiAgICAgICAgICAgICRzY29wZS5pdGVtcyA9IFtdO1xuXG4gICAgICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSAhPT0gMSlcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA9IDE7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2VhcmNoQ3JpdGVyaWEgPSBnZXRTZWFyY2hDcml0ZXJpYSgpO1xuXG4gICAgICAgICAgICAgICAgdGFza0FwaS5zZWFyY2goc2VhcmNoQ3JpdGVyaWEsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGREZXNjcmlwdGlvbkl0ZW0oZGF0YS5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pdGVtcyA9IGRhdGEucmVzdWx0cztcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhhc01vcmUgPSBkYXRhLnRvdGFsQ291bnQgPT09ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIGdyaWQgdG8gaW5nZXN0IGRhdGEgY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmdyaWRBcGkgJiYgJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdEFsbFN0YXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5zZWxlY3RBbGxSb3dzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy9yZXNldCBzdGF0ZSBncmlkXG4gICAgICAgICAgICAgICAgcmVzZXRTdGF0ZUdyaWQoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dNb3JlKCkge1xuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaGFzTW9yZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKyskc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwuc2F2ZVNjcm9sbFBlcmNlbnRhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VhcmNoQ3JpdGVyaWEgPSBnZXRTZWFyY2hDcml0ZXJpYSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQXBpLnNlYXJjaChzZWFyY2hDcml0ZXJpYSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREZXNjcmlwdGlvbkl0ZW0oZGF0YS5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1zID0gJHNjb3BlLml0ZW1zLmNvbmNhdChkYXRhLnJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaGFzTW9yZSA9IGRhdGEubGlzdEVudHJpZXMubGVuZ3RoID09PSAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5kYXRhTG9hZGVkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgZ3JpZCB0byBpbmdlc3QgZGF0YSBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdEFsbFN0YXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5zZWxlY3Rpb24uc2VsZWN0QWxsUm93cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9hZGQgZGVzY3JpcHRpb24gZm9yIGl0ZW1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFkZERlc2NyaXB0aW9uSXRlbShpdGVtcykge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0VGhyZWUgPSBfLmZpcnN0KGl0ZW0udGh1bWJuYWlsT3B0aW9ucywgMyk7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0VGhyZWUgPSBfLm1hcChmaXJzdFRocmVlLCBmdW5jdGlvbiAob3B0aW9uKSB7IHJldHVybiBvcHRpb24ud2lkdGggKyAneCcgKyBvcHRpb24uaGVpZ2h0IH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RUaHJlZSAmJiBmaXJzdFRocmVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5kZXNjcmlwdGlvbiA9ICcoJyArIGZpcnN0VGhyZWUuam9pbignLCAnKSArICcpJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTZWFyY2ggQ3JpdGVyaWFcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNlYXJjaENyaXRlcmlhKCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWFyY2hDcml0ZXJpYSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc29ydDogdWlHcmlkSGVscGVyLmdldFNvcnRFeHByZXNzaW9uKCRzY29wZSksXG4gICAgICAgICAgICAgICAgICAgIHNraXA6ICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICB0YWtlOiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoQ3JpdGVyaWE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vcmVzZXQgc3RhdGUgZ3JpZCAoaGVhZGVyIGNoZWNrYm94LCBzY3JvbGwpXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNldFN0YXRlR3JpZCgpIHtcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmdyaWRBcGkpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLml0ZW1zID0gW107XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5jbGVhclNlbGVjdGVkUm93cygpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5yZXNldFNjcm9sbCh0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwuZGF0YUxvYWRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGJsYWRlLnNldFNlbGVjdGVkSXRlbSA9IGZ1bmN0aW9uIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE5vZGVJZCA9IGxpc3RJdGVtLmlkO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdEl0ZW0gPSBmdW5jdGlvbiAoZSwgbGlzdEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBibGFkZS5zZXRTZWxlY3RlZEl0ZW0obGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICRzY29wZS50YXNrRWRpdChsaXN0SXRlbSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUudGFza0VkaXQgPSBmdW5jdGlvbiAoc2VsZWN0ZWRJdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJsaXN0VGFza0RldGFpbFwiLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6IHNlbGVjdGVkSXRlbS5pZCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdpbWFnZVRvb2xzLmJsYWRlcy50YXNrLWRldGFpbC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnaW1hZ2VUb29scy5ibGFkZXMudGFzay1kZXRhaWwuc3VidGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnRhc2tEZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5JbWFnZVRvb2xzKS9TY3JpcHRzL2JsYWRlcy90YXNrLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0Tm9kZSA9IGZ1bmN0aW9uIChub2RlLCBpc05ldykge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE5vZGVJZCA9IG5vZGUuaWQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnbGlzdFRhc2tEZXRhaWwnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnRhc2tEZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5JbWFnZVRvb2xzKS9TY3JpcHRzL2JsYWRlcy90YXNrLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5ld0JsYWRlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ2ltYWdlVG9vbHMuYmxhZGVzLnRhc2stZGV0YWlsLnRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUNhbGxiYWNrOiBmdW5jdGlvbiAobmV3UHJpY2VsaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxhZGUuaXNOZXcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKHRydWUpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS5jdXJyZW50RW50aXR5SWQgPSBuZXdQcmljZWxpc3QuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbkNoYW5nZXNDb25maXJtZWRGbjogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKG5ld0JsYWRlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6IG5vZGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbm9kZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdpbWFnZVRvb2xzLmJsYWRlcy50YXNrLWRldGFpbC5zdWJ0aXRsZSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgJHNjb3BlLnRhc2tSdW4gPSBmdW5jdGlvbiAoaXRlbXNTZWxlY3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtVGFza1J1blwiLFxuICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0UnVuOiBfLnNvbWUoaXRlbXNTZWxlY3QsIGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAhaXRlbS5sYXN0UnVuIH0pLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHJlZ2VuZXJhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tJZHM6IGFuZ3VsYXIuaXNBcnJheShpdGVtc1NlbGVjdCkgPyBfLnBsdWNrKGl0ZW1zU2VsZWN0LCBcImlkXCIpIDogW2l0ZW1zU2VsZWN0LmlkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdlbmVyYXRlOiByZWdlbmVyYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQXBpLnRhc2tSdW4ocmVxdWVzdCwgZnVuY3Rpb24gKG5vdGlmaWNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICd0aHVtYm5haWxQcm9ncmVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvbjogbm90aWZpY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnRhc2tSdW5Db250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5JbWFnZVRvb2xzKS9TY3JpcHRzL2JsYWRlcy90YXNrLXByb2dyZXNzLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRvbihcIm5ldy1ub3RpZmljYXRpb24tZXZlbnRcIiwgZnVuY3Rpb24gKGV2ZW50LCBub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RpZmljYXRpb24gJiYgbm90aWZpY2F0aW9uLmlkID09IG5ld0JsYWRlLm5vdGlmaWNhdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmNhbkltcG9ydCA9IG5vdGlmaWNhdGlvbi5maW5pc2hlZCAhPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZS5wYXJlbnRCbGFkZSB8fCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zZXRFcnJvcignRXJyb3IgJyArIGVycm9yLnN0YXR1cywgYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dEaWFsb2coZGlhbG9nLCAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuSW1hZ2VUb29scykvU2NyaXB0cy9kaWFsb2dzL3J1bi1kaWFsb2cudHBsLmh0bWwnLCAncGxhdGZvcm1XZWJBcHAuY29uZmlybURpYWxvZ0NvbnRyb2xsZXInKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaXNJdGVtc0NoZWNrZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ncmlkQXBpICYmIF8uYW55KCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNlbGVjdGVkSXRlbXMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICBibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS1waWN0dXJlLW8nO1xuICAgICAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZWZyZXNoXCIsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1yZWZyZXNoJyxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogYmxhZGUucmVmcmVzaCxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5hZGRcIiwgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdE5vZGUoe30sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImltYWdlVG9vbHMuY29tbWFuZHMucnVuXCIsXG4gICAgICAgICAgICAgICAgICAgIGljb246ICdmYSBmYS1leGNsYW1hdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzSXRlbXNDaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFza1J1bihnZXRTZWxlY3RlZEl0ZW1zKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlTGlzdChnZXRTZWxlY3RlZEl0ZW1zKCkpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBpc0l0ZW1zQ2hlY2tlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICBmdW5jdGlvbiBkZWxldGVMaXN0KHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcImNvbmZpcm1EZWxldGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5kaWFsb2dzLnRhc2stZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiaW1hZ2VUb29scy5kaWFsb2dzLnRhc2stZGVsZXRlLm1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VDaGlsZHJlbkJsYWRlcyhibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkcyA9IF8ubWFwKHNlbGVjdGlvbiwgZnVuY3Rpb24odGFzaykgeyByZXR1cm4gdGFzay5pZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrQXBpLmRlbGV0ZSh7IGlkczogaWRzIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhkaWFsb2cpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUudGFza0RlbGV0ZSA9IGZ1bmN0aW9uIChpdGVtc1NlbGVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcImNvbmZpcm1EZWxldGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5kaWFsb2dzLnRhc2stZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiaW1hZ2VUb29scy5kaWFsb2dzLnRhc2stZGVsZXRlLm1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tBcGkuZGVsZXRlKHsgaWRzOiBpdGVtc1NlbGVjdC5pZCB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQ2hpbGRyZW5CbGFkZXMoYmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGlhbG9nU2VydmljZS5zaG93Q29uZmlybWF0aW9uRGlhbG9nKGRpYWxvZyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHVpLWdyaWRcbiAgICAgICAgICAgICRzY29wZS5zZXRHcmlkT3B0aW9ucyA9IGZ1bmN0aW9uIChncmlkT3B0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgLy9kaXNhYmxlIHdhdGNoZWRcbiAgICAgICAgICAgICAgICBibGFkZVV0aWxzLmluaXRpYWxpemVQYWdpbmF0aW9uKCRzY29wZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy/RgWhvb3NlIHRoZSBvcHRpbWFsIGFtb3VudCB0aGF0IGVuc3VyZXMgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIHNjcm9sbFxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnQgPSA1MDtcblxuICAgICAgICAgICAgICAgIHVpR3JpZEhlbHBlci5pbml0aWFsaXplKCRzY29wZSwgZ3JpZE9wdGlvbnMsIGZ1bmN0aW9uIChncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIGdyaWRBcGkgZm9yIGN1cnJlbnQgZ3JpZFxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaSA9IGdyaWRBcGk7XG5cbiAgICAgICAgICAgICAgICAgICAgdWlHcmlkSGVscGVyLmJpbmRSZWZyZXNoT25Tb3J0Q2hhbmdlZCgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5vbi5uZWVkTG9hZE1vcmVEYXRhKCRzY29wZSwgc2hvd01vcmUpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS50YXNrUnVuQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS50YXNrQXBpJywgZnVuY3Rpb24gKCRzY29wZSwgdGFza0FwaSkge1xuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAgICAgJHNjb3BlLiRvbihcIm5ldy1ub3RpZmljYXRpb24tZXZlbnRcIiwgZnVuY3Rpb24gKGV2ZW50LCBub3RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIGlmIChibGFkZS5ub3RpZmljYXRpb24gJiYgbm90aWZpY2F0aW9uLmlkID09IGJsYWRlLm5vdGlmaWNhdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShub3RpZmljYXRpb24sIGJsYWRlLm5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFt7XG4gICAgICAgICAgICBuYW1lOiAncGxhdGZvcm0uY29tbWFuZHMuY2FuY2VsJyxcbiAgICAgICAgICAgIGljb246ICdmYSBmYS10aW1lcycsXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJsYWRlLm5vdGlmaWNhdGlvbiAmJiAhYmxhZGUubm90aWZpY2F0aW9uLmZpbmlzaGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0YXNrQXBpLnRhc2tDYW5jZWwoeyBqb2JJZDogYmxhZGUubm90aWZpY2F0aW9uLmpvYklkIH0sIG51bGwsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dO1xuXG4gICAgICAgIGJsYWRlLnRpdGxlID0gYmxhZGUubm90aWZpY2F0aW9uLnRpdGxlO1xuICAgICAgICBibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS1zZWFyY2gnO1xuICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlJylcbiAgICAuZmFjdG9yeSgndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLnJlc2l6ZU1ldGhvZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZpeGVkU2l6ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwucmVzaXplLW1ldGhvZC5maXhlZC1zaXplXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRml4ZWRXaWR0aFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwucmVzaXplLW1ldGhvZC5maXhlZC13aWR0aFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZpeGVkSGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJpbWFnZVRvb2xzLmJsYWRlcy5zZXR0aW5nLWRldGFpbC5yZXNpemUtbWV0aG9kLmZpeGVkLWhlaWdodFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNyb3BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImltYWdlVG9vbHMuYmxhZGVzLnNldHRpbmctZGV0YWlsLnJlc2l6ZS1tZXRob2QuY3JvcFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS5hbmNob3JQb3NpdGlvbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlRvcExlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImltYWdlVG9vbHMuYmxhZGVzLnNldHRpbmctZGV0YWlsLmFuY2hvci1wb3NpdGlvbi50b3AtbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlRvcENlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwuYW5jaG9yLXBvc2l0aW9uLnRvcC1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJUb3BSaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwuYW5jaG9yLXBvc2l0aW9uLnRvcC1yaWdodFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNlbnRlckxlZnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcImltYWdlVG9vbHMuYmxhZGVzLnNldHRpbmctZGV0YWlsLmFuY2hvci1wb3NpdGlvbi5jZW50ZXItbGVmdFwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwuYW5jaG9yLXBvc2l0aW9uLmNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNlbnRlclJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJpbWFnZVRvb2xzLmJsYWRlcy5zZXR0aW5nLWRldGFpbC5hbmNob3ItcG9zaXRpb24uY2VudGVyLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiQm90dG9tTGVmdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwuYW5jaG9yLXBvc2l0aW9uLmJvdHRvbS1sZWZ0XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiQm90dG9tQ2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJpbWFnZVRvb2xzLmJsYWRlcy5zZXR0aW5nLWRldGFpbC5hbmNob3ItcG9zaXRpb24uYm90dG9tLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkJvdHRvbVJpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJpbWFnZVRvb2xzLmJsYWRlcy5zZXR0aW5nLWRldGFpbC5hbmNob3ItcG9zaXRpb24uYm90dG9tLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkuZmFjdG9yeSgndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLmpwZWdRdWFsaXR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiTG93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJpbWFnZVRvb2xzLmJsYWRlcy5zZXR0aW5nLWRldGFpbC5qcGVnLXF1YWxpdHkubG93XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiTWVkaXVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJpbWFnZVRvb2xzLmJsYWRlcy5zZXR0aW5nLWRldGFpbC5qcGVnLXF1YWxpdHkubWVkaXVtXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiSGlnaFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwuanBlZy1xdWFsaXR5LmhpZ2hcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJWZXJ5SGlnaFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiaW1hZ2VUb29scy5ibGFkZXMuc2V0dGluZy1kZXRhaWwuanBlZy1xdWFsaXR5LnZlcnktaGlnaFwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZScpXG4gICAgLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2UuaW1hZ2VUb29sc01vZHVsZS50YXNrQXBpJyxcbiAgICAgICAgW1xuICAgICAgICAgICAgJyRyZXNvdXJjZScsIGZ1bmN0aW9uKCRyZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkcmVzb3VyY2UoJ2FwaS9pbWFnZS90aHVtYm5haWxzL3Rhc2tzLzppZCcsXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdAaWQnIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaDogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2ltYWdlL3RodW1ibmFpbHMvdGFza3Mvc2VhcmNoJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIHVybDogJ2FwaS9pbWFnZS90aHVtYm5haWxzL3Rhc2tzJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1J1bjogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2ltYWdlL3RodW1ibmFpbHMvdGFza3MvcnVuJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NhbmNlbDogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2ltYWdlL3RodW1ibmFpbHMvdGFza3MvOmpvYklkL2NhbmNlbCcgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSlcbiAgICAuZmFjdG9yeSgndmlydG9Db21tZXJjZS5pbWFnZVRvb2xzTW9kdWxlLm9wdGlvbkFwaScsXG4gICAgICAgIFtcbiAgICAgICAgICAgICckcmVzb3VyY2UnLCBmdW5jdGlvbigkcmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvaW1hZ2UvdGh1bWJuYWlscy9vcHRpb25zLzppZCcsXG4gICAgICAgICAgICAgICAgICAgIHsgaWQ6ICdAaWQnIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaDogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL2ltYWdlL3RodW1ibmFpbHMvb3B0aW9ucy9zZWFyY2gnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgdXJsOiAnYXBpL2ltYWdlL3RodW1ibmFpbHMvb3B0aW9ucycgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSk7Il0sInNvdXJjZVJvb3QiOiIifQ==