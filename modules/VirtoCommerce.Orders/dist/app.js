!function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){r(1),r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10),r(11),r(12),r(13),r(14),r(15),r(16),r(17),r(18),r(19),r(20),r(21),r(22),r(23),r(24),r(25),r(26),r(27),r(28),r(29),r(30),r(31),r(32),r(33),r(34),r(35),r(36),e.exports=r(37)},function(e,t){void 0!==AppDependencies&&AppDependencies.push("virtoCommerce.orderModule"),angular.module("virtoCommerce.orderModule",[,"virtoCommerce.customerModule","virtoCommerce.storeModule","virtoCommerce.inventoryModule"]).config(["$stateProvider",function(e){e.state("workspace.orderModule",{url:"/orders",templateUrl:"$(Platform)/Scripts/common/templates/home.tpl.html",controller:["$scope","platformWebApp.bladeNavigationService",function(e,t){t.showBlade({id:"orders",title:"orders.blades.customerOrder-list.title",controller:"virtoCommerce.orderModule.customerOrderListController",isExpandable:!0,template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/customerOrder-list.tpl.html",isClosingDisabled:!0}),e.moduleName="vc-order"}]})}]).factory("virtoCommerce.orderModule.knownOperations",["platformWebApp.bladeNavigationService",function(e){var t={};return{registerOperation:function(e){var r=angular.copy(e);r.detailBlade=angular.extend({id:"operationDetail",knownChildrenOperations:[],metaFields:[],controller:"virtoCommerce.orderModule.operationDetailController"},r.detailBlade),t[e.type]=r},getOperation:function(e){return t[e]}}}]).run(["$rootScope","$http","$compile","platformWebApp.mainMenuService","platformWebApp.widgetService","platformWebApp.bladeNavigationService","$state","$localStorage","virtoCommerce.orderModule.order_res_customerOrders","platformWebApp.permissionScopeResolver","virtoCommerce.storeModule.stores","virtoCommerce.orderModule.knownOperations","platformWebApp.authService","platformWebApp.metaFormsService",function(e,t,r,o,i,n,a,l,s,d,c,m,u,p){var g={path:"browse/orders",icon:"fa fa-file-text",title:"orders.main-menu-title",priority:90,action:function(){a.go("workspace.orderModule")},permission:"order:access"};o.addMenuItem(g),m.registerOperation({type:"CustomerOrder",treeTemplateUrl:"orderOperationDefault.tpl.html",detailBlade:{id:"orderDetail",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/customerOrder-detail.tpl.html",knownChildrenOperations:["Shipment","PaymentIn"],metaFields:[{name:"isApproved",title:"orders.blades.customerOrder-detail.labels.approved",valueType:"Boolean",isVisibleFn:function(e){return!e.isNew}},{name:"employeeId",title:"orders.blades.customerOrder-detail.labels.employee",templateUrl:"order-employeeSelector.html"},{name:"number",isRequired:!0,title:"orders.blades.customerOrder-detail.labels.order-number",valueType:"ShortText"},{name:"createdDate",isReadOnly:!0,title:"orders.blades.customerOrder-detail.labels.from",valueType:"DateTime"},{name:"status",templateUrl:"statusSelector.html"},{name:"customerName",title:"orders.blades.customerOrder-detail.labels.customer",templateUrl:"customerSelector.html"},{name:"discountAmount",title:"orders.blades.customerOrder-items.labels.discount",templateUrl:"discountAmount.html"},{name:"storeId",title:"orders.blades.customerOrder-detail.labels.store",templateUrl:"storeSelector.html"}]}});m.registerOperation({type:"PaymentIn",description:"orders.blades.newOperation-wizard.menu.payment-operation.description",detailBlade:{template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/payment-detail.tpl.html",metaFields:[{name:"number",isRequired:!0,title:"orders.blades.payment-detail.labels.payment-number",valueType:"ShortText"},{name:"createdDate",isReadOnly:!0,title:"orders.blades.payment-detail.labels.from",valueType:"DateTime"},{name:"price",title:"orders.blades.payment-detail.labels.price",templateUrl:"price.html"},{name:"priceWithTax",title:"orders.blades.payment-detail.labels.price-with-tax",templateUrl:"priceWithTax.html"}]}});m.registerOperation({type:"Shipment",description:"orders.blades.newOperation-wizard.menu.shipment-operation.description",detailBlade:{template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/shipment-detail.tpl.html",metaFields:[{name:"number",isRequired:!0,title:"orders.blades.shipment-detail.labels.shipment-number",valueType:"ShortText"},{name:"createdDate",isReadOnly:!0,title:"orders.blades.shipment-detail.labels.from",valueType:"DateTime"},{name:"status",templateUrl:"statusSelector.html"},{name:"employeeId",title:"orders.blades.shipment-detail.labels.employee",templateUrl:"shipment-employeeSelector.html"},{name:"price",title:"orders.blades.shipment-detail.labels.price",templateUrl:"price.html"},{name:"priceWithTax",title:"orders.blades.shipment-detail.labels.price-with-tax",templateUrl:"priceWithTax.html"}]}}),i.registerWidget({controller:"virtoCommerce.orderModule.notificationsLogWidgetController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/notificationsLogWidget.tpl.html",isVisible:function(e){return u.checkPermission("notifications:access")}},"customerOrderDetailWidgets");i.registerWidget({controller:"virtoCommerce.orderModule.customerOrderItemsWidgetController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/customerOrder-items-widget.tpl.html"},"customerOrderDetailWidgets"),i.registerWidget({controller:"virtoCommerce.orderModule.customerOrderChangeLogWidgetController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/customerOrder-change-log-widget.tpl.html"},"customerOrderDetailWidgets");i.registerWidget({controller:"virtoCommerce.orderModule.shipmentItemsWidgetController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/shipment-items-widget.tpl.html"},"shipmentDetailWidgets"),i.registerWidget({controller:"platformWebApp.changeLog.operationsWidgetController",template:"$(Platform)/Scripts/app/changeLog/widgets/operations-widget.tpl.html"},"shipmentDetailWidgets");function f(){return u.checkPermission("order:read_prices")}i.registerWidget({controller:"virtoCommerce.orderModule.customerOrderAddressWidgetController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/customerOrder-address-widget.tpl.html"},"customerOrderDetailWidgets");var h={controller:"virtoCommerce.orderModule.customerOrderTotalsWidgetController",size:[2,2],isVisible:f,template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/customerOrder-totals-widget.tpl.html"};i.registerWidget(h,"customerOrderDetailWidgets");var b={controller:"virtoCommerce.orderModule.operationCommentWidgetController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/operation-comment-widget.tpl.html"};i.registerWidget(b,"customerOrderDetailWidgets"),i.registerWidget(b,"shipmentDetailWidgets"),i.registerWidget(b,"paymentDetailWidgets");i.registerWidget({controller:"virtoCommerce.orderModule.shipmentAddressWidgetController",size:[2,1],template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/shipment-address-widget.tpl.html"},"shipmentDetailWidgets");var y={controller:"virtoCommerce.orderModule.shipmentTotalsWidgetController",size:[2,1],isVisible:f,template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/shipment-totals-widget.tpl.html"};i.registerWidget(y,"shipmentDetailWidgets"),i.registerWidget({controller:"virtoCommerce.orderModule.paymentAddressWidgetController",size:[2,1],template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/payment-address-widget.tpl.html"},"paymentDetailWidgets");var C={controller:"virtoCommerce.orderModule.paymentTotalsWidgetController",size:[2,1],isVisible:f,template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/payment-totals-widget.tpl.html"};i.registerWidget(C,"paymentDetailWidgets");i.registerWidget({controller:"virtoCommerce.orderModule.paymentTransactionsWidgetController",size:[1,1],template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/payment-transactions-widget.tpl.html"},"paymentDetailWidgets"),i.registerWidget({controller:"platformWebApp.changeLog.operationsWidgetController",template:"$(Platform)/Scripts/app/changeLog/widgets/operations-widget.tpl.html"},"paymentDetailWidgets");var v={controller:"platformWebApp.dynamicPropertyWidgetController",template:"$(Platform)/Scripts/app/dynamicProperties/widgets/dynamicPropertyWidget.tpl.html",isVisible:function(e){return u.checkPermission("platform:dynamic_properties:read")}};i.registerWidget(v,"shipmentDetailWidgets"),i.registerWidget(v,"customerOrderDetailWidgets"),i.registerWidget(v,"paymentDetailWidgets");i.registerWidget({controller:"virtoCommerce.orderModule.operationTreeWidgetController",size:[4,3],template:"Modules/$(VirtoCommerce.Orders)/Scripts/widgets/operation-tree-widget.tpl.html"},"customerOrderDetailWidgets");var O="virtoCommerce.orderModule.dashboard.statisticsWidgetController";i.registerWidget({controller:O,size:[2,1],template:"order-statistics-revenue.html"},"mainDashboard"),i.registerWidget({controller:O,size:[2,1],template:"order-statistics-customersCount.html"},"mainDashboard"),i.registerWidget({controller:O,size:[2,1],template:"order-statistics-revenuePerCustomer.html"},"mainDashboard"),i.registerWidget({controller:O,size:[2,1],template:"order-statistics-orderValue.html"},"mainDashboard"),i.registerWidget({controller:O,size:[2,1],template:"order-statistics-itemsPurchased.html"},"mainDashboard"),i.registerWidget({controller:O,size:[2,1],template:"order-statistics-lineitemsPerOrder.html"},"mainDashboard"),i.registerWidget({controller:O,size:[3,2],template:"order-statistics-revenueByQuarter.html"},"mainDashboard"),i.registerWidget({controller:O,size:[3,2],template:"order-statistics-orderValueByQuarter.html"},"mainDashboard"),s.indexedSearchEnabled((function(e){if(e.result){i.registerWidget({documentType:"CustomerOrder",controller:"virtoCommerce.searchModule.indexWidgetController",template:"Modules/$(VirtoCommerce.Search)/Scripts/widgets/index-widget.tpl.html",isVisible:function(e){return!e.isNew}},"customerOrderDetailWidgets")}})),t.get("Modules/$(VirtoCommerce.Orders)/Scripts/widgets/dashboard/statistics-templates.html").then((function(e){r(e.data)})),p.registerMetaFields("orderFilterDetail",[{name:"statuses",title:"orders.blades.customerOrder-detail.labels.status",templateUrl:"statusesSelector.html"},{name:"storeIds",title:"orders.blades.customerOrder-detail.labels.store",templateUrl:"storeSelector.html"},{name:"startDate",title:"orders.blades.filter-detail.labels.from",valueType:"DateTime"},{name:"endDate",title:"orders.blades.filter-detail.labels.to",valueType:"DateTime"},{name:"customerId",title:"orders.blades.customerOrder-detail.labels.customer",templateUrl:"customerSelector.html"},{name:"employeeId",title:"orders.blades.shipment-detail.labels.employee",templateUrl:"filter-employeeSelector.html"}]);var S={type:"OrderSelectedStoreScope",title:"Only for orders in selected stores",selectFn:function(e,t){var r={id:"store-pick",title:this.title,subtitle:"Select stores",currentEntity:this,onChangesConfirmedFn:t,dataService:c,controller:"platformWebApp.security.scopeValuePickFromSimpleListController",template:"$(Platform)/Scripts/app/security/blades/common/scope-value-pick-from-simple-list.tpl.html"};n.showBlade(r,e)}};d.register(S);d.register({type:"OnlyOrderResponsibleScope",title:"Only for order responsible"}),e.$on("loginStatusChanged",(function(e,t){if(t.isAuthenticated){var r=new Date,o=new Date;o.setFullYear(r.getFullYear()-1),s.getDashboardStatistics({start:o,end:r},(function(e){var t=function(e,t){var r=_.groupBy(e,(function(e){return e.year+" Q"+e.quarter}));return _.map(r,(function(e,r){var o=[{v:r}];return _.each(t,(function(t){var r=_.findWhere(e,{currency:t});o.push({v:r?r.amount:0})})),{c:o}}))},r=_.unique(_.pluck(e.avgOrderValuePeriodDetails,"currency").sort()),o=[{id:"quarter",label:"Quarter",type:"string"}];_.each(r,(function(e){o.push({id:"revenue"+e,label:e,type:"number"})})),e.chartRevenueByQuarter={type:"LineChart",data:{cols:o,rows:t(e.revenuePeriodDetails,r)},options:{title:"Revenue by quarter",legend:{position:"top"},vAxis:{gridlines:{count:8}},hAxis:{slantedText:!0,slantedTextAngle:20}},formatters:{}},o=[{id:"quarter",label:"Quarter",type:"string"}],_.each(r,(function(e){o.push({id:"avg-orderValue"+e,label:e,type:"number"})})),e.chartOrderValueByQuarter={type:"ColumnChart",data:{cols:o,rows:t(e.avgOrderValuePeriodDetails,r)},options:{title:"Average Order value by quarter",legend:{position:"top"},vAxis:{gridlines:{count:8}},hAxis:{slantedText:!0,slantedTextAngle:20}},formatters:{}},l.ordersDashboardStatistics=e}),(function(e){console.log(e)}))}}))}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.customerOrderChangeLogController",["$scope","virtoCommerce.orderModule.order_res_customerOrders","platformWebApp.uiGridHelper","platformWebApp.bladeUtils","$timeout",function(e,t,r,o,i){var n=e.blade;function a(){e.hasMore&&(++e.pageSettings.currentPage,e.gridApi.infiniteScroll.saveScrollPercentage(),n.isLoading=!0,t.searchOrderChanges(l(),t=>{n.isLoading=!1,e.pageSettings.totalItems=t.totalCount,n.currentEntities=n.currentEntities.concat(t.results),e.hasMore=t.results.length===e.pageSettings.itemsPerPageCount,e.gridApi.infiniteScroll.dataLoaded()}))}function l(){return{orderId:n.orderId,sort:r.getSortExpression(e),skip:(e.pageSettings.currentPage-1)*e.pageSettings.itemsPerPageCount,take:e.pageSettings.itemsPerPageCount}}e.pageSettings={},e.pageSettings.currentPage=1,e.pageSettings.itemsPerPageCount=20,e.pageSettings.totalItems=0,n.refresh=function(){n.isLoading=!0,1!==e.pageSettings.currentPage&&(e.pageSettings.currentPage=1),t.searchOrderChanges(l(),t=>{n.isLoading=!1,e.pageSettings.totalItems=t.totalCount,n.currentEntities=t.results,e.hasMore=t.results.length===e.pageSettings.itemsPerPageCount,e.gridApi&&(e.gridApi.infiniteScroll.resetScroll(!0,!0),e.gridApi.infiniteScroll.dataLoaded())})},(n.filter=e.filter={}).criteriaChanged=function(){e.pageSettings.currentPage>1?e.pageSettings.currentPage=1:n.refresh()},e.setGridOptions=function(t){o.initializePagination(e,!0),r.initialize(e,t,(function(t){e.gridApi=t,r.bindRefreshOnSortChanged(e),e.gridApi.infiniteScroll.on.needLoadMoreData(e,a)})),i((function(){n.refresh()}))}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.customerOrderDetailController",["$scope","$window","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.settings","virtoCommerce.customerModule.members","virtoCommerce.customerModule.memberTypesResolverService","virtoCommerce.orderModule.statusTranslationService","virtoCommerce.orderModule.securityAccounts","platformWebApp.authService",function(e,t,r,o,i,n,a,l,s,d){var c=e.blade;function m(e){c.statuses=l.translateStatuses(e,"customerOrder")}c.currentEntityId=c.customerOrder.id,c.isVisiblePrices=d.checkPermission("order:read_prices"),angular.extend(c,{title:"orders.blades.customerOrder-detail.title",titleValues:{customer:c.customerOrder.customerName},subtitle:"orders.blades.customerOrder-detail.subtitle"}),c.toolbarCommands.push({name:"orders.blades.customerOrder-detail.labels.invoice",icon:"fa fa-download",index:5,executeMethod:function(e){t.open("api/order/customerOrders/invoice/"+e.currentEntity.number,"_blank")},canExecuteMethod:function(){return!0}}),i.getValues({id:"Order.Status"},m),c.openStatusSettingManagement=function(){var e={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Order.Status",parentRefresh:m,controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};r.showBlade(e,c)},c.openCustomerDetails=function(){s.get({id:c.customerOrder.customerId},(function(e){var t=e&&e.memberId?e.memberId:c.customerOrder.customerId;n.get({id:t},(function(e){e&&e.id&&function(e){var t=a.resolve(e.memberType);if(t){var i=angular.copy(t.detailBlade);i.currentEntity=e,r.showBlade(i,c)}else o.showNotificationDialog({id:"error",title:"customer.dialogs.unknown-member-type.title",message:"customer.dialogs.unknown-member-type.message",messageValues:{memberType:e.memberType}})}(e)}))}))},n.search({memberType:"Employee",sort:"fullName:asc",take:1e3},(function(e){c.employees=e.results})),c.customInitialize=function(){c.isLocked="Completed"===c.currentEntity.status||"Completed"===c.currentEntity.cancelledState||c.currentEntity.isCancelled}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.orderItemSelectController",["$scope","platformWebApp.bladeUtils",function(e,t){var r=e.blade,o=t.bladeNavigationService;r.title||(r.title="Select Order items..."),e.options=angular.extend({showCheckingMultiple:!0,allowCheckingItem:!0,selectedItemIds:[],gridColumns:[]},r.options),r.refresh=function(){e.items=angular.copy(r.orderItems),_.each(e.items,(function(e){e.quantityOnShipment=e.quantity})),e.options.onItemsLoaded&&e.options.onItemsLoaded(e.items),r.isLoading=!1},r.toolbarCommands=[{name:"orders.commands.add-item",icon:"fas fa-plus",executeMethod:function(t){var r=_.map(_.where(e.items,{selected:!0}),(function(e){return{lineItemId:e.id,lineItem:e,quantity:e.quantityOnShipment}}));_.each(r,(function(e){t.currentEntity.items.push(e)})),o.closeBlade(t)},canExecuteMethod:function(){return _.any(e.items,(function(e){return e.selected}))},permission:r.updatePermission}],e.checkAll=function(t){angular.forEach(e.items,(function(e){e.selected=t}))},r.refresh()}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.customerOrderItemsController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.orderModule.catalogItems","virtoCommerce.pricingModule.prices","$translate","platformWebApp.authService",function(e,t,r,o,i,n){var a=e.blade;a.updatePermission="order:update",a.isVisiblePrices=n.checkPermission("order:read_prices");var l=[];function s(e){angular.forEach(e,(function(e){r.get({id:e.id},(function(t){o.getProductPrices({id:e.id},(function(e){var r=_.find(e,(function(e){return e.currency===a.currentEntity.currency})),o={productId:t.id,catalogId:t.catalogId,categoryId:t.categoryId,name:t.name,imageUrl:t.imgSrc,sku:t.code,quantity:1,price:r&&r.list?r.list:0,discountAmount:r&&r.list&&r.sale?r.list-r.sale:0,currency:a.currentEntity.currency};a.currentEntity.items.push(o),a.recalculateFn()}))}))}))}i("orders.blades.customerOrder-detail.title",{customer:a.currentEntity.customerName}).then((function(e){a.title="orders.widgets.customerOrder-items.blade-title",a.titleValues={title:e},a.subtitle="orders.widgets.customerOrder-items.blade-subtitle"})),a.refresh=function(){a.isLoading=!1,a.selectedAll=!1},e.openItemDynamicProperties=function(r){var o={id:"dynamicPropertiesList",currentEntity:r,controller:"platformWebApp.propertyValueListController",template:"$(Platform)/Scripts/app/dynamicProperties/blades/propertyValue-list.tpl.html"};t.showBlade(o,e.blade)},e.openItemDetail=function(r){var o={id:"listItemDetail",itemId:r.productId,productType:r.productType,title:r.name,controller:"virtoCommerce.catalogModule.itemDetailController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/item-detail.tpl.html"};t.showBlade(o,e.blade)},a.toolbarCommands=[{name:"orders.commands.add-item",icon:"fas fa-plus",executeMethod:function(){var r,o;r={checkItemFn:function(e,t){t?_.all(l,(function(t){return t.id!==e.id}))&&l.push(e):l=_.reject(l,(function(t){return t.id===e.id}))}},o={id:"CatalogItemsSelect",currentEntities:a.currentEntity,title:"orders.blades.catalog-items-select.title",controller:"virtoCommerce.catalogModule.catalogItemSelectController",template:"Modules/$(VirtoCommerce.Catalog)/Scripts/blades/common/catalog-items-select.tpl.html",options:r,breadcrumbs:[],toolbarCommands:[{name:"orders.commands.add-selected",icon:"fas fa-plus",executeMethod:function(e){s(l),l.length=0,t.closeBlade(e)},canExecuteMethod:function(){return l.length>0}}]},t.showBlade(o,e.blade)},canExecuteMethod:function(){return"CustomerOrder"===a.currentEntity.operationType},permission:a.updatePermission},{name:"platform.commands.remove",icon:"fas fa-trash-alt",executeMethod:function(){var e=a.currentEntity.items;a.currentEntity.items=_.difference(e,_.filter(e,(function(e){return e.selected}))),a.recalculateFn()},canExecuteMethod:function(){return _.any(a.currentEntity.items,(function(e){return e.selected}))},permission:a.updatePermission}],e.checkAll=function(e){angular.forEach(a.currentEntity.items,(function(t){t.selected=e}))},a.refresh()}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.customerOrderListController",["$rootScope","$scope","$localStorage","virtoCommerce.orderModule.order_res_customerOrders","platformWebApp.bladeUtils","platformWebApp.dialogService","platformWebApp.authService","uiGridConstants","platformWebApp.uiGridHelper","platformWebApp.ui-grid.extension","virtoCommerce.orderModule.knownOperations","$translate",function(e,t,r,o,i,n,a,l,s,d,c,m){var u=t.blade,p=i.bladeNavigationService;t.uiGridConstants=l,t.getPricesVisibility=()=>a.checkPermission("order:read_prices"),t.getGridOptions=()=>({useExternalSorting:!0,data:"objects",rowTemplate:"order-list.row.html",columnDefs:[{name:"actions",displayName:"",enableColumnResizing:!1,enableSorting:!1,width:30,cellTemplate:"list-actions.cell.html",pinnedLeft:!0,displayAlways:!0},{name:"number",displayName:"orders.blades.customerOrder-list.labels.number",width:"***",displayAlways:!0},{name:"customerName",displayName:"orders.blades.customerOrder-list.labels.customer",width:"***"},{name:"storeId",displayName:"orders.blades.customerOrder-list.labels.store",width:"**"},{name:"total",displayName:"orders.blades.customerOrder-list.labels.total",cellFilter:"currency | showPrice:"+t.getPricesVisibility(),width:"**"},{name:"currency",displayName:"orders.blades.customerOrder-list.labels.currency",width:"*"},{name:"isApproved",displayName:"orders.blades.customerOrder-list.labels.confirmed",width:"*",cellClass:"__blue"},{name:"status",displayName:"orders.blades.customerOrder-list.labels.status",cellFilter:"statusTranslate:row.entity",width:"*"},{name:"createdDate",displayName:"orders.blades.customerOrder-list.labels.created",width:"**",sort:{direction:l.DESC}}]}),e.$on("loginStatusChanged",e=>{m.refresh().then(()=>{let e=t.getGridOptions();t.setGridOptions("customerOrder-list-grid",e)})}),u.refresh=function(){if(angular.isFunction(u.refreshCallback)){u.isLoading=!0;var e=u.refreshCallback(u);angular.isDefined(e.$promise)&&e.$promise.then((function(e){u.isLoading=!1,t.pageSettings.totalItems=e.totalCount,t.objects=e.results}))}else if(u.preloadedOrders)t.pageSettings.totalItems=u.preloadedOrders.length,t.objects=u.preloadedOrders,u.isLoading=!1;else{u.isLoading=!0;var r={responseGroup:"WithPrices",keyword:g.keyword,sort:s.getSortExpression(t),skip:(t.pageSettings.currentPage-1)*t.pageSettings.itemsPerPageCount,take:t.pageSettings.itemsPerPageCount};u.searchCriteria&&angular.extend(r,u.searchCriteria),g.current&&angular.extend(r,g.current),o.search(r,(function(e){u.isLoading=!1,t.pageSettings.totalItems=e.totalCount,t.objects=e.results}))}},t.selectNode=function(e){t.selectedNodeId=e.id;var r=c.getOperation(e.operationType);if(r){var o=angular.copy(r.detailBlade);(u.preloadedOrders||angular.isFunction(u.refreshCallback))&&(o.id="preloadedOrderDetails"),o.customerOrder=e,p.showBlade(o,u)}},t.deleteList=function(e){var r={id:"confirmDeleteItem",title:"orders.dialogs.orders-delete.title",message:"orders.dialogs.orders-delete.message",callback:function(r){if(r){t.isLoading=!0,angular.forEach(u.childrenBlades.slice(),(function(e){p.closeBlade(e)}));var i=_.pluck(e,"id");o.remove({ids:i},(function(e,t){u.refresh()}),(function(e){p.setError("Error "+e.status,u)}))}}};n.showConfirmationDialog(r)},u.headIcon="fa fa-file-text",u.toolbarCommands=[{name:"platform.commands.refresh",icon:"fa fa-refresh",executeMethod:u.refresh,canExecuteMethod:function(){return!0}}],u.hideDelete||u.toolbarCommands.push({name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){t.deleteList(t.gridApi.selection.getSelectedRows())},canExecuteMethod:function(){return t.gridApi&&_.any(t.gridApi.selection.getSelectedRows())},permission:"order:delete"});var g=u.filter=t.filter={};function f(e){var t={id:"filterDetail",controller:"virtoCommerce.orderModule.filterDetailController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/filter-detail.tpl.html"};angular.extend(t,e),p.showBlade(t,u)}t.$localStorage=r,r.orderSearchFilters||(r.orderSearchFilters=[{name:"orders.blades.customerOrder-list.labels.new-filter"}]),r.orderSearchFilterId&&(g.current=_.findWhere(r.orderSearchFilters,{id:r.orderSearchFilterId})),g.change=function(){r.orderSearchFilterId=g.current?g.current.id:null,g.current&&!g.current.id?(g.current=null,f({isNew:!0})):(p.closeBlade({id:"filterDetail"}),g.criteriaChanged())},g.edit=function(){g.current&&f({data:g.current})},g.criteriaChanged=function(){t.pageSettings.currentPage>1?t.pageSettings.currentPage=1:u.refresh()},u.onExpand=function(){t.gridOptions.onExpand()},u.onCollapse=function(){t.gridOptions.onCollapse()},t.setGridOptions=function(e,r){return Array.prototype.push.apply(r.columnDefs,_.map(["discountAmount","subTotal","subTotalWithTax","subTotalDiscount","subTotalDiscountWithTax","subTotalTaxTotal","shippingTotal","shippingTotalWithTax","shippingSubTotal","shippingSubTotalWithTax","shippingDiscountTotal","shippingDiscountTotalWithTax","shippingTaxTotal","paymentTotal","paymentTotalWithTax","paymentSubTotal","paymentSubTotalWithTax","paymentDiscountTotal","paymentDiscountTotalWithTax","paymentTaxTotal","discountTotal","discountTotalWithTax","fee","feeWithTax","feeTotal","feeTotalWithTax","taxTotal","sum"],(function(e){return{name:e,cellFilter:"currency | showPrice:"+t.getPricesVisibility(),visible:!1}}))),t.gridOptions=r,d.tryExtendGridOptions(e,r),s.initialize(t,r,(function(e){u.preloadedOrders?(t.gridOptions.enableSorting=!0,t.gridOptions.useExternalSorting=!1):s.bindRefreshOnSortChanged(t)})),i.initializePagination(t),r}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.filterDetailController",["$scope","$localStorage","platformWebApp.settings","virtoCommerce.customerModule.members","$translate","virtoCommerce.orderModule.statusTranslationService","platformWebApp.metaFormsService","platformWebApp.accounts",function(e,t,r,o,i,n,a,l){var s,d=e.blade;function c(e){d.currentEntity=angular.copy(e),d.origEntity=e,d.isLoading=!1,d.title=d.isNew?"orders.blades.filter-detail.new-title":e.name,d.subtitle=d.isNew?"orders.blades.filter-detail.new-subtitle":"orders.blades.filter-detail.subtitle"}d.metaFields=d.metaFields?d.metaFields:a.getMetaFields("orderFilterDetail"),r.getValues({id:"Order.Status"},(function(e){d.statuses=n.translateStatuses(e,"customerOrder")})),o.search({memberType:"Employee",sort:"fullName:asc",take:1e3},(function(e){d.employees=e.results})),o.search({memberType:"Contact",sort:"fullName:asc",take:1e3},(function(e){d.contacts=e.results})),e.applyCriteria=function(){angular.copy(d.currentEntity,d.origEntity),d.isNew&&(t.orderSearchFilters.push(d.origEntity),t.orderSearchFilterId=d.origEntity.id,d.parentBlade.filter.current=d.origEntity,d.isNew=!1),c(d.origEntity),d.parentBlade.filter.criteriaChanged()},e.saveChanges=function(){d.currentEntity.customerId?l.search({MemberIds:[d.currentEntity.customerId]},(function(t){d.currentEntity.customerIds=_.pluck(t.users,"id"),e.applyCriteria()})):e.applyCriteria()},e.setForm=function(e){s=e},d.headIcon="fa fa-filter",d.toolbarCommands=[{name:"core.commands.apply-filter",icon:"fa fa-filter",executeMethod:function(){e.saveChanges()},canExecuteMethod:function(){return s&&s.$valid}},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(d.origEntity,d.currentEntity)},canExecuteMethod:function(){return!angular.equals(d.currentEntity,d.origEntity)}},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){d.parentBlade.filter.current=null,t.orderSearchFilters.splice(t.orderSearchFilters.indexOf(d.origEntity),1),delete t.orderSearchFilterId,d.parentBlade.refresh(),e.bladeClose()},canExecuteMethod:function(){return!d.isNew}}],d.isNew?i("orders.blades.customerOrder-list.labels.unnamed-filter").then((function(e){c({id:(new Date).getTime(),name:e})})):c(d.data)}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.orderOperationCommentDetail",["$scope",function(e){var t=e.blade;e.cancelChanges=function(){e.bladeClose()},e.isValid=function(){return!0},e.saveChanges=function(){t.origEntity.comment=t.currentEntity,e.bladeClose()},t.origEntity=t.currentEntity,t.currentEntity=angular.copy(t.origEntity.comment),t.isLoading=!1}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.operationDetailController",["$scope","platformWebApp.dialogService","platformWebApp.bladeNavigationService","virtoCommerce.orderModule.order_res_customerOrders","platformWebApp.objCompareService","$timeout","focus",function(e,t,r,o,i,n,a){var l=e.blade;function s(){return l.origEntity&&!i.equal(l.origEntity,l.currentEntity)&&!l.isNew&&l.hasUpdatePermission()}function d(){return s()&&(!e.formScope||e.formScope.$valid)}l.updatePermission="order:update",l.refresh=function(){"operationDetail"===l.id?l.isNew||l.initialize(l.currentEntity):(l.isLoading=!0,o.get({id:l.customerOrder.id},(function(e){l.initialize(e),l.customerOrder=l.currentEntity,l.securityScopes=e.scopes})))},l.initialize=function(e){l.origEntity=e,l.currentEntity=angular.copy(e),n((function(){l.customInitialize()})),l.isLoading=!1},l.customInitialize=function(){},l.setEntityStatus=function(e){l.currentEntity.status=e},l.recalculate=function(){l.isLoading=!0,o.recalculate(l.customerOrder,(function(e){angular.copy(e,l.customerOrder);var t=document.activeElement.id;t&&n((function(){a(t),document.getElementById(t).select()})),l.isLoading=!1}))},e.setForm=function(t){e.formScope=t},e.cancelChanges=function(){l.currentEntity=l.origEntity,e.bladeClose()},e.saveChanges=function(){if("operationDetail"===l.id){if(angular.copy(l.currentEntity,l.origEntity),l.isNew)l.realOperationsCollection.push(l.currentEntity),l.customerOrder.childrenOperations.push(angular.copy(l.currentEntity));else{var t=_.findWhere(l.realOperationsCollection,{id:l.origEntity.id});angular.copy(l.origEntity,t)}e.bladeClose(),l.isTotalsRecalculationNeeded&&l.recalculate()}else l.isLoading=!0,o.update(l.customerOrder,(function(){l.isNew=!1,l.refresh(),l.parentBlade.refresh(),r.closeChildrenBlades(l)}))},l.toolbarCommands=[{name:"orders.commands.new-document",icon:"fas fa-plus",executeMethod:function(){var e={id:"newOperationWizard",customerOrder:l.customerOrder,currentEntity:l.currentEntity,availableTypes:l.knownChildrenOperations,title:"orders.blades.newOperation-wizard.title",subtitle:"orders.blades.newOperation-wizard.subtitle",controller:"virtoCommerce.orderModule.newOperationWizardController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/wizards/newOperation/newOperation-wizard.tpl.html"};r.showBlade(e,l)},canExecuteMethod:function(){return _.any(l.knownChildrenOperations)},permission:l.updatePermission},{name:"platform.commands.save",icon:"fas fa-save",executeMethod:e.saveChanges,canExecuteMethod:d,permission:l.updatePermission},{name:"platform.commands.reset",icon:"fa fa-undo",executeMethod:function(){angular.copy(l.origEntity,l.currentEntity)},canExecuteMethod:s,permission:l.updatePermission},{name:"platform.commands.delete",icon:"fas fa-trash-alt",executeMethod:function(){var e={id:"confirmDeleteItem",title:"orders.dialogs.operation-delete.title",message:"orders.dialogs.operation-delete.message",callback:function(e){if(e)if("operationDetail"===l.id){var t=_.findIndex(l.customerOrder.childrenOperations,(function(e){return e.id===l.origEntity.id}));l.customerOrder.childrenOperations.splice(t,1);t=_.findIndex(l.realOperationsCollection,(function(e){return e.id===l.origEntity.id}));l.realOperationsCollection.splice(t,1),r.closeBlade(l)}else o.delete({ids:l.customerOrder.id},(function(){l.parentBlade.refresh(),r.closeBlade(l)}))}};t.showConfirmationDialog(e)},canExecuteMethod:function(){return!0},permission:"order:delete"},{name:"orders.commands.cancel-document",icon:"fa fa-remove",executeMethod:function(){var r={id:"confirmCancelOperation",callback:function(t){switch(l.currentEntity.operationType){case"PaymentIn":l.currentEntity.cancelledState="Requested";break;case"CustomerOrder":_.forEach(l.currentEntity.inPayments,(function(e){e.cancelledState="Requested"})),l.currentEntity.isCancelled=!0,l.setEntityStatus("Cancelled");break;default:l.currentEntity.isCancelled=!0,l.setEntityStatus("Cancelled")}l.currentEntity.cancelReason=null==t||t.replace(/\s/g,"").length<1?null:t,l.currentEntity.cancelledDate=new Date,e.saveChanges()}};t.showDialog(r,"Modules/$(VirtoCommerce.Orders)/Scripts/dialogs/cancelOperation-dialog.tpl.html","virtoCommerce.orderModule.confirmCancelDialogController")},canExecuteMethod:function(){return l.currentEntity&&(!l.currentEntity.isCancelled||"Undefined"===l.currentEntity.cancelledState)},permission:l.updatePermission}],"operationDetail"===l.id&&l.toolbarCommands.splice(1,1),l.onClose=function(t){r.showConfirmationIfNeeded(s(),d(),l,e.saveChanges,t,"orders.dialogs.operation-save.title","orders.dialogs.operation-save.message")},e.cancelOperationResolution=function(e){$modalInstance.close(e)},l.refresh()}]).controller("virtoCommerce.orderModule.confirmCancelDialogController",["$scope","$modalInstance",function(e,t,r){e.cancelReason=void 0,e.yes=function(){t.close(e.cancelReason)},e.cancel=function(){t.dismiss("cancel")}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.paymentDetailController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.settings","virtoCommerce.orderModule.order_res_customerOrders","virtoCommerce.orderModule.statusTranslationService","platformWebApp.authService","virtoCommerce.paymentModule.paymentMethods",function(e,t,r,o,i,n,a,l){var s=e.blade;if(s.isVisiblePrices=a.checkPermission("order:read_prices"),s.paymentMethods=[],s.isNew){s.title="orders.blades.payment-detail.title-new";var d=_.findWhere(s.metaFields,{name:"createdDate"});d&&(d.isReadOnly=!1),i.getNewPayment({id:s.customerOrder.id},s.initialize)}else s.title="orders.blades.payment-detail.title",s.titleValues={number:s.currentEntity.number},s.subtitle="orders.blades.payment-detail.subtitle";function c(e){s.statuses=n.translateStatuses(e,"PaymentIn")}s.realOperationsCollection=s.customerOrder.inPayments,l.search({storeId:s.customerOrder.storeId},(function(e){s.paymentMethods=e.results}),(function(e){t.setError("Error "+e.status,s)})),o.getValues({id:"PaymentIn.Status"},c),s.openStatusSettingManagement=function(){var e={id:"settingDetailChild",isApiSave:!0,currentEntityId:"PaymentIn.Status",parentRefresh:c,controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};t.showBlade(e,s)},s.customInitialize=function(){s.isLocked="Paid"==s.currentEntity.status||"Completed"===s.currentEntity.cancelledState||s.currentEntity.isCancelled},s.setEntityStatus=function(e){s.currentEntity.status=e,s.currentEntity.paymentStatus=e},s.updateRecalculationFlag=function(){s.isTotalsRecalculationNeeded=s.origEntity.price!=s.currentEntity.price||s.origEntity.priceWithTax!=s.currentEntity.priceWithTax},e.$watch("blade.currentEntity.paymentMethod",(function(e){s.isNew&&e&&(s.currentEntity.gatewayCode=e.code)}),!0)}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.paymentTransactionsDetailController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.bladeUtils",function(e,t,r){var o=e.blade;o.isLoading=!1,o.title="orders.blades.transaction-detail.title",o.subtitle="orders.blades.transaction-detail.subtitle"}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.paymentTransactionsListController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.bladeUtils",function(e,t,r){var o=e.blade;o.isLoading=!1,o.title="orders.blades.transactions-list.title",o.subtitle="orders.blades.transactions-list.subtitle",e.setGridOptions=function(t){Array.prototype.push.apply(t.columnDefs,_.map(["amount"],(function(e){return{name:e,cellFilter:"currency",visible:!1}}))),e.gridOptions=t},e.selectNode=function(e){var r={id:"transactionDetail",currentEntity:e,controller:"virtoCommerce.orderModule.paymentTransactionsDetailController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/payment-transactions-detail.tpl.html"};t.showBlade(r,o)}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.shipmentDetailController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.settings","virtoCommerce.orderModule.order_res_customerOrders","virtoCommerce.inventoryModule.fulfillments","virtoCommerce.orderModule.statusTranslationService","platformWebApp.authService","virtoCommerce.shippingModule.shippingMethods",function(e,t,r,o,i,n,a,l,s){var d=e.blade;if(d.isVisiblePrices=l.checkPermission("order:read_prices"),d.shippingMethods=[],d.isNew){d.title="orders.blades.shipment-detail.title-new";var c=_.findWhere(d.metaFields,{name:"createdDate"});c&&(c.isReadOnly=!1),i.getNewShipment({id:d.customerOrder.id},d.initialize)}else d.title="orders.blades.shipment-detail.title",d.titleValues={number:d.currentEntity.number},d.subtitle="orders.blades.shipment-detail.subtitle";function m(e){d.statuses=a.translateStatuses(e,"shipment")}d.realOperationsCollection=d.customerOrder.shipments,s.search({storeId:d.customerOrder.storeId},(function(e){d.isLoading=!1,d.shippingMethods=e.results}),(function(e){t.setError("Error "+e.status,d)})),o.getValues({id:"Shipment.Status"},m),d.openStatusSettingManagement=function(){var e={id:"settingDetailChild",isApiSave:!0,currentEntityId:"Shipment.Status",parentRefresh:m,controller:"platformWebApp.settingDictionaryController",template:"$(Platform)/Scripts/app/settings/blades/setting-dictionary.tpl.html"};t.showBlade(e,d)},d.employees=d.parentBlade.employees,n.search({take:100},(function(e){d.fulfillmentCenters=e.results})),d.openFulfillmentCentersList=function(){t.showBlade({id:"fulfillmentCenterList",controller:"virtoCommerce.inventoryModule.fulfillmentListController",template:"Modules/$(VirtoCommerce.Inventory)/Scripts/blades/fulfillment-center-list.tpl.html"},d)},d.customInitialize=function(){d.isLocked="Send"==d.currentEntity.status||"Completed"===d.currentEntity.cancelledState||d.currentEntity.isCancelled},d.updateRecalculationFlag=function(){d.isTotalsRecalculationNeeded=d.origEntity.price!=d.currentEntity.price||d.origEntity.priceWithTax!=d.currentEntity.priceWithTax},e.$watch("blade.currentEntity.shippingMethod",(function(e){d.isNew&&e&&(d.currentEntity.shipmentMethodCode=e.code)}),!0)}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.shipmentItemsController",["$scope","platformWebApp.bladeNavigationService","platformWebApp.dialogService","platformWebApp.authService",function(e,t,r,o){var i=e.blade;i.updatePermission="order:update",i.isVisiblePrices=o.checkPermission("order:read_prices"),i.currentEntity.items=i.currentEntity.items||[];var n=null,a=[];i.refresh=function(){i.isLoading=!1,i.selectedAll=!1},i.toolbarCommands=[{name:"orders.commands.add-item",icon:"fas fa-plus",executeMethod:function(){var r,o;r={checkItemFn:function(e,t){t?_.all(a,(function(t){return t.id!=e.id}))&&a.push(e):a=_.reject(a,(function(t){return t.id==e.id}))}},o={id:"OrderItemsSelect",currentEntity:i.currentEntity,orderItems:i.parentBlade.parentBlade.currentEntity.items,title:"orders.blades.catalog-items-select.title",controller:"virtoCommerce.orderModule.orderItemSelectController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/customerOrder-items-select.tpl.html",options:r,breadcrumbs:[],toolbarCommands:[{name:"orders.commands.add-selected",icon:"fas fa-plus",executeMethod:function(e){a.length=0,t.closeBlade(e)},canExecuteMethod:function(){return a.length>0}}]},t.showBlade(o,e.blade)},canExecuteMethod:function(){return"Shipment"===i.currentEntity.operationType},permission:i.updatePermission},{name:"platform.commands.remove",icon:"fas fa-trash-alt",executeMethod:function(){var e=i.currentEntity.items;i.currentEntity.items=_.difference(e,_.filter(e,(function(e){return e.selected})))},canExecuteMethod:function(){return _.any(i.currentEntity.items,(function(e){return e.selected}))},permission:i.updatePermission}],e.selectItem=function(t){n=t,e.selectedNodeId=n.id},e.checkAll=function(e){angular.forEach(i.currentEntity.items,(function(t){t.selected=e}))},i.refresh()}])},function(e,t){angular.module("virtoCommerce.orderModule").directive("maskMoney",["showPriceFilter",function(e){return{restrict:"A",require:"ngModel",scope:{maskMoney:"="},link:function(t,r,o,i){var n=t.maskMoney;n&&r.attr("readonly",!0),i.$formatters.unshift((function(t){return n?e(t,!1):t}))}}}])},function(e,t){angular.module("virtoCommerce.orderModule").factory("virtoCommerce.orderModule.catalogItems",["$resource",function(e){return e("api/catalog/products/:id",null,{})}])},function(e,t){angular.module("virtoCommerce.orderModule").factory("virtoCommerce.orderModule.order_res_customerOrders",["$resource",function(e){return e("api/order/customerOrders/:id",{id:"@Id"},{search:{method:"POST",url:"api/order/customerOrders/search"},getNewShipment:{url:"api/order/customerOrders/:id/shipments/new"},getNewPayment:{url:"api/order/customerOrders/:id/payments/new"},recalculate:{method:"PUT",url:"api/order/customerOrders/recalculate"},update:{method:"PUT",url:"api/order/customerOrders"},getDashboardStatistics:{url:"api/order/dashboardStatistics"},getOrderChanges:{method:"GET",url:"api/order/customerOrders/:id/changes",isArray:!0},searchOrderChanges:{method:"POST",url:"api/order/customerOrders/searchChanges"},indexedSearch:{method:"POST",url:"api/order/customerOrders/indexed/search"},indexedSearchEnabled:{method:"GET",url:"/api/order/customerOrders/indexed/searchEnabled"}})}])},function(e,t){angular.module("virtoCommerce.orderModule").factory("virtoCommerce.orderModule.order_res_fulfilmentCenters",["$resource",function(e){return e("api/fulfillment/centers")}])},function(e,t){angular.module("virtoCommerce.orderModule").factory("virtoCommerce.orderModule.securityAccounts",["$resource",function(e){return e("api/platform/security/users/id/:id",{id:"@Id"},{})}])},function(e,t){angular.module("virtoCommerce.orderModule").filter("showPrice",(function(){return function(e,t){var r=/\d/g;return r.test(e)&&arguments.length>1&&!t&&(e=String(e).replace(r,"#")),e}}))},function(e,t){function r(e,t,r){var o="orders.settings."+t.toLowerCase()+"-status."+e.toLowerCase(),i=r.instant(o);return i===o?e:i}angular.module("virtoCommerce.orderModule").factory("virtoCommerce.orderModule.statusTranslationService",["$translate",function(e){return{translateStatuses:function(t,o){return _.map(t,(function(t){return{key:t,value:r(t,o,e)}}))}}}]).filter("statusTranslate",["$translate",function(e){return function(t,o){return(o=o||t).status?r(o.status,o.operationType,e):""}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.customerOrderAddressWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.operation={},e.openAddressesBlade=function(){var r={id:"orderOperationAddresses",title:"orders.widgets.customerOrder-address.blade-title",currentEntities:e.operation.addresses,controller:"virtoCommerce.coreModule.common.coreAddressListController",template:"Modules/$(VirtoCommerce.Core)/Scripts/common/blades/address-list.tpl.html"};t.showBlade(r,e.blade)},e.$watch("widget.blade.customerOrder",(function(t){e.operation=t}))}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.customerOrderChangeLogWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var r=e.widget.blade;r.showOrderChanges=function(){var e={id:"customerOrderChangeLog",orderId:r.customerOrder.id,headIcon:r.headIcon,title:r.title,titleValues:{customer:r.customerOrder.customerName},subtitle:"platform.widgets.operations.blade-subtitle",isExpandable:!0,controller:"virtoCommerce.orderModule.customerOrderChangeLogController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/customerOrder-change-log.tpl.html"};t.showBlade(e,r)}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.customerOrderItemsWidgetController",["$scope","$translate","platformWebApp.bladeNavigationService",function(e,t,r){var o=e.widget.blade;e.$watch("widget.blade.customerOrder",(function(t){e.operation=t})),e.openItemsBlade=function(){var t={id:"customerOrderItems",currentEntity:e.operation,recalculateFn:o.recalculate,controller:"virtoCommerce.orderModule.customerOrderItemsController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/customerOrder-items.tpl.html"};r.showBlade(t,o)}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.customerOrderTotalsWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.notificationsLogWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){var r=e.widget.blade;r.showNotificationsLog=function(){var e={id:"notificationLogWidgetChild",objectId:r.currentEntity.id,objectType:"CustomerOrder",title:"orders.widgets.notifications.title",subtitle:"orders.widgets.notifications.subtitle",controller:"virtoCommerce.notificationsModule.notificationsJournalController",template:"Modules/$(VirtoCommerce.Notifications)/Scripts/blades/notifications-journal.tpl.html"};t.showBlade(e,r)}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.operationCommentWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.operation={},e.openCommentBlade=function(){var r={id:"operationComment",title:"orders.widgets.operation-comment.blade-title",currentEntity:e.operation,controller:"virtoCommerce.orderModule.orderOperationCommentDetail",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/operation-comment.tpl.html"};t.showBlade(r,e.blade)},e.$watch("widget.blade.currentEntity",(function(t){e.operation=t}))}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.operationTreeWidgetController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.orderModule.knownOperations",function(e,t,r){var o=e.blade;e.$watchCollection("blade.customerOrder.childrenOperations",(function(){if(e.currentOperationId=o.customerOrder.id,!o.isLoading){var t={};!function e(t,o){var i=r.getOperation(t.operationType);if(!i)return void console.log("Could not find template for:"+t.operationType);var n=angular.copy(i);n.operation=t;o.childrenNodes=o.childrenNodes||[];o.childrenNodes.push(n);_.each(t.childrenOperations,(function(t){e(t,n)}))}(o.customerOrder,t),e.node=t.childrenNodes[0]}})),e.selectOperation=function(r){if(e.currentOperationId=r.operation.id,r.operation.id===o.customerOrder.id)t.closeChildrenBlades(o);else{var i=r.detailBlade;angular.extend(i,{customerOrder:o.customerOrder,currentEntity:r.operation}),t.showBlade(i,o)}}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.paymentAddressWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.operation={},e.openBlade=function(){var r=e.operation.billingAddress;r||(r={isNew:!0,addressType:"billing"});var o={id:"orderOperationAddresses",title:"orders.widgets.payment-address.blade-title",currentEntity:r,controller:"virtoCommerce.coreModule.common.coreAddressDetailController",template:"Modules/$(VirtoCommerce.Core)/Scripts/common/blades/address-detail.tpl.html",deleteFn:function(t){e.operation.billingAddress=null},confirmChangesFn:function(t){e.operation.billingAddress=t,t.isNew=!1}};t.showBlade(o,e.blade)},e.getAddressName=function(e){var t=null;return e&&(t=[e.countryCode,e.regionName,e.city,e.line1].join(",")),t},e.$watch("widget.blade.currentEntity",(function(t){e.operation=t}))}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.paymentTotalsWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.blade=e.widget.blade,e.$watch("widget.blade.currentEntity",(function(t){t&&(e.payment=t)}),!0)}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.paymentTransactionsWidgetController",["$scope","$translate","platformWebApp.bladeNavigationService",function(e,t,r){var o=e.widget.blade;e.$watch("widget.blade.currentEntity",(function(t){e.operation=t})),e.openItemsBlade=function(){var t={id:"transactions",currentEntity:e.operation,controller:"virtoCommerce.orderModule.paymentTransactionsListController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/payment-transactions-list.tpl.html"};r.showBlade(t,o)}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.shipmentAddressWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.operation={},e.openAddressesBlade=function(){var r=e.operation.deliveryAddress;r||(r={isNew:!0});var o={id:"orderOperationAddresses",title:"orders.widgets.shipment-address.blade-title",currentEntity:r,controller:"virtoCommerce.coreModule.common.coreAddressDetailController",template:"Modules/$(VirtoCommerce.Core)/Scripts/common/blades/address-detail.tpl.html",deleteFn:function(t){e.operation.deliveryAddress=null},confirmChangesFn:function(t){e.operation.deliveryAddress=t,t.isNew=!1}};t.showBlade(o,e.blade)},e.getAddressName=function(e){var t=null;return e&&(t=[e.countryCode,e.regionName,e.city,e.line1].join(",")),t},e.$watch("widget.blade.currentEntity",(function(t){e.operation=t}))}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.shipmentItemsWidgetController",["$scope","$translate","platformWebApp.bladeNavigationService",function(e,t,r){var o=e.widget.blade;e.$watch("widget.blade.currentEntity",(function(t){e.operation=t})),e.openItemsBlade=function(){t("orders.blades.shipment-detail.title",{number:e.operation.number}).then((function(e){var t={id:"shipmentItems",title:"orders.blades.shipment-items.title",titleValues:{title:e},subtitle:"orders.blades.shipment-items.subtitle",currentEntity:o.currentEntity,controller:"virtoCommerce.orderModule.shipmentItemsController",template:"Modules/$(VirtoCommerce.Orders)/Scripts/blades/shipment-items.tpl.html"};r.showBlade(t,o)}))}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.shipmentTotalsWidgetController",["$scope","platformWebApp.bladeNavigationService",function(e,t){e.blade=e.widget.blade,e.$watch("widget.blade.currentEntity",(function(t){t&&(e.shipment=t)}),!0)}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.dashboard.statisticsWidgetController",["$scope","$localStorage","$state",function(e,t,r){e.$storage=t,e.openBlade=function(){r.go("workspace.orderModule")}}])},function(e,t){angular.module("virtoCommerce.orderModule").controller("virtoCommerce.orderModule.newOperationWizardController",["$scope","platformWebApp.bladeNavigationService","virtoCommerce.orderModule.knownOperations",function(e,t,r){var o=e.blade;e.availableOperations=_.map(o.availableTypes,(function(e){return r.getOperation(e)})),e.openDetailsBlade=function(e){var r=angular.copy(e.detailBlade);r.customerOrder=o.customerOrder,r.isNew=!0,t.showBlade(r,o.parentBlade)},o.isLoading=!1}])},function(e,t,r){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvb3JkZXIuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL2JsYWRlcy9jdXN0b21lck9yZGVyLWNoYW5nZS1sb2cuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL2JsYWRlcy9jdXN0b21lck9yZGVyLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvYmxhZGVzL2N1c3RvbWVyT3JkZXItaXRlbXMtc2VsZWN0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuT3JkZXJzLy4vU2NyaXB0cy9ibGFkZXMvY3VzdG9tZXJPcmRlci1pdGVtcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvYmxhZGVzL2N1c3RvbWVyT3JkZXItbGlzdC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvYmxhZGVzL2ZpbHRlci1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL2JsYWRlcy9vcGVyYXRpb24tY29tbWVudC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvYmxhZGVzL29wZXJhdGlvbi1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL2JsYWRlcy9wYXltZW50LWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvYmxhZGVzL3BheW1lbnQtdHJhbnNhY3Rpb25zLWRldGFpbC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvYmxhZGVzL3BheW1lbnQtdHJhbnNhY3Rpb25zLWxpc3QuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL2JsYWRlcy9zaGlwbWVudC1kZXRhaWwuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL2JsYWRlcy9zaGlwbWVudC1pdGVtcy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvZGlyZWN0aXZlcy9tYXNrTW9uZXkuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL3Jlc291cmNlcy9jYXRhbG9nSXRlbXMuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL3Jlc291cmNlcy9jdXN0b21lck9yZGVycy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvcmVzb3VyY2VzL2Z1bGZpbGxtZW50Q2VudGVycy5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvcmVzb3VyY2VzL3NlY3VyaXR5QWNjb3VudHMuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL3NlcnZpY2VzL3Nob3dQcmljZUZpbHRlci5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvc2VydmljZXMvc3RhdHVzVHJhbnNsYXRpb24uanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL3dpZGdldHMvY3VzdG9tZXJPcmRlci1hZGRyZXNzLXdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvd2lkZ2V0cy9jdXN0b21lck9yZGVyLWNoYW5nZS1sb2ctd2lkZ2V0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuT3JkZXJzLy4vU2NyaXB0cy93aWRnZXRzL2N1c3RvbWVyT3JkZXItaXRlbXMtd2lkZ2V0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuT3JkZXJzLy4vU2NyaXB0cy93aWRnZXRzL2N1c3RvbWVyT3JkZXItdG90YWxzLXdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvd2lkZ2V0cy9ub3RpZmljYXRpb25zTG9nV2lkZ2V0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuT3JkZXJzLy4vU2NyaXB0cy93aWRnZXRzL29wZXJhdGlvbi1jb21tZW50LXdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvd2lkZ2V0cy9vcGVyYXRpb24tdHJlZS13aWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL3dpZGdldHMvcGF5bWVudC1hZGRyZXNzLXdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvd2lkZ2V0cy9wYXltZW50LXRvdGFscy13aWRnZXQuanMiLCJ3ZWJwYWNrOi8vVmlydG9Db21tZXJjZS5PcmRlcnMvLi9TY3JpcHRzL3dpZGdldHMvcGF5bWVudC10cmFuc2FjdGlvbnMtd2lkZ2V0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuT3JkZXJzLy4vU2NyaXB0cy93aWRnZXRzL3NoaXBtZW50LWFkZHJlc3Mtd2lkZ2V0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuT3JkZXJzLy4vU2NyaXB0cy93aWRnZXRzL3NoaXBtZW50LWl0ZW1zLXdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvd2lkZ2V0cy9zaGlwbWVudC10b3RhbHMtd2lkZ2V0LmpzIiwid2VicGFjazovL1ZpcnRvQ29tbWVyY2UuT3JkZXJzLy4vU2NyaXB0cy93aWRnZXRzL2Rhc2hib2FyZC9zdGF0aXN0aWNzLXdpZGdldC5qcyIsIndlYnBhY2s6Ly9WaXJ0b0NvbW1lcmNlLk9yZGVycy8uL1NjcmlwdHMvd2l6YXJkcy9uZXdPcGVyYXRpb24vbmV3T3BlcmF0aW9uLXdpemFyZC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInVuZGVmaW5lZCIsIkFwcERlcGVuZGVuY2llcyIsInB1c2giLCJhbmd1bGFyIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIiRzY29wZSIsImJsYWRlTmF2aWdhdGlvblNlcnZpY2UiLCJzaG93QmxhZGUiLCJpZCIsInRpdGxlIiwiaXNFeHBhbmRhYmxlIiwidGVtcGxhdGUiLCJpc0Nsb3NpbmdEaXNhYmxlZCIsIm1vZHVsZU5hbWUiLCJmYWN0b3J5IiwibWFwIiwicmVnaXN0ZXJPcGVyYXRpb24iLCJvcCIsImNvcHkiLCJkZXRhaWxCbGFkZSIsImV4dGVuZCIsImtub3duQ2hpbGRyZW5PcGVyYXRpb25zIiwibWV0YUZpZWxkcyIsInR5cGUiLCJnZXRPcGVyYXRpb24iLCJydW4iLCIkcm9vdFNjb3BlIiwiJGh0dHAiLCIkY29tcGlsZSIsIm1haW5NZW51U2VydmljZSIsIndpZGdldFNlcnZpY2UiLCIkc3RhdGUiLCIkbG9jYWxTdG9yYWdlIiwiY3VzdG9tZXJPcmRlcnMiLCJzY29wZVJlc29sdmVyIiwic3RvcmVzIiwia25vd25PcGVyYXRpb25zIiwiYXV0aFNlcnZpY2UiLCJtZXRhRm9ybXNTZXJ2aWNlIiwibWVudUl0ZW0iLCJwYXRoIiwiaWNvbiIsInByaW9yaXR5IiwiYWN0aW9uIiwiZ28iLCJwZXJtaXNzaW9uIiwiYWRkTWVudUl0ZW0iLCJ0cmVlVGVtcGxhdGVVcmwiLCJ2YWx1ZVR5cGUiLCJpc1Zpc2libGVGbiIsImJsYWRlIiwiaXNOZXciLCJpc1JlcXVpcmVkIiwiaXNSZWFkT25seSIsImRlc2NyaXB0aW9uIiwicmVnaXN0ZXJXaWRnZXQiLCJpc1Zpc2libGUiLCJjaGVja1Blcm1pc3Npb24iLCJjaGVja1Blcm1pc3Npb25Ub1JlYWRQcmljZXMiLCJjdXN0b21lck9yZGVyVG90YWxzV2lkZ2V0Iiwic2l6ZSIsIm9wZXJhdGlvbkNvbW1lbnRXaWRnZXQiLCJzaGlwbWVudFRvdGFsV2lkZ2V0IiwicGF5bWVudFRvdGFsV2lkZ2V0IiwiZHluYW1pY1Byb3BlcnR5V2lkZ2V0Iiwic3RhdGlzdGljc0NvbnRyb2xsZXIiLCJpbmRleGVkU2VhcmNoRW5hYmxlZCIsImRhdGEiLCJyZXN1bHQiLCJkb2N1bWVudFR5cGUiLCJ0aGVuIiwicmVzcG9uc2UiLCJyZWdpc3Rlck1ldGFGaWVsZHMiLCJvcmRlclN0b3JlU2NvcGUiLCJzZWxlY3RGbiIsImNhbGxiYWNrIiwibmV3QmxhZGUiLCJ0aGlzIiwic3VidGl0bGUiLCJjdXJyZW50RW50aXR5Iiwib25DaGFuZ2VzQ29uZmlybWVkRm4iLCJkYXRhU2VydmljZSIsInJlZ2lzdGVyIiwiJG9uIiwiZXZlbnQiLCJhdXRoQ29udGV4dCIsImlzQXV0aGVudGljYXRlZCIsIm5vdyIsIkRhdGUiLCJzdGFydERhdGUiLCJzZXRGdWxsWWVhciIsImdldEZ1bGxZZWFyIiwiZ2V0RGFzaGJvYXJkU3RhdGlzdGljcyIsInN0YXJ0IiwiZW5kIiwic3RhdGlzdGljc1RvQ2hhcnRSb3dzIiwic3RhdHNMaXN0IiwiYWxsQ3VycmVuY2llcyIsImdyb3VwZWRRdWFydGVycyIsIl8iLCJncm91cEJ5Iiwic3RhdHMiLCJ5ZWFyIiwicXVhcnRlciIsInZhbHVlcyIsInYiLCJlYWNoIiwieCIsInN0YXQiLCJmaW5kV2hlcmUiLCJjdXJyZW5jeSIsImFtb3VudCIsInVuaXF1ZSIsInBsdWNrIiwiYXZnT3JkZXJWYWx1ZVBlcmlvZERldGFpbHMiLCJzb3J0IiwiY29scyIsImxhYmVsIiwiY2hhcnRSZXZlbnVlQnlRdWFydGVyIiwicm93cyIsInJldmVudWVQZXJpb2REZXRhaWxzIiwicG9zaXRpb24iLCJncmlkbGluZXMiLCJjb3VudCIsInNsYW50ZWRUZXh0Iiwic2xhbnRlZFRleHRBbmdsZSIsImNoYXJ0T3JkZXJWYWx1ZUJ5UXVhcnRlciIsIm9yZGVyc0Rhc2hib2FyZFN0YXRpc3RpY3MiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJ1aUdyaWRIZWxwZXIiLCJibGFkZVV0aWxzIiwiJHRpbWVvdXQiLCJzaG93TW9yZSIsImhhc01vcmUiLCJwYWdlU2V0dGluZ3MiLCJjdXJyZW50UGFnZSIsImdyaWRBcGkiLCJpbmZpbml0ZVNjcm9sbCIsInNhdmVTY3JvbGxQZXJjZW50YWdlIiwiaXNMb2FkaW5nIiwic2VhcmNoT3JkZXJDaGFuZ2VzIiwiZ2V0U2VhcmNoQ3JpdGVyaWEiLCJ0b3RhbEl0ZW1zIiwidG90YWxDb3VudCIsImN1cnJlbnRFbnRpdGllcyIsImNvbmNhdCIsInJlc3VsdHMiLCJsZW5ndGgiLCJpdGVtc1BlclBhZ2VDb3VudCIsImRhdGFMb2FkZWQiLCJvcmRlcklkIiwiZ2V0U29ydEV4cHJlc3Npb24iLCJza2lwIiwidGFrZSIsInJlZnJlc2giLCJyZXNldFNjcm9sbCIsImZpbHRlciIsImNyaXRlcmlhQ2hhbmdlZCIsInNldEdyaWRPcHRpb25zIiwiZ3JpZE9wdGlvbnMiLCJpbml0aWFsaXplUGFnaW5hdGlvbiIsImluaXRpYWxpemUiLCJiaW5kUmVmcmVzaE9uU29ydENoYW5nZWQiLCJvbiIsIm5lZWRMb2FkTW9yZURhdGEiLCIkd2luZG93IiwiZGlhbG9nU2VydmljZSIsInNldHRpbmdzIiwibWVtYmVycyIsIm1lbWJlclR5cGVzUmVzb2x2ZXJTZXJ2aWNlIiwic3RhdHVzVHJhbnNsYXRpb25TZXJ2aWNlIiwic2VjdXJpdHlBY2NvdW50cyIsInRyYW5zbGF0ZUJsYWRlU3RhdHVzZXMiLCJzdGF0dXNlcyIsInRyYW5zbGF0ZVN0YXR1c2VzIiwiY3VycmVudEVudGl0eUlkIiwiY3VzdG9tZXJPcmRlciIsImlzVmlzaWJsZVByaWNlcyIsInRpdGxlVmFsdWVzIiwiY3VzdG9tZXIiLCJjdXN0b21lck5hbWUiLCJ0b29sYmFyQ29tbWFuZHMiLCJpbmRleCIsImV4ZWN1dGVNZXRob2QiLCJvcGVuIiwibnVtYmVyIiwiY2FuRXhlY3V0ZU1ldGhvZCIsImdldFZhbHVlcyIsIm9wZW5TdGF0dXNTZXR0aW5nTWFuYWdlbWVudCIsImlzQXBpU2F2ZSIsInBhcmVudFJlZnJlc2giLCJvcGVuQ3VzdG9tZXJEZXRhaWxzIiwiY3VzdG9tZXJJZCIsImFjY291bnQiLCJjb250YWN0SWQiLCJtZW1iZXJJZCIsIm1lbWJlciIsImZvdW5kVGVtcGxhdGUiLCJyZXNvbHZlIiwibWVtYmVyVHlwZSIsInNob3dOb3RpZmljYXRpb25EaWFsb2ciLCJtZXNzYWdlIiwibWVzc2FnZVZhbHVlcyIsInNob3dDdXN0b21lckRldGFpbEJsYWRlIiwic2VhcmNoIiwiZW1wbG95ZWVzIiwiY3VzdG9tSW5pdGlhbGl6ZSIsImlzTG9ja2VkIiwic3RhdHVzIiwiY2FuY2VsbGVkU3RhdGUiLCJpc0NhbmNlbGxlZCIsIm9wdGlvbnMiLCJzaG93Q2hlY2tpbmdNdWx0aXBsZSIsImFsbG93Q2hlY2tpbmdJdGVtIiwic2VsZWN0ZWRJdGVtSWRzIiwiZ3JpZENvbHVtbnMiLCJpdGVtcyIsIm9yZGVySXRlbXMiLCJpdGVtIiwicXVhbnRpdHlPblNoaXBtZW50IiwicXVhbnRpdHkiLCJvbkl0ZW1zTG9hZGVkIiwic2VsZWN0ZWRJdGVtcyIsIndoZXJlIiwic2VsZWN0ZWQiLCJsaW5lSXRlbUlkIiwibGluZUl0ZW0iLCJjbG9zZUJsYWRlIiwiYW55IiwidXBkYXRlUGVybWlzc2lvbiIsImNoZWNrQWxsIiwiZm9yRWFjaCIsInByaWNlcyIsIiR0cmFuc2xhdGUiLCJzZWxlY3RlZFByb2R1Y3RzIiwiYWRkUHJvZHVjdHNUb09yZGVyIiwicHJvZHVjdHMiLCJwcm9kdWN0IiwiZ2V0UHJvZHVjdFByaWNlcyIsInByaWNlIiwiZmluZCIsIm5ld0xpbmVJdGVtIiwicHJvZHVjdElkIiwiY2F0YWxvZ0lkIiwiY2F0ZWdvcnlJZCIsImltYWdlVXJsIiwiaW1nU3JjIiwic2t1IiwiY29kZSIsImxpc3QiLCJkaXNjb3VudEFtb3VudCIsInNhbGUiLCJyZWNhbGN1bGF0ZUZuIiwic2VsZWN0ZWRBbGwiLCJvcGVuSXRlbUR5bmFtaWNQcm9wZXJ0aWVzIiwib3Blbkl0ZW1EZXRhaWwiLCJpdGVtSWQiLCJwcm9kdWN0VHlwZSIsImNoZWNrSXRlbUZuIiwibGlzdEl0ZW0iLCJpc1NlbGVjdGVkIiwiYWxsIiwicmVqZWN0IiwiYnJlYWRjcnVtYnMiLCJvcGVyYXRpb25UeXBlIiwibGluZUl0ZW1zIiwiZGlmZmVyZW5jZSIsInVpR3JpZENvbnN0YW50cyIsImdyaWRPcHRpb25FeHRlbnNpb24iLCJnZXRQcmljZXNWaXNpYmlsaXR5IiwiZ2V0R3JpZE9wdGlvbnMiLCJ1c2VFeHRlcm5hbFNvcnRpbmciLCJyb3dUZW1wbGF0ZSIsImNvbHVtbkRlZnMiLCJkaXNwbGF5TmFtZSIsImVuYWJsZUNvbHVtblJlc2l6aW5nIiwiZW5hYmxlU29ydGluZyIsIndpZHRoIiwiY2VsbFRlbXBsYXRlIiwicGlubmVkTGVmdCIsImRpc3BsYXlBbHdheXMiLCJjZWxsRmlsdGVyIiwiY2VsbENsYXNzIiwiZGlyZWN0aW9uIiwiREVTQyIsInNlY3VyaXR5U2NvcGVzIiwiaXNGdW5jdGlvbiIsInJlZnJlc2hDYWxsYmFjayIsImlzRGVmaW5lZCIsIiRwcm9taXNlIiwib2JqZWN0cyIsInByZWxvYWRlZE9yZGVycyIsImNyaXRlcmlhIiwicmVzcG9uc2VHcm91cCIsImtleXdvcmQiLCJzZWFyY2hDcml0ZXJpYSIsImN1cnJlbnQiLCJzZWxlY3ROb2RlIiwibm9kZSIsInNlbGVjdGVkTm9kZUlkIiwiZGVsZXRlTGlzdCIsImRpYWxvZyIsInJlbW92ZSIsImNoaWxkcmVuQmxhZGVzIiwic2xpY2UiLCJjaGlsZCIsIml0ZW1JZHMiLCJpZHMiLCJoZWFkZXJzIiwic2V0RXJyb3IiLCJzaG93Q29uZmlybWF0aW9uRGlhbG9nIiwiaGVhZEljb24iLCJoaWRlRGVsZXRlIiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0ZWRSb3dzIiwic2hvd0ZpbHRlckRldGFpbEJsYWRlIiwiYmxhZGVEYXRhIiwib3JkZXJTZWFyY2hGaWx0ZXJzIiwib3JkZXJTZWFyY2hGaWx0ZXJJZCIsImNoYW5nZSIsImVkaXQiLCJvbkV4cGFuZCIsIm9uQ29sbGFwc2UiLCJncmlkSWQiLCJBcnJheSIsImFwcGx5IiwidmlzaWJsZSIsInRyeUV4dGVuZEdyaWRPcHRpb25zIiwiZm9ybVNjb3BlIiwiaW5pdGlhbGl6ZUJsYWRlIiwib3JpZ0VudGl0eSIsImdldE1ldGFGaWVsZHMiLCJjb250YWN0cyIsImFwcGx5Q3JpdGVyaWEiLCJwYXJlbnRCbGFkZSIsInNhdmVDaGFuZ2VzIiwiTWVtYmVySWRzIiwiY3VzdG9tZXJJZHMiLCJ1c2VycyIsInNldEZvcm0iLCJmb3JtIiwiJHZhbGlkIiwiZXF1YWxzIiwic3BsaWNlIiwiaW5kZXhPZiIsImJsYWRlQ2xvc2UiLCJnZXRUaW1lIiwiY2FuY2VsQ2hhbmdlcyIsImlzVmFsaWQiLCJjb21tZW50Iiwib2JqQ29tcGFyZVNlcnZpY2UiLCJmb2N1cyIsImlzRGlydHkiLCJlcXVhbCIsImhhc1VwZGF0ZVBlcm1pc3Npb24iLCJjYW5TYXZlIiwic2NvcGVzIiwib3BlcmF0aW9uIiwic2V0RW50aXR5U3RhdHVzIiwicmVjYWxjdWxhdGUiLCJpZFRvRm9jdXMiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNlbGVjdCIsInJlYWxPcGVyYXRpb25zQ29sbGVjdGlvbiIsImNoaWxkcmVuT3BlcmF0aW9ucyIsImZvdW5kT3AiLCJpc1RvdGFsc1JlY2FsY3VsYXRpb25OZWVkZWQiLCJ1cGRhdGUiLCJjbG9zZUNoaWxkcmVuQmxhZGVzIiwiYXZhaWxhYmxlVHlwZXMiLCJpZHgiLCJmaW5kSW5kZXgiLCJkZWxldGUiLCJyZWFzb24iLCJpblBheW1lbnRzIiwicGF5bWVudCIsImNhbmNlbFJlYXNvbiIsInJlcGxhY2UiLCJjYW5jZWxsZWREYXRlIiwic2hvd0RpYWxvZyIsIm9uQ2xvc2UiLCJjbG9zZUNhbGxiYWNrIiwic2hvd0NvbmZpcm1hdGlvbklmTmVlZGVkIiwiY2FuY2VsT3BlcmF0aW9uUmVzb2x1dGlvbiIsInJlc29sdXRpb24iLCIkbW9kYWxJbnN0YW5jZSIsImNsb3NlIiwieWVzIiwiY2FuY2VsIiwiZGlzbWlzcyIsInBheW1lbnRNZXRob2RzIiwiZm91bmRGaWVsZCIsImdldE5ld1BheW1lbnQiLCJzdG9yZUlkIiwicGF5bWVudFN0YXR1cyIsInVwZGF0ZVJlY2FsY3VsYXRpb25GbGFnIiwicHJpY2VXaXRoVGF4IiwiJHdhdGNoIiwicGF5bWVudE1ldGhvZCIsImdhdGV3YXlDb2RlIiwidHJhbnNhY3Rpb24iLCJmdWxmaWxsbWVudHMiLCJzaGlwcGluZ01ldGhvZHMiLCJnZXROZXdTaGlwbWVudCIsInNoaXBtZW50cyIsImZ1bGZpbGxtZW50Q2VudGVycyIsIm9wZW5GdWxmaWxsbWVudENlbnRlcnNMaXN0Iiwic2hpcHBpbmdNZXRob2QiLCJzaGlwbWVudE1ldGhvZENvZGUiLCJzZWxlY3RlZE5vZGUiLCJzZWxlY3RJdGVtIiwiZGlyZWN0aXZlIiwic2hvd1ByaWNlRmlsdGVyIiwicmVzdHJpY3QiLCJyZXF1aXJlIiwic2NvcGUiLCJtYXNrTW9uZXkiLCJsaW5rIiwiZWwiLCJhdHRycyIsIm5nTW9kZWxDdHJsIiwibWFzayIsImF0dHIiLCIkZm9ybWF0dGVycyIsInVuc2hpZnQiLCIkcmVzb3VyY2UiLCJtZXRob2QiLCJnZXRPcmRlckNoYW5nZXMiLCJpc0FycmF5IiwiaW5kZXhlZFNlYXJjaCIsInNob3ciLCJyZWdleHAiLCJ0ZXN0IiwiYXJndW1lbnRzIiwiU3RyaW5nIiwidHJhbnNsYXRlT3JkZXJTdGF0dXMiLCJyYXdTdGF0dXMiLCJ0cmFuc2xhdGVLZXkiLCJ0b0xvd2VyQ2FzZSIsImluc3RhbnQiLCJyYXdTdGF0dXNlcyIsInN0YXR1c09yT3BlcmF0aW9uIiwib3BlbkFkZHJlc3Nlc0JsYWRlIiwiYWRkcmVzc2VzIiwid2lkZ2V0Iiwic2hvd09yZGVyQ2hhbmdlcyIsIm9wZW5JdGVtc0JsYWRlIiwic2hvd05vdGlmaWNhdGlvbnNMb2ciLCJvYmplY3RJZCIsIm9iamVjdFR5cGUiLCJvcGVuQ29tbWVudEJsYWRlIiwiJHdhdGNoQ29sbGVjdGlvbiIsImN1cnJlbnRPcGVyYXRpb25JZCIsInRyZWVSb290IiwiYnVpbGRPcGVyYXRpb25zVHJlZSIsInRyZWUiLCJub2RlVGVtcGxhdGUiLCJjaGlsZHJlbk5vZGVzIiwic2VsZWN0T3BlcmF0aW9uIiwib3BlbkJsYWRlIiwiYWRkcmVzcyIsImJpbGxpbmdBZGRyZXNzIiwiYWRkcmVzc1R5cGUiLCJkZWxldGVGbiIsImNvbmZpcm1DaGFuZ2VzRm4iLCJnZXRBZGRyZXNzTmFtZSIsInJldFZhbCIsImNvdW50cnlDb2RlIiwicmVnaW9uTmFtZSIsImNpdHkiLCJsaW5lMSIsImpvaW4iLCJkZWxpdmVyeUFkZHJlc3MiLCJzaGlwbWVudCIsIiRzdG9yYWdlIiwiYXZhaWxhYmxlT3BlcmF0aW9ucyIsIm9wZW5EZXRhaWxzQmxhZGUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFP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QVUsZ0JBQWlCLFNBQ3RHLFNBQVVDLEVBQVEyQixFQUFlRCxHQUM3QjFCLEVBQU95ZCxTQUFXOWIsRUFFbEIzQixFQUFPMGMsVUFBWSxXQUNmaGIsRUFBT2EsR0FBRyw4QixjQ05yQjlDLFFBQVFwQyxPQUFPLDZCQUNmMEMsV0FBVyx5REFBMEQsQ0FBQyxTQUFVLHdDQUF5Qyw0Q0FBNkMsU0FBVUMsRUFBUUMsRUFBd0I4QixHQUM3TSxJQUFJYyxFQUFRN0MsRUFBTzZDLE1BRW5CN0MsRUFBTzBkLG9CQUFzQjVYLEVBQUVwRixJQUFJbUMsRUFBTW1VLGdCQUFnQixTQUFVOVYsR0FDL0QsT0FBT2EsRUFBZ0JaLGFBQWFELE1BR3hDbEIsRUFBTzJkLGlCQUFtQixTQUFVL2MsR0FDaEMsSUFBSTJELEVBQVc5RSxRQUFRb0IsS0FBS0QsRUFBR0UsYUFDL0J5RCxFQUFTc0csY0FBZ0JoSSxFQUFNZ0ksY0FDL0J0RyxFQUFTekIsT0FBUSxFQUVqQjdDLEVBQXVCQyxVQUFVcUUsRUFBVTFCLEVBQU04UixjQUdyRDlSLEVBQU0yRixXQUFZLE0iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLy9DYWxsIHRoaXMgdG8gcmVnaXN0ZXIgb3VyIG1vZHVsZSB0byBtYWluIGFwcGxpY2F0aW9uXG52YXIgbW9kdWxlTmFtZSA9IFwidmlydG9Db21tZXJjZS5vcmRlck1vZHVsZVwiO1xuXG5pZiAoQXBwRGVwZW5kZW5jaWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICBBcHBEZXBlbmRlbmNpZXMucHVzaChtb2R1bGVOYW1lKTtcbn1cblxuYW5ndWxhci5tb2R1bGUobW9kdWxlTmFtZSwgWyAvKlRPRE86IFVuY29tbWVudCB3aGVuIG1pZ3JhdGlvbiBvZiB0aGVzZXMgbW9kdWxlIHdpbGwgYmUgZG9uZSAndmlydG9Db21tZXJjZS5wcmljaW5nTW9kdWxlJyovLCAndmlydG9Db21tZXJjZS5jdXN0b21lck1vZHVsZScsICd2aXJ0b0NvbW1lcmNlLnN0b3JlTW9kdWxlJywgJ3ZpcnRvQ29tbWVyY2UuaW52ZW50b3J5TW9kdWxlJ10pXG4uY29uZmlnKFxuICBbJyRzdGF0ZVByb3ZpZGVyJywgZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgIC5zdGF0ZSgnd29ya3NwYWNlLm9yZGVyTW9kdWxlJywge1xuICAgICAgICAgICAgICB1cmw6ICcvb3JkZXJzJyxcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2NvbW1vbi90ZW1wbGF0ZXMvaG9tZS50cGwuaHRtbCcsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFtcbiAgICAgICAgICAgICAgICAgICckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnb3JkZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItbGlzdC50aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vc3VidGl0bGU6ICdNYW5hZ2UgT3JkZXJzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuY3VzdG9tZXJPcmRlckxpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNFeHBhbmRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy9ibGFkZXMvY3VzdG9tZXJPcmRlci1saXN0LnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDbG9zaW5nRGlzYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAvL05lZWQgZm9yIGlzb2xhdGUgYW5kIHByZXZlbnQgY29uZmxpY3QgbW9kdWxlIGNzcyB0byBhbm90aGVyIG1vZHVsZXMgXG4gICAgICAgICAgICAgICAgICAgICAgLy9pdCB2YWx1ZSBpbmNsdWRlZCBpbiBibGFkZUNvbnRhaW5lciBhcyBuZy1jbGFzcz0nbW9kdWxlTmFtZSdcbiAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubW9kdWxlTmFtZSA9IFwidmMtb3JkZXJcIjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgIH0pO1xuICB9XVxuKVxuLy8gZGVmaW5lIGtub3duIE9wZXJhdGlvbnMgdG8gYmUgYWNjZXNzaWJsZSBwbGF0Zm9ybS13aWRlXG4uZmFjdG9yeSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5rbm93bk9wZXJhdGlvbnMnLCBbJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuICAgIHZhciBtYXAgPSB7fTtcblxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyT3BlcmF0aW9uKG9wKSB7XG4gICAgICAgIHZhciBjb3B5ID0gYW5ndWxhci5jb3B5KG9wKTtcbiAgICAgICAgY29weS5kZXRhaWxCbGFkZSA9IGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgICAgIGlkOiAnb3BlcmF0aW9uRGV0YWlsJyxcbiAgICAgICAgICAgIGtub3duQ2hpbGRyZW5PcGVyYXRpb25zOiBbXSxcbiAgICAgICAgICAgIG1ldGFGaWVsZHM6IFtdLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUub3BlcmF0aW9uRGV0YWlsQ29udHJvbGxlcidcbiAgICAgICAgfSwgY29weS5kZXRhaWxCbGFkZSk7XG5cbiAgICAgICAgbWFwW29wLnR5cGVdID0gY29weTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRPcGVyYXRpb24odHlwZSkge1xuICAgICAgICByZXR1cm4gbWFwW3R5cGVdO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZ2lzdGVyT3BlcmF0aW9uOiByZWdpc3Rlck9wZXJhdGlvbixcbiAgICAgICAgZ2V0T3BlcmF0aW9uOiBnZXRPcGVyYXRpb25cbiAgICB9O1xufV0pXG4ucnVuKFxuICAgIFsnJHJvb3RTY29wZScsICckaHR0cCcsICckY29tcGlsZScsICdwbGF0Zm9ybVdlYkFwcC5tYWluTWVudVNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAud2lkZ2V0U2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJyRzdGF0ZScsICckbG9jYWxTdG9yYWdlJywgJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUub3JkZXJfcmVzX2N1c3RvbWVyT3JkZXJzJywgJ3BsYXRmb3JtV2ViQXBwLnBlcm1pc3Npb25TY29wZVJlc29sdmVyJywgJ3ZpcnRvQ29tbWVyY2Uuc3RvcmVNb2R1bGUuc3RvcmVzJywgJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUua25vd25PcGVyYXRpb25zJywgJ3BsYXRmb3JtV2ViQXBwLmF1dGhTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLm1ldGFGb3Jtc1NlcnZpY2UnLFxuICAgICAgICBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGh0dHAsICRjb21waWxlLCBtYWluTWVudVNlcnZpY2UsIHdpZGdldFNlcnZpY2UsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsICRzdGF0ZSwgJGxvY2FsU3RvcmFnZSwgY3VzdG9tZXJPcmRlcnMsIHNjb3BlUmVzb2x2ZXIsIHN0b3Jlcywga25vd25PcGVyYXRpb25zLCBhdXRoU2VydmljZSwgbWV0YUZvcm1zU2VydmljZSkge1xuICAgICAgICAvL1JlZ2lzdGVyIG1vZHVsZSBpbiBtYWluIG1lbnVcbiAgICAgICAgdmFyIG1lbnVJdGVtID0ge1xuICAgICAgICAgICAgcGF0aDogJ2Jyb3dzZS9vcmRlcnMnLFxuICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWZpbGUtdGV4dCcsXG4gICAgICAgICAgICB0aXRsZTogJ29yZGVycy5tYWluLW1lbnUtdGl0bGUnLFxuICAgICAgICAgICAgcHJpb3JpdHk6IDkwLFxuICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKSB7ICRzdGF0ZS5nbygnd29ya3NwYWNlLm9yZGVyTW9kdWxlJyk7IH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiAnb3JkZXI6YWNjZXNzJ1xuICAgICAgICB9O1xuICAgICAgICBtYWluTWVudVNlcnZpY2UuYWRkTWVudUl0ZW0obWVudUl0ZW0pO1xuXG4gICAgICAgIC8vIHJlZ2lzdGVyIEN1c3RvbWVyT3JkZXIsIFBheW1lbnRJbiBhbmQgU2hpcG1lbnQgdHlwZXMgYXMga25vd24gb3BlcmF0aW9uc1xuICAgICAgICBrbm93bk9wZXJhdGlvbnMucmVnaXN0ZXJPcGVyYXRpb24oe1xuICAgICAgICAgICAgdHlwZTogJ0N1c3RvbWVyT3JkZXInLFxuICAgICAgICAgICAgdHJlZVRlbXBsYXRlVXJsOiAnb3JkZXJPcGVyYXRpb25EZWZhdWx0LnRwbC5odG1sJyxcbiAgICAgICAgICAgIGRldGFpbEJsYWRlOiB7XG4gICAgICAgICAgICAgICAgaWQ6ICdvcmRlckRldGFpbCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvYmxhZGVzL2N1c3RvbWVyT3JkZXItZGV0YWlsLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBrbm93bkNoaWxkcmVuT3BlcmF0aW9uczogWydTaGlwbWVudCcsICdQYXltZW50SW4nXSxcbiAgICAgICAgICAgICAgICBtZXRhRmllbGRzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdpc0FwcHJvdmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMuY3VzdG9tZXJPcmRlci1kZXRhaWwubGFiZWxzLmFwcHJvdmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiQm9vbGVhblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNWaXNpYmxlRm46IGZ1bmN0aW9uIChibGFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhYmxhZGUuaXNOZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdlbXBsb3llZUlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMuY3VzdG9tZXJPcmRlci1kZXRhaWwubGFiZWxzLmVtcGxveWVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ29yZGVyLWVtcGxveWVlU2VsZWN0b3IuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1JlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwib3JkZXJzLmJsYWRlcy5jdXN0b21lck9yZGVyLWRldGFpbC5sYWJlbHMub3JkZXItbnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiU2hvcnRUZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NyZWF0ZWREYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItZGV0YWlsLmxhYmVscy5mcm9tXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiRGF0ZVRpbWVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnc3RhdHVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3RhdHVzU2VsZWN0b3IuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2N1c3RvbWVyTmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItZGV0YWlsLmxhYmVscy5jdXN0b21lclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjdXN0b21lclNlbGVjdG9yLmh0bWwnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdkaXNjb3VudEFtb3VudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItaXRlbXMubGFiZWxzLmRpc2NvdW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Rpc2NvdW50QW1vdW50Lmh0bWwnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdzdG9yZUlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMuY3VzdG9tZXJPcmRlci1kZXRhaWwubGFiZWxzLnN0b3JlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3N0b3JlU2VsZWN0b3IuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHBheW1lbnRJbk9wZXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdQYXltZW50SW4nLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdvcmRlcnMuYmxhZGVzLm5ld09wZXJhdGlvbi13aXphcmQubWVudS5wYXltZW50LW9wZXJhdGlvbi5kZXNjcmlwdGlvbicsXG4gICAgICAgICAgICAvLyB0cmVlVGVtcGxhdGVVcmw6ICdvcmRlck9wZXJhdGlvbkRlZmF1bHQudHBsLmh0bWwnLFxuICAgICAgICAgICAgZGV0YWlsQmxhZGU6IHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy9ibGFkZXMvcGF5bWVudC1kZXRhaWwudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgIG1ldGFGaWVsZHM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1JlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwib3JkZXJzLmJsYWRlcy5wYXltZW50LWRldGFpbC5sYWJlbHMucGF5bWVudC1udW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJTaG9ydFRleHRcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY3JlYXRlZERhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMucGF5bWVudC1kZXRhaWwubGFiZWxzLmZyb21cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJEYXRlVGltZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwcmljZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLnBheW1lbnQtZGV0YWlsLmxhYmVscy5wcmljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcmljZS5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAncHJpY2VXaXRoVGF4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMucGF5bWVudC1kZXRhaWwubGFiZWxzLnByaWNlLXdpdGgtdGF4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ByaWNlV2l0aFRheC5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBrbm93bk9wZXJhdGlvbnMucmVnaXN0ZXJPcGVyYXRpb24ocGF5bWVudEluT3BlcmF0aW9uKTtcblxuICAgICAgICB2YXIgc2hpcG1lbnRPcGVyYXRpb24gPSB7XG4gICAgICAgICAgICB0eXBlOiAnU2hpcG1lbnQnLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdvcmRlcnMuYmxhZGVzLm5ld09wZXJhdGlvbi13aXphcmQubWVudS5zaGlwbWVudC1vcGVyYXRpb24uZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgZGV0YWlsQmxhZGU6IHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy9ibGFkZXMvc2hpcG1lbnQtZGV0YWlsLnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBtZXRhRmllbGRzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMuc2hpcG1lbnQtZGV0YWlsLmxhYmVscy5zaGlwbWVudC1udW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJTaG9ydFRleHRcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY3JlYXRlZERhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMuc2hpcG1lbnQtZGV0YWlsLmxhYmVscy5mcm9tXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiRGF0ZVRpbWVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnc3RhdHVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3RhdHVzU2VsZWN0b3IuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2VtcGxveWVlSWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwib3JkZXJzLmJsYWRlcy5zaGlwbWVudC1kZXRhaWwubGFiZWxzLmVtcGxveWVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NoaXBtZW50LWVtcGxveWVlU2VsZWN0b3IuaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3ByaWNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMuc2hpcG1lbnQtZGV0YWlsLmxhYmVscy5wcmljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcmljZS5odG1sJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAncHJpY2VXaXRoVGF4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMuc2hpcG1lbnQtZGV0YWlsLmxhYmVscy5wcmljZS13aXRoLXRheFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwcmljZVdpdGhUYXguaHRtbCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAga25vd25PcGVyYXRpb25zLnJlZ2lzdGVyT3BlcmF0aW9uKHNoaXBtZW50T3BlcmF0aW9uKTtcblxuICAgICAgICAvL1JlZ2lzdGVyIHdpZGdldHNcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5ub3RpZmljYXRpb25zTG9nV2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy93aWRnZXRzL25vdGlmaWNhdGlvbnNMb2dXaWRnZXQudHBsLmh0bWwnLFxuICAgICAgICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbiAoYmxhZGUpIHsgcmV0dXJuIGF1dGhTZXJ2aWNlLmNoZWNrUGVybWlzc2lvbignbm90aWZpY2F0aW9uczphY2Nlc3MnKTsgfVxuICAgICAgICB9LCAnY3VzdG9tZXJPcmRlckRldGFpbFdpZGdldHMnKTtcblxuICAgICAgICB2YXIgb3BlcmF0aW9uSXRlbXNXaWRnZXQgPSB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jdXN0b21lck9yZGVySXRlbXNXaWRnZXRDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuT3JkZXJzKS9TY3JpcHRzL3dpZGdldHMvY3VzdG9tZXJPcmRlci1pdGVtcy13aWRnZXQudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQob3BlcmF0aW9uSXRlbXNXaWRnZXQsICdjdXN0b21lck9yZGVyRGV0YWlsV2lkZ2V0cycpO1xuXG4gICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoe1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuY3VzdG9tZXJPcmRlckNoYW5nZUxvZ1dpZGdldENvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvd2lkZ2V0cy9jdXN0b21lck9yZGVyLWNoYW5nZS1sb2ctd2lkZ2V0LnRwbC5odG1sJyB9LCAnY3VzdG9tZXJPcmRlckRldGFpbFdpZGdldHMnKTtcblxuICAgICAgICB2YXIgc2hpcG1lbnRJdGVtc1dpZGdldCA9IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLnNoaXBtZW50SXRlbXNXaWRnZXRDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuT3JkZXJzKS9TY3JpcHRzL3dpZGdldHMvc2hpcG1lbnQtaXRlbXMtd2lkZ2V0LnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHNoaXBtZW50SXRlbXNXaWRnZXQsICdzaGlwbWVudERldGFpbFdpZGdldHMnKTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuY2hhbmdlTG9nLm9wZXJhdGlvbnNXaWRnZXRDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvY2hhbmdlTG9nL3dpZGdldHMvb3BlcmF0aW9ucy13aWRnZXQudHBsLmh0bWwnIH0sICdzaGlwbWVudERldGFpbFdpZGdldHMnKTtcblxuXG4gICAgICAgIHZhciBjdXN0b21lck9yZGVyQWRkcmVzc1dpZGdldCA9IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLmN1c3RvbWVyT3JkZXJBZGRyZXNzV2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy93aWRnZXRzL2N1c3RvbWVyT3JkZXItYWRkcmVzcy13aWRnZXQudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoY3VzdG9tZXJPcmRlckFkZHJlc3NXaWRnZXQsICdjdXN0b21lck9yZGVyRGV0YWlsV2lkZ2V0cycpO1xuICAgICAgICBmdW5jdGlvbiBjaGVja1Blcm1pc3Npb25Ub1JlYWRQcmljZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXV0aFNlcnZpY2UuY2hlY2tQZXJtaXNzaW9uKCdvcmRlcjpyZWFkX3ByaWNlcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1c3RvbWVyT3JkZXJUb3RhbHNXaWRnZXQgPSB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jdXN0b21lck9yZGVyVG90YWxzV2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBzaXplOiBbMiwgMl0sXG4gICAgICAgICAgICBpc1Zpc2libGU6IGNoZWNrUGVybWlzc2lvblRvUmVhZFByaWNlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuT3JkZXJzKS9TY3JpcHRzL3dpZGdldHMvY3VzdG9tZXJPcmRlci10b3RhbHMtd2lkZ2V0LnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGN1c3RvbWVyT3JkZXJUb3RhbHNXaWRnZXQsICdjdXN0b21lck9yZGVyRGV0YWlsV2lkZ2V0cycpO1xuXG5cbiAgICAgICAgdmFyIG9wZXJhdGlvbkNvbW1lbnRXaWRnZXQgPSB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5vcGVyYXRpb25Db21tZW50V2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy93aWRnZXRzL29wZXJhdGlvbi1jb21tZW50LXdpZGdldC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChvcGVyYXRpb25Db21tZW50V2lkZ2V0LCAnY3VzdG9tZXJPcmRlckRldGFpbFdpZGdldHMnKTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChvcGVyYXRpb25Db21tZW50V2lkZ2V0LCAnc2hpcG1lbnREZXRhaWxXaWRnZXRzJyk7XG4gICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQob3BlcmF0aW9uQ29tbWVudFdpZGdldCwgJ3BheW1lbnREZXRhaWxXaWRnZXRzJyk7XG5cbiAgICAgICAgdmFyIHNoaXBtZW50QWRkcmVzc1dpZGdldCA9IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLnNoaXBtZW50QWRkcmVzc1dpZGdldENvbnRyb2xsZXInLFxuICAgICAgICAgICAgc2l6ZTogWzIsIDFdLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvd2lkZ2V0cy9zaGlwbWVudC1hZGRyZXNzLXdpZGdldC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChzaGlwbWVudEFkZHJlc3NXaWRnZXQsICdzaGlwbWVudERldGFpbFdpZGdldHMnKTtcblxuXG4gICAgICAgIHZhciBzaGlwbWVudFRvdGFsV2lkZ2V0ID0ge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuc2hpcG1lbnRUb3RhbHNXaWRnZXRDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHNpemU6IFsyLCAxXSxcbiAgICAgICAgICAgIGlzVmlzaWJsZTogY2hlY2tQZXJtaXNzaW9uVG9SZWFkUHJpY2VzLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvd2lkZ2V0cy9zaGlwbWVudC10b3RhbHMtd2lkZ2V0LnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHNoaXBtZW50VG90YWxXaWRnZXQsICdzaGlwbWVudERldGFpbFdpZGdldHMnKTtcblxuICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLnBheW1lbnRBZGRyZXNzV2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBzaXplOiBbMiwgMV0sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy93aWRnZXRzL3BheW1lbnQtYWRkcmVzcy13aWRnZXQudHBsLmh0bWwnXG4gICAgICAgIH0sICdwYXltZW50RGV0YWlsV2lkZ2V0cycpO1xuXG4gICAgICAgIHZhciBwYXltZW50VG90YWxXaWRnZXQgPSB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5wYXltZW50VG90YWxzV2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBzaXplOiBbMiwgMV0sXG4gICAgICAgICAgICBpc1Zpc2libGU6IGNoZWNrUGVybWlzc2lvblRvUmVhZFByaWNlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuT3JkZXJzKS9TY3JpcHRzL3dpZGdldHMvcGF5bWVudC10b3RhbHMtd2lkZ2V0LnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHBheW1lbnRUb3RhbFdpZGdldCwgJ3BheW1lbnREZXRhaWxXaWRnZXRzJyk7XG5cbiAgICAgICAgdmFyIHBheW1lbnRUcmFuc2FjdGlvbnNXaWRnZXQgPSB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5wYXltZW50VHJhbnNhY3Rpb25zV2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBzaXplOiBbMSwgMV0sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy93aWRnZXRzL3BheW1lbnQtdHJhbnNhY3Rpb25zLXdpZGdldC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChwYXltZW50VHJhbnNhY3Rpb25zV2lkZ2V0LCAncGF5bWVudERldGFpbFdpZGdldHMnKTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuY2hhbmdlTG9nLm9wZXJhdGlvbnNXaWRnZXRDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvY2hhbmdlTG9nL3dpZGdldHMvb3BlcmF0aW9ucy13aWRnZXQudHBsLmh0bWwnXG4gICAgICAgIH0sICdwYXltZW50RGV0YWlsV2lkZ2V0cycpO1xuXG4gICAgICAgIHZhciBkeW5hbWljUHJvcGVydHlXaWRnZXQgPSB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuZHluYW1pY1Byb3BlcnR5V2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJyQoUGxhdGZvcm0pL1NjcmlwdHMvYXBwL2R5bmFtaWNQcm9wZXJ0aWVzL3dpZGdldHMvZHluYW1pY1Byb3BlcnR5V2lkZ2V0LnRwbC5odG1sJyxcbiAgICAgICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24gKGJsYWRlKSB7IHJldHVybiBhdXRoU2VydmljZS5jaGVja1Blcm1pc3Npb24oJ3BsYXRmb3JtOmR5bmFtaWNfcHJvcGVydGllczpyZWFkJyk7IH1cbiAgICAgICAgfTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChkeW5hbWljUHJvcGVydHlXaWRnZXQsICdzaGlwbWVudERldGFpbFdpZGdldHMnKTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChkeW5hbWljUHJvcGVydHlXaWRnZXQsICdjdXN0b21lck9yZGVyRGV0YWlsV2lkZ2V0cycpO1xuICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGR5bmFtaWNQcm9wZXJ0eVdpZGdldCwgJ3BheW1lbnREZXRhaWxXaWRnZXRzJyk7XG5cblxuICAgICAgICB2YXIgb3BlcmF0aW9uc1RyZWVXaWRnZXQgPSB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5vcGVyYXRpb25UcmVlV2lkZ2V0Q29udHJvbGxlcicsXG4gICAgICAgICAgICBzaXplOiBbNCwgM10sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy93aWRnZXRzL29wZXJhdGlvbi10cmVlLXdpZGdldC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldChvcGVyYXRpb25zVHJlZVdpZGdldCwgJ2N1c3RvbWVyT3JkZXJEZXRhaWxXaWRnZXRzJyk7XG5cbiAgICAgICAgLy8gcmVnaXN0ZXIgZGFzaGJvYXJkIHdpZGdldHNcbiAgICAgICAgdmFyIHN0YXRpc3RpY3NDb250cm9sbGVyID0gJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuZGFzaGJvYXJkLnN0YXRpc3RpY3NXaWRnZXRDb250cm9sbGVyJztcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiBzdGF0aXN0aWNzQ29udHJvbGxlcixcbiAgICAgICAgICAgIHNpemU6IFsyLCAxXSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnb3JkZXItc3RhdGlzdGljcy1yZXZlbnVlLmh0bWwnXG4gICAgICAgIH0sICdtYWluRGFzaGJvYXJkJyk7XG4gICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoe1xuICAgICAgICAgICAgY29udHJvbGxlcjogc3RhdGlzdGljc0NvbnRyb2xsZXIsXG4gICAgICAgICAgICBzaXplOiBbMiwgMV0sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ29yZGVyLXN0YXRpc3RpY3MtY3VzdG9tZXJzQ291bnQuaHRtbCdcbiAgICAgICAgfSwgJ21haW5EYXNoYm9hcmQnKTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiBzdGF0aXN0aWNzQ29udHJvbGxlcixcbiAgICAgICAgICAgIHNpemU6IFsyLCAxXSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnb3JkZXItc3RhdGlzdGljcy1yZXZlbnVlUGVyQ3VzdG9tZXIuaHRtbCdcbiAgICAgICAgfSwgJ21haW5EYXNoYm9hcmQnKTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiBzdGF0aXN0aWNzQ29udHJvbGxlcixcbiAgICAgICAgICAgIHNpemU6IFsyLCAxXSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnb3JkZXItc3RhdGlzdGljcy1vcmRlclZhbHVlLmh0bWwnXG4gICAgICAgIH0sICdtYWluRGFzaGJvYXJkJyk7XG4gICAgICAgIHdpZGdldFNlcnZpY2UucmVnaXN0ZXJXaWRnZXQoe1xuICAgICAgICAgICAgY29udHJvbGxlcjogc3RhdGlzdGljc0NvbnRyb2xsZXIsXG4gICAgICAgICAgICBzaXplOiBbMiwgMV0sXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ29yZGVyLXN0YXRpc3RpY3MtaXRlbXNQdXJjaGFzZWQuaHRtbCdcbiAgICAgICAgfSwgJ21haW5EYXNoYm9hcmQnKTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiBzdGF0aXN0aWNzQ29udHJvbGxlcixcbiAgICAgICAgICAgIHNpemU6IFsyLCAxXSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnb3JkZXItc3RhdGlzdGljcy1saW5laXRlbXNQZXJPcmRlci5odG1sJ1xuICAgICAgICB9LCAnbWFpbkRhc2hib2FyZCcpO1xuICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IHN0YXRpc3RpY3NDb250cm9sbGVyLFxuICAgICAgICAgICAgc2l6ZTogWzMsIDJdLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICdvcmRlci1zdGF0aXN0aWNzLXJldmVudWVCeVF1YXJ0ZXIuaHRtbCdcbiAgICAgICAgfSwgJ21haW5EYXNoYm9hcmQnKTtcbiAgICAgICAgd2lkZ2V0U2VydmljZS5yZWdpc3RlcldpZGdldCh7XG4gICAgICAgICAgICBjb250cm9sbGVyOiBzdGF0aXN0aWNzQ29udHJvbGxlcixcbiAgICAgICAgICAgIHNpemU6IFszLCAyXSxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnb3JkZXItc3RhdGlzdGljcy1vcmRlclZhbHVlQnlRdWFydGVyLmh0bWwnXG4gICAgICAgIH0sICdtYWluRGFzaGJvYXJkJyk7XG5cbiAgICAgICAgY3VzdG9tZXJPcmRlcnMuaW5kZXhlZFNlYXJjaEVuYWJsZWQoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXN0b21lck9yZGVySW5kZXhXaWRnZXQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50VHlwZTogJ0N1c3RvbWVyT3JkZXInLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5zZWFyY2hNb2R1bGUuaW5kZXhXaWRnZXRDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5TZWFyY2gpL1NjcmlwdHMvd2lkZ2V0cy9pbmRleC13aWRnZXQudHBsLmh0bWwnLFxuICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIChibGFkZSkgeyByZXR1cm4gIWJsYWRlLmlzTmV3OyB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB3aWRnZXRTZXJ2aWNlLnJlZ2lzdGVyV2lkZ2V0KGN1c3RvbWVyT3JkZXJJbmRleFdpZGdldCwgJ2N1c3RvbWVyT3JkZXJEZXRhaWxXaWRnZXRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgJGh0dHAuZ2V0KCdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvd2lkZ2V0cy9kYXNoYm9hcmQvc3RhdGlzdGljcy10ZW1wbGF0ZXMuaHRtbCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAvLyBjb21waWxlIHRoZSByZXNwb25zZSwgd2hpY2ggd2lsbCBwdXQgc3R1ZmYgaW50byB0aGUgY2FjaGVcbiAgICAgICAgICAgICRjb21waWxlKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICBtZXRhRm9ybXNTZXJ2aWNlLnJlZ2lzdGVyTWV0YUZpZWxkcygnb3JkZXJGaWx0ZXJEZXRhaWwnLCBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3N0YXR1c2VzJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItZGV0YWlsLmxhYmVscy5zdGF0dXNcIixcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3N0YXR1c2VzU2VsZWN0b3IuaHRtbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3N0b3JlSWRzJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItZGV0YWlsLmxhYmVscy5zdG9yZVwiLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc3RvcmVTZWxlY3Rvci5odG1sJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnc3RhcnREYXRlJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLmZpbHRlci1kZXRhaWwubGFiZWxzLmZyb21cIixcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IFwiRGF0ZVRpbWVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnZW5kRGF0ZScsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwib3JkZXJzLmJsYWRlcy5maWx0ZXItZGV0YWlsLmxhYmVscy50b1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogXCJEYXRlVGltZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdjdXN0b21lcklkJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItZGV0YWlsLmxhYmVscy5jdXN0b21lclwiLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY3VzdG9tZXJTZWxlY3Rvci5odG1sJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnZW1wbG95ZWVJZCcsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwib3JkZXJzLmJsYWRlcy5zaGlwbWVudC1kZXRhaWwubGFiZWxzLmVtcGxveWVlXCIsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdmaWx0ZXItZW1wbG95ZWVTZWxlY3Rvci5odG1sJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdKTtcblxuICAgICAgICAvL1JlZ2lzdGVyIHBlcm1pc3Npb24gc2NvcGVzIHRlbXBsYXRlcyB1c2VkIGZvciBzY29wZSBib3VuZGVkIGRlZmluaXRpb24gaW4gcm9sZSBtYW5hZ2VtZW50IHVpXG4gICAgICAgIHZhciBvcmRlclN0b3JlU2NvcGUgPSB7XG4gICAgICAgICAgICB0eXBlOiAnT3JkZXJTZWxlY3RlZFN0b3JlU2NvcGUnLFxuICAgICAgICAgICAgdGl0bGU6ICdPbmx5IGZvciBvcmRlcnMgaW4gc2VsZWN0ZWQgc3RvcmVzJyxcbiAgICAgICAgICAgIHNlbGVjdEZuOiBmdW5jdGlvbiAoYmxhZGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogJ3N0b3JlLXBpY2snLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6ICdTZWxlY3Qgc3RvcmVzJyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2VzQ29uZmlybWVkRm46IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICBkYXRhU2VydmljZTogc3RvcmVzLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuc2VjdXJpdHkuc2NvcGVWYWx1ZVBpY2tGcm9tU2ltcGxlTGlzdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJyQoUGxhdGZvcm0pL1NjcmlwdHMvYXBwL3NlY3VyaXR5L2JsYWRlcy9jb21tb24vc2NvcGUtdmFsdWUtcGljay1mcm9tLXNpbXBsZS1saXN0LnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGVSZXNvbHZlci5yZWdpc3RlcihvcmRlclN0b3JlU2NvcGUpO1xuICAgICAgICB2YXIgcmVzcG9uc2libGVPcmRlclNjb3BlID0ge1xuICAgICAgICAgICAgdHlwZTogJ09ubHlPcmRlclJlc3BvbnNpYmxlU2NvcGUnLFxuICAgICAgICAgICAgdGl0bGU6ICdPbmx5IGZvciBvcmRlciByZXNwb25zaWJsZSdcbiAgICAgICAgfTtcbiAgICAgICAgc2NvcGVSZXNvbHZlci5yZWdpc3RlcihyZXNwb25zaWJsZU9yZGVyU2NvcGUpO1xuXG4gICAgICAgICRyb290U2NvcGUuJG9uKCdsb2dpblN0YXR1c0NoYW5nZWQnLCBmdW5jdGlvbiAoZXZlbnQsIGF1dGhDb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAoYXV0aENvbnRleHQuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgc3RhcnREYXRlLnNldEZ1bGxZZWFyKG5vdy5nZXRGdWxsWWVhcigpIC0gMSk7XG5cbiAgICAgICAgICAgICAgICBjdXN0b21lck9yZGVycy5nZXREYXNoYm9hcmRTdGF0aXN0aWNzKHsgc3RhcnQ6IHN0YXJ0RGF0ZSwgZW5kOiBub3cgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJlcGFyZSBzdGF0aXN0aWNzXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0aXN0aWNzVG9DaGFydFJvd3MgPSBmdW5jdGlvbiAoc3RhdHNMaXN0LCBhbGxDdXJyZW5jaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBlZFF1YXJ0ZXJzID0gXy5ncm91cEJ5KHN0YXRzTGlzdCwgZnVuY3Rpb24gKHN0YXRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRzLnllYXIgKyAnIFEnICsgc3RhdHMucXVhcnRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8ubWFwKGdyb3VwZWRRdWFydGVycywgZnVuY3Rpb24gKHN0YXRzLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdjoga2V5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGFsbEN1cnJlbmNpZXMsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ID0gXy5maW5kV2hlcmUoc3RhdHMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2OiBzdGF0ID8gc3RhdC5hbW91bnQgOiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsQ3VycmVuY2llcyA9IF8udW5pcXVlKF8ucGx1Y2soZGF0YS5hdmdPcmRlclZhbHVlUGVyaW9kRGV0YWlscywgJ2N1cnJlbmN5Jykuc29ydCgpKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29scyA9IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJxdWFydGVyXCIsIGxhYmVsOiBcIlF1YXJ0ZXJcIiwgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICAgICAgXy5lYWNoKGFsbEN1cnJlbmNpZXMsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcInJldmVudWVcIiArIHgsIGxhYmVsOiB4LCB0eXBlOiBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YS5jaGFydFJldmVudWVCeVF1YXJ0ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJMaW5lQ2hhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sczogY29scyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzOiBzdGF0aXN0aWNzVG9DaGFydFJvd3MoZGF0YS5yZXZlbnVlUGVyaW9kRGV0YWlscywgYWxsQ3VycmVuY2llcylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm9wdGlvbnNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCJSZXZlbnVlIGJ5IHF1YXJ0ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxlZ2VuZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2QXhpc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwidGl0bGVcIjogXCJTYWxlcyB1bml0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRsaW5lczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJoQXhpc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFwidGl0bGVcIjogXCJEYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xhbnRlZFRleHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsYW50ZWRUZXh0QW5nbGU6IDIwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9ybWF0dGVyc1wiOiB7fVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbHMgPSBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwicXVhcnRlclwiLCBsYWJlbDogXCJRdWFydGVyXCIsIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgICAgIF8uZWFjaChhbGxDdXJyZW5jaWVzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29scy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJhdmctb3JkZXJWYWx1ZVwiICsgeCwgbGFiZWw6IHgsIHR5cGU6IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBkYXRhLmNoYXJ0T3JkZXJWYWx1ZUJ5UXVhcnRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkNvbHVtbkNoYXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHM6IGNvbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93czogc3RhdGlzdGljc1RvQ2hhcnRSb3dzKGRhdGEuYXZnT3JkZXJWYWx1ZVBlcmlvZERldGFpbHMsIGFsbEN1cnJlbmNpZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvcHRpb25zXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiQXZlcmFnZSBPcmRlciB2YWx1ZSBieSBxdWFydGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsZWdlbmRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidkF4aXNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkbGluZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiA4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaEF4aXNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGFudGVkVGV4dDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xhbnRlZFRleHRBbmdsZTogMjBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtYXR0ZXJzXCI6IHt9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgJGxvY2FsU3RvcmFnZS5vcmRlcnNEYXNoYm9hcmRTdGF0aXN0aWNzID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jdXN0b21lck9yZGVyQ2hhbmdlTG9nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUub3JkZXJfcmVzX2N1c3RvbWVyT3JkZXJzJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRzY29wZSwgY3VzdG9tZXJPcmRlcnMsIHVpR3JpZEhlbHBlciwgYmxhZGVVdGlscywgJHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgICAgIC8vcGFnaW5hdGlvbiBzZXR0aW5nc1xuICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzID0ge307XG4gICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50ID0gMjA7XG4gICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IDA7XG5cbiAgICAgICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1c3RvbWVyT3JkZXJzLnNlYXJjaE9yZGVyQ2hhbmdlcyhnZXRTZWFyY2hDcml0ZXJpYSgpLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IGRhdGEudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXRpZXMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmhhc01vcmUgPSBkYXRhLnJlc3VsdHMubGVuZ3RoID09PSAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ncmlkQXBpKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLnJlc2V0U2Nyb2xsKHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5kYXRhTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gc2hvd01vcmUoKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmhhc01vcmUpIHtcbiAgICAgICAgICAgICAgICArKyRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2U7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmdyaWRBcGkuaW5maW5pdGVTY3JvbGwuc2F2ZVNjcm9sbFBlcmNlbnRhZ2UoKTtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgY3VzdG9tZXJPcmRlcnMuc2VhcmNoT3JkZXJDaGFuZ2VzKGdldFNlYXJjaENyaXRlcmlhKCksIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLnRvdGFsSXRlbXMgPSBkYXRhLnRvdGFsQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdGllcyA9IGJsYWRlLmN1cnJlbnRFbnRpdGllcy5jb25jYXQoZGF0YS5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhhc01vcmUgPSBkYXRhLnJlc3VsdHMubGVuZ3RoID09PSAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaS5pbmZpbml0ZVNjcm9sbC5kYXRhTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRTZWFyY2hDcml0ZXJpYSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgb3JkZXJJZDogYmxhZGUub3JkZXJJZCxcbiAgICAgICAgICAgICAgICBzb3J0OiB1aUdyaWRIZWxwZXIuZ2V0U29ydEV4cHJlc3Npb24oJHNjb3BlKSxcbiAgICAgICAgICAgICAgICBza2lwOiAoJHNjb3BlLnBhZ2VTZXR0aW5ncy5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLnBhZ2VTZXR0aW5ncy5pdGVtc1BlclBhZ2VDb3VudCxcbiAgICAgICAgICAgICAgICB0YWtlOiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpbHRlciA9IGJsYWRlLmZpbHRlciA9ICRzY29wZS5maWx0ZXIgPSB7fTtcbiAgICAgICAgZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID4gMSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBibGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdWktZ3JpZFxuICAgICAgICAkc2NvcGUuc2V0R3JpZE9wdGlvbnMgPSBmdW5jdGlvbiAoZ3JpZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGJsYWRlVXRpbHMuaW5pdGlhbGl6ZVBhZ2luYXRpb24oJHNjb3BlLCB0cnVlKTtcblxuICAgICAgICAgICAgdWlHcmlkSGVscGVyLmluaXRpYWxpemUoJHNjb3BlLCBncmlkT3B0aW9ucywgZnVuY3Rpb24gKGdyaWRBcGkpIHtcbiAgICAgICAgICAgICAgICAvL3VwZGF0ZSBncmlkQXBpIGZvciBjdXJyZW50IGdyaWRcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZEFwaSA9IGdyaWRBcGk7XG4gICAgICAgICAgICAgICAgdWlHcmlkSGVscGVyLmJpbmRSZWZyZXNoT25Tb3J0Q2hhbmdlZCgkc2NvcGUpO1xuICAgICAgICAgICAgICAgICRzY29wZS5ncmlkQXBpLmluZmluaXRlU2Nyb2xsLm9uLm5lZWRMb2FkTW9yZURhdGEoJHNjb3BlLCBzaG93TW9yZSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7IGJsYWRlLnJlZnJlc2goKTsgfSk7XG4gICAgICAgIH07XG5cbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jdXN0b21lck9yZGVyRGV0YWlsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyR3aW5kb3cnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdzJywgJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVycycsICd2aXJ0b0NvbW1lcmNlLmN1c3RvbWVyTW9kdWxlLm1lbWJlclR5cGVzUmVzb2x2ZXJTZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuc3RhdHVzVHJhbnNsYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuc2VjdXJpdHlBY2NvdW50cycsICdwbGF0Zm9ybVdlYkFwcC5hdXRoU2VydmljZScsXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICR3aW5kb3csIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGRpYWxvZ1NlcnZpY2UsIHNldHRpbmdzLCBtZW1iZXJzLCBtZW1iZXJUeXBlc1Jlc29sdmVyU2VydmljZSwgc3RhdHVzVHJhbnNsYXRpb25TZXJ2aWNlLCBzZWN1cml0eUFjY291bnRzLCBhdXRoU2VydmljZSkge1xuICAgICAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eUlkID0gYmxhZGUuY3VzdG9tZXJPcmRlci5pZDtcblxuICAgICAgICAgICAgYmxhZGUuaXNWaXNpYmxlUHJpY2VzID0gYXV0aFNlcnZpY2UuY2hlY2tQZXJtaXNzaW9uKCdvcmRlcjpyZWFkX3ByaWNlcycpO1xuXG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChibGFkZSwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnb3JkZXJzLmJsYWRlcy5jdXN0b21lck9yZGVyLWRldGFpbC50aXRsZScsXG4gICAgICAgICAgICAgICAgdGl0bGVWYWx1ZXM6IHsgY3VzdG9tZXI6IGJsYWRlLmN1c3RvbWVyT3JkZXIuY3VzdG9tZXJOYW1lIH0sXG4gICAgICAgICAgICAgICAgc3VidGl0bGU6ICdvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItZGV0YWlsLnN1YnRpdGxlJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnb3JkZXJzLmJsYWRlcy5jdXN0b21lck9yZGVyLWRldGFpbC5sYWJlbHMuaW52b2ljZScsXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ZhIGZhLWRvd25sb2FkJyxcbiAgICAgICAgICAgICAgICBpbmRleDogNSxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoYmxhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5vcGVuKCdhcGkvb3JkZXIvY3VzdG9tZXJPcmRlcnMvaW52b2ljZS8nICsgYmxhZGUuY3VycmVudEVudGl0eS5udW1iZXIsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHNldHRpbmdzLmdldFZhbHVlcyh7IGlkOiAnT3JkZXIuU3RhdHVzJyB9LCB0cmFuc2xhdGVCbGFkZVN0YXR1c2VzKTtcbiAgICAgICAgICAgIGJsYWRlLm9wZW5TdGF0dXNTZXR0aW5nTWFuYWdlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAnc2V0dGluZ0RldGFpbENoaWxkJyxcbiAgICAgICAgICAgICAgICAgICAgaXNBcGlTYXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5SWQ6ICdPcmRlci5TdGF0dXMnLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRSZWZyZXNoOiB0cmFuc2xhdGVCbGFkZVN0YXR1c2VzLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ0RpY3Rpb25hcnlDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZUJsYWRlU3RhdHVzZXMoZGF0YSkge1xuICAgICAgICAgICAgICAgIGJsYWRlLnN0YXR1c2VzID0gc3RhdHVzVHJhbnNsYXRpb25TZXJ2aWNlLnRyYW5zbGF0ZVN0YXR1c2VzKGRhdGEsICdjdXN0b21lck9yZGVyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dDdXN0b21lckRldGFpbEJsYWRlKG1lbWJlcikge1xuICAgICAgICAgICAgICAgIHZhciBmb3VuZFRlbXBsYXRlID0gbWVtYmVyVHlwZXNSZXNvbHZlclNlcnZpY2UucmVzb2x2ZShtZW1iZXIubWVtYmVyVHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kVGVtcGxhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0gYW5ndWxhci5jb3B5KGZvdW5kVGVtcGxhdGUuZGV0YWlsQmxhZGUpO1xuICAgICAgICAgICAgICAgICAgICBuZXdCbGFkZS5jdXJyZW50RW50aXR5ID0gbWVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbkRpYWxvZyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiY3VzdG9tZXIuZGlhbG9ncy51bmtub3duLW1lbWJlci10eXBlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImN1c3RvbWVyLmRpYWxvZ3MudW5rbm93bi1tZW1iZXItdHlwZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlVmFsdWVzOiB7IG1lbWJlclR5cGU6IG1lbWJlci5tZW1iZXJUeXBlIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBibGFkZS5vcGVuQ3VzdG9tZXJEZXRhaWxzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlY3VyaXR5QWNjb3VudHMuZ2V0KHsgaWQ6IGJsYWRlLmN1c3RvbWVyT3JkZXIuY3VzdG9tZXJJZCB9LCBmdW5jdGlvbiAoYWNjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdElkID0gKGFjY291bnQgJiYgYWNjb3VudC5tZW1iZXJJZCkgPyBhY2NvdW50Lm1lbWJlcklkIDogYmxhZGUuY3VzdG9tZXJPcmRlci5jdXN0b21lcklkO1xuICAgICAgICAgICAgICAgICAgICBtZW1iZXJzLmdldCh7IGlkOiBjb250YWN0SWQgfSwgZnVuY3Rpb24gKG1lbWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbWJlciAmJiBtZW1iZXIuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q3VzdG9tZXJEZXRhaWxCbGFkZShtZW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgLy8gbG9hZCBlbXBsb3llZXNcbiAgICAgICAgICAgIG1lbWJlcnMuc2VhcmNoKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyVHlwZTogJ0VtcGxveWVlJyxcbiAgICAgICAgICAgICAgICAgICAgLy9tZW1iZXJJZDogcGFyZW50IG9yZy4gSUQsXG4gICAgICAgICAgICAgICAgICAgIHNvcnQ6ICdmdWxsTmFtZTphc2MnLFxuICAgICAgICAgICAgICAgICAgICB0YWtlOiAxMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5lbXBsb3llZXMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJsYWRlLmN1c3RvbUluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuaXNMb2NrZWQgPSBibGFkZS5jdXJyZW50RW50aXR5LnN0YXR1cyA9PT0gJ0NvbXBsZXRlZCcgfHwgYmxhZGUuY3VycmVudEVudGl0eS5jYW5jZWxsZWRTdGF0ZSA9PT0gJ0NvbXBsZXRlZCcgfHwgYmxhZGUuY3VycmVudEVudGl0eS5pc0NhbmNlbGxlZDtcblxuICAgICAgICAgICAgICAgIC8vdmFyIG9yZGVyTGluZUl0ZW1zQmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgLy8gICAgaWQ6ICdjdXN0b21lck9yZGVySXRlbXMnLFxuICAgICAgICAgICAgICAgIC8vICAgIGN1cnJlbnRFbnRpdHk6IGJsYWRlLmN1cnJlbnRFbnRpdHksXG4gICAgICAgICAgICAgICAgLy8gICAgcmVjYWxjdWxhdGVGbjogYmxhZGUucmVjYWxjdWxhdGUsXG4gICAgICAgICAgICAgICAgLy8gICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuY3VzdG9tZXJPcmRlckl0ZW1zQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgLy8gICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvYmxhZGVzL2N1c3RvbWVyT3JkZXItaXRlbXMudHBsLmh0bWwnXG4gICAgICAgICAgICAgICAgLy99O1xuICAgICAgICAgICAgICAgIC8vRGlzcGxheSBvcmRlciBpdGVtcyBkaXNhYmxlZCBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgLy8gYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUob3JkZXJMaW5lSXRlbXNCbGFkZSwgYmxhZGUpO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgIH1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5vcmRlckl0ZW1TZWxlY3RDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVVdGlscycsXG4gICAgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVVdGlscykge1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICB2YXIgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSA9IGJsYWRlVXRpbHMuYmxhZGVOYXZpZ2F0aW9uU2VydmljZTtcblxuICAgIGlmICghYmxhZGUudGl0bGUpIHtcbiAgICAgICAgYmxhZGUudGl0bGUgPSBcIlNlbGVjdCBPcmRlciBpdGVtcy4uLlwiO1xuICAgIH1cblxuICAgICRzY29wZS5vcHRpb25zID0gYW5ndWxhci5leHRlbmQoe1xuICAgICAgICBzaG93Q2hlY2tpbmdNdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgYWxsb3dDaGVja2luZ0l0ZW06IHRydWUsXG4gICAgICAgIHNlbGVjdGVkSXRlbUlkczogW10sXG4gICAgICAgIGdyaWRDb2x1bW5zOiBbXVxuICAgIH0sIGJsYWRlLm9wdGlvbnMpO1xuXG4gICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLml0ZW1zID0gYW5ndWxhci5jb3B5KGJsYWRlLm9yZGVySXRlbXMpO1xuICAgICAgICBfLmVhY2goJHNjb3BlLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaXRlbS5xdWFudGl0eU9uU2hpcG1lbnQgPSBpdGVtLnF1YW50aXR5O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmICgkc2NvcGUub3B0aW9ucy5vbkl0ZW1zTG9hZGVkKSB7XG4gICAgICAgICAgICAkc2NvcGUub3B0aW9ucy5vbkl0ZW1zTG9hZGVkKCRzY29wZS5pdGVtcyk7XG4gICAgICAgIH1cblxuICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIm9yZGVycy5jb21tYW5kcy5hZGQtaXRlbVwiLCBpY29uOiAnZmFzIGZhLXBsdXMnLFxuICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKGJsYWRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkSXRlbXMgPSBfLm1hcChfLndoZXJlKCRzY29wZS5pdGVtcywge3NlbGVjdGVkOiB0cnVlfSksIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgbGluZUl0ZW1JZDogaXRlbS5pZCwgbGluZUl0ZW06IGl0ZW0sIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5T25TaGlwbWVudCB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF8uZWFjaChzZWxlY3RlZEl0ZW1zLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5Lml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKGJsYWRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uYW55KCRzY29wZS5pdGVtcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguc2VsZWN0ZWQ7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cbiAgICAgICAgfVxuICAgIF07XG5cbiAgICAkc2NvcGUuY2hlY2tBbGwgPSBmdW5jdGlvbiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5pdGVtcywgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICBcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jdXN0b21lck9yZGVySXRlbXNDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLmNhdGFsb2dJdGVtcycsICd2aXJ0b0NvbW1lcmNlLnByaWNpbmdNb2R1bGUucHJpY2VzJywgJyR0cmFuc2xhdGUnLCAncGxhdGZvcm1XZWJBcHAuYXV0aFNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBpdGVtcywgcHJpY2VzLCAkdHJhbnNsYXRlLCBhdXRoU2VydmljZSkge1xuICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICBibGFkZS51cGRhdGVQZXJtaXNzaW9uID0gJ29yZGVyOnVwZGF0ZSc7XG4gICAgYmxhZGUuaXNWaXNpYmxlUHJpY2VzID0gYXV0aFNlcnZpY2UuY2hlY2tQZXJtaXNzaW9uKCdvcmRlcjpyZWFkX3ByaWNlcycpO1xuXG4gICAgdmFyIHNlbGVjdGVkUHJvZHVjdHMgPSBbXTtcblxuICAgICR0cmFuc2xhdGUoJ29yZGVycy5ibGFkZXMuY3VzdG9tZXJPcmRlci1kZXRhaWwudGl0bGUnLCB7IGN1c3RvbWVyOiBibGFkZS5jdXJyZW50RW50aXR5LmN1c3RvbWVyTmFtZSB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgYmxhZGUudGl0bGUgPSAnb3JkZXJzLndpZGdldHMuY3VzdG9tZXJPcmRlci1pdGVtcy5ibGFkZS10aXRsZSc7XG4gICAgICAgIGJsYWRlLnRpdGxlVmFsdWVzID0geyB0aXRsZTogcmVzdWx0IH07XG4gICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ29yZGVycy53aWRnZXRzLmN1c3RvbWVyT3JkZXItaXRlbXMuYmxhZGUtc3VidGl0bGUnO1xuICAgIH0pO1xuXG4gICAgYmxhZGUucmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIGJsYWRlLnNlbGVjdGVkQWxsID0gZmFsc2U7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFkZFByb2R1Y3RzVG9PcmRlcihwcm9kdWN0cykge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2gocHJvZHVjdHMsIGZ1bmN0aW9uIChwcm9kdWN0KSB7XG4gICAgICAgICAgICBpdGVtcy5nZXQoeyBpZDogcHJvZHVjdC5pZCB9LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHByaWNlcy5nZXRQcm9kdWN0UHJpY2VzKHsgaWQ6IHByb2R1Y3QuaWQgfSwgZnVuY3Rpb24gKHByaWNlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2UgPSBfLmZpbmQocHJpY2VzLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5jdXJyZW5jeSA9PT0gYmxhZGUuY3VycmVudEVudGl0eS5jdXJyZW5jeSB9KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3TGluZUl0ZW0gPVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRhbG9nSWQ6IGRhdGEuY2F0YWxvZ0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlJZDogZGF0YS5jYXRlZ29yeUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGRhdGEuaW1nU3JjLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2t1OiBkYXRhLmNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSAmJiBwcmljZS5saXN0ID8gcHJpY2UubGlzdCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudEFtb3VudDogcHJpY2UgJiYgcHJpY2UubGlzdCAmJiBwcmljZS5zYWxlID8gcHJpY2UubGlzdCAtIHByaWNlLnNhbGUgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IGJsYWRlLmN1cnJlbnRFbnRpdHkuY3VycmVuY3lcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5pdGVtcy5wdXNoKG5ld0xpbmVJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVjYWxjdWxhdGVGbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUub3Blbkl0ZW1EeW5hbWljUHJvcGVydGllcyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBibGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiBcImR5bmFtaWNQcm9wZXJ0aWVzTGlzdFwiLFxuICAgICAgICAgICAgY3VycmVudEVudGl0eTogaXRlbSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwbGF0Zm9ybVdlYkFwcC5wcm9wZXJ0eVZhbHVlTGlzdENvbnRyb2xsZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9keW5hbWljUHJvcGVydGllcy9ibGFkZXMvcHJvcGVydHlWYWx1ZS1saXN0LnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShibGFkZSwgJHNjb3BlLmJsYWRlKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLm9wZW5JdGVtRGV0YWlsID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgaWQ6IFwibGlzdEl0ZW1EZXRhaWxcIixcbiAgICAgICAgICAgIGl0ZW1JZDogaXRlbS5wcm9kdWN0SWQsXG4gICAgICAgICAgICBwcm9kdWN0VHlwZTogaXRlbS5wcm9kdWN0VHlwZSxcbiAgICAgICAgICAgIHRpdGxlOiBpdGVtLm5hbWUsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5jYXRhbG9nTW9kdWxlLml0ZW1EZXRhaWxDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvaXRlbS1kZXRhaWwudHBsLmh0bWwnXG4gICAgICAgIH07XG4gICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCAkc2NvcGUuYmxhZGUpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBvcGVuQWRkRW50aXR5V2l6YXJkKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGNoZWNrSXRlbUZuOiBmdW5jdGlvbiAobGlzdEl0ZW0sIGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXy5hbGwoc2VsZWN0ZWRQcm9kdWN0cywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQgIT09IGxpc3RJdGVtLmlkOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9kdWN0cy5wdXNoKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9kdWN0cyA9IF8ucmVqZWN0KHNlbGVjdGVkUHJvZHVjdHMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09PSBsaXN0SXRlbS5pZDsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICBpZDogXCJDYXRhbG9nSXRlbXNTZWxlY3RcIixcbiAgICAgICAgICAgIGN1cnJlbnRFbnRpdGllczogYmxhZGUuY3VycmVudEVudGl0eSxcbiAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMuY2F0YWxvZy1pdGVtcy1zZWxlY3QudGl0bGVcIixcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNhdGFsb2dNb2R1bGUuY2F0YWxvZ0l0ZW1TZWxlY3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ2F0YWxvZykvU2NyaXB0cy9ibGFkZXMvY29tbW9uL2NhdGFsb2ctaXRlbXMtc2VsZWN0LnRwbC5odG1sJyxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICBicmVhZGNydW1iczogW10sXG4gICAgICAgICAgICB0b29sYmFyQ29tbWFuZHM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJvcmRlcnMuY29tbWFuZHMuYWRkLXNlbGVjdGVkXCIsIGljb246ICdmYXMgZmEtcGx1cycsXG4gICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoYmxhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhZGRQcm9kdWN0c1RvT3JkZXIoc2VsZWN0ZWRQcm9kdWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9kdWN0cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFByb2R1Y3RzLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1dXG4gICAgICAgIH07XG4gICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCAkc2NvcGUuYmxhZGUpO1xuICAgIH1cblxuICAgIGJsYWRlLnRvb2xiYXJDb21tYW5kcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJvcmRlcnMuY29tbWFuZHMuYWRkLWl0ZW1cIiwgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBvcGVuQWRkRW50aXR5V2l6YXJkKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibGFkZS5jdXJyZW50RW50aXR5Lm9wZXJhdGlvblR5cGUgPT09ICdDdXN0b21lck9yZGVyJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVtb3ZlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGluZUl0ZW1zID0gYmxhZGUuY3VycmVudEVudGl0eS5pdGVtcztcbiAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5Lml0ZW1zID0gXy5kaWZmZXJlbmNlKGxpbmVJdGVtcywgXy5maWx0ZXIobGluZUl0ZW1zLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5zZWxlY3RlZCB9KSk7XG4gICAgICAgICAgICAgICAgYmxhZGUucmVjYWxjdWxhdGVGbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXy5hbnkoYmxhZGUuY3VycmVudEVudGl0eS5pdGVtcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguc2VsZWN0ZWQ7IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cbiAgICAgICAgfVxuICAgIF07XG5cbiAgICAkc2NvcGUuY2hlY2tBbGwgPSBmdW5jdGlvbiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKGJsYWRlLmN1cnJlbnRFbnRpdHkuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIGJsYWRlLnJlZnJlc2goKTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbiAgICAuY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jdXN0b21lck9yZGVyTGlzdENvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCckc2NvcGUnLCAnJGxvY2FsU3RvcmFnZScsICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLm9yZGVyX3Jlc19jdXN0b21lck9yZGVycycsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZVV0aWxzJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYXV0aFNlcnZpY2UnLCAndWlHcmlkQ29uc3RhbnRzJywgJ3BsYXRmb3JtV2ViQXBwLnVpR3JpZEhlbHBlcicsICdwbGF0Zm9ybVdlYkFwcC51aS1ncmlkLmV4dGVuc2lvbicsICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLmtub3duT3BlcmF0aW9ucycsICckdHJhbnNsYXRlJywgXG5mdW5jdGlvbiAoJHJvb3RTY29wZSwgJHNjb3BlLCAkbG9jYWxTdG9yYWdlLCBjdXN0b21lck9yZGVycywgYmxhZGVVdGlscywgZGlhbG9nU2VydmljZSwgYXV0aFNlcnZpY2UsIHVpR3JpZENvbnN0YW50cywgdWlHcmlkSGVscGVyLCBncmlkT3B0aW9uRXh0ZW5zaW9uLCBrbm93bk9wZXJhdGlvbnMsICR0cmFuc2xhdGUpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgdmFyIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UgPSBibGFkZVV0aWxzLmJsYWRlTmF2aWdhdGlvblNlcnZpY2U7XG4gICAgJHNjb3BlLnVpR3JpZENvbnN0YW50cyA9IHVpR3JpZENvbnN0YW50cztcbiAgICBcbiAgICAkc2NvcGUuZ2V0UHJpY2VzVmlzaWJpbGl0eSA9ICgpID0+IGF1dGhTZXJ2aWNlLmNoZWNrUGVybWlzc2lvbignb3JkZXI6cmVhZF9wcmljZXMnKTtcblxuICAgICRzY29wZS5nZXRHcmlkT3B0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXNlRXh0ZXJuYWxTb3J0aW5nOiB0cnVlLFxuICAgICAgICBkYXRhOiAnb2JqZWN0cycsXG4gICAgICAgIHJvd1RlbXBsYXRlOiAnb3JkZXItbGlzdC5yb3cuaHRtbCcsXG4gICAgICAgIGNvbHVtbkRlZnM6IFtcbiAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdhY3Rpb25zJywgZGlzcGxheU5hbWU6ICcnLCBlbmFibGVDb2x1bW5SZXNpemluZzogZmFsc2UsIGVuYWJsZVNvcnRpbmc6IGZhbHNlLCB3aWR0aDogMzAsIGNlbGxUZW1wbGF0ZTogJ2xpc3QtYWN0aW9ucy5jZWxsLmh0bWwnLCBwaW5uZWRMZWZ0OiB0cnVlLCBkaXNwbGF5QWx3YXlzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnbnVtYmVyJywgZGlzcGxheU5hbWU6ICdvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItbGlzdC5sYWJlbHMubnVtYmVyJywgd2lkdGg6ICcqKionLCBkaXNwbGF5QWx3YXlzOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY3VzdG9tZXJOYW1lJywgZGlzcGxheU5hbWU6ICdvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItbGlzdC5sYWJlbHMuY3VzdG9tZXInLCB3aWR0aDogJyoqKicgfSxcbiAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdzdG9yZUlkJywgZGlzcGxheU5hbWU6ICdvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItbGlzdC5sYWJlbHMuc3RvcmUnLCB3aWR0aDogJyoqJyB9LFxuICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3RvdGFsJywgZGlzcGxheU5hbWU6ICdvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItbGlzdC5sYWJlbHMudG90YWwnLCBjZWxsRmlsdGVyOiAnY3VycmVuY3kgfCBzaG93UHJpY2U6JyArICRzY29wZS5nZXRQcmljZXNWaXNpYmlsaXR5KCksIHdpZHRoOiAnKionIH0sXG4gICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY3VycmVuY3knLCBkaXNwbGF5TmFtZTogJ29yZGVycy5ibGFkZXMuY3VzdG9tZXJPcmRlci1saXN0LmxhYmVscy5jdXJyZW5jeScsIHdpZHRoOiAnKicgfSxcbiAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdpc0FwcHJvdmVkJywgZGlzcGxheU5hbWU6ICdvcmRlcnMuYmxhZGVzLmN1c3RvbWVyT3JkZXItbGlzdC5sYWJlbHMuY29uZmlybWVkJywgd2lkdGg6ICcqJywgY2VsbENsYXNzOiAnX19ibHVlJyB9LFxuICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ3N0YXR1cycsIGRpc3BsYXlOYW1lOiAnb3JkZXJzLmJsYWRlcy5jdXN0b21lck9yZGVyLWxpc3QubGFiZWxzLnN0YXR1cycsIGNlbGxGaWx0ZXI6ICdzdGF0dXNUcmFuc2xhdGU6cm93LmVudGl0eScsIHdpZHRoOiAnKicgfSxcbiAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdjcmVhdGVkRGF0ZScsIGRpc3BsYXlOYW1lOiAnb3JkZXJzLmJsYWRlcy5jdXN0b21lck9yZGVyLWxpc3QubGFiZWxzLmNyZWF0ZWQnLCB3aWR0aDogJyoqJywgc29ydDogeyBkaXJlY3Rpb246IHVpR3JpZENvbnN0YW50cy5ERVNDIH0gfVxuICAgICAgIF19XG4gICAgfVxuXG4gICAgJHJvb3RTY29wZS4kb24oJ2xvZ2luU3RhdHVzQ2hhbmdlZCcsIChzZWN1cml0eVNjb3BlcykgPT4ge1xuICAgICAgICAkdHJhbnNsYXRlLnJlZnJlc2goKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBncmlkT3B0aW9ucyA9ICRzY29wZS5nZXRHcmlkT3B0aW9ucygpO1xuICAgICAgICAgICAgJHNjb3BlLnNldEdyaWRPcHRpb25zKFwiY3VzdG9tZXJPcmRlci1saXN0LWdyaWRcIiwgZ3JpZE9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oYmxhZGUucmVmcmVzaENhbGxiYWNrKSkge1xuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGJsYWRlLnJlZnJlc2hDYWxsYmFjayhibGFkZSk7XG5cbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChyZXN1bHQuJHByb21pc2UpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhZ2VTZXR0aW5ncy50b3RhbEl0ZW1zID0gZGF0YS50b3RhbENvdW50O1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2JqZWN0cyA9IGRhdGEucmVzdWx0cztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChibGFkZS5wcmVsb2FkZWRPcmRlcnMpIHtcbiAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IGJsYWRlLnByZWxvYWRlZE9yZGVycy5sZW5ndGg7XG4gICAgICAgICAgICAkc2NvcGUub2JqZWN0cyA9IGJsYWRlLnByZWxvYWRlZE9yZGVycztcblxuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGNyaXRlcmlhID0ge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlR3JvdXA6IFwiV2l0aFByaWNlc1wiLFxuICAgICAgICAgICAgICAgIGtleXdvcmQ6IGZpbHRlci5rZXl3b3JkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHVpR3JpZEhlbHBlci5nZXRTb3J0RXhwcmVzc2lvbigkc2NvcGUpLFxuICAgICAgICAgICAgICAgIHNraXA6ICgkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlIC0gMSkgKiAkc2NvcGUucGFnZVNldHRpbmdzLml0ZW1zUGVyUGFnZUNvdW50LFxuICAgICAgICAgICAgICAgIHRha2U6ICRzY29wZS5wYWdlU2V0dGluZ3MuaXRlbXNQZXJQYWdlQ291bnRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChibGFkZS5zZWFyY2hDcml0ZXJpYSkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGNyaXRlcmlhLCBibGFkZS5zZWFyY2hDcml0ZXJpYSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWx0ZXIuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGNyaXRlcmlhLCBmaWx0ZXIuY3VycmVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1c3RvbWVyT3JkZXJzLnNlYXJjaChjcml0ZXJpYSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICRzY29wZS5wYWdlU2V0dGluZ3MudG90YWxJdGVtcyA9IGRhdGEudG90YWxDb3VudDtcbiAgICAgICAgICAgICAgICAkc2NvcGUub2JqZWN0cyA9IGRhdGEucmVzdWx0cztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZWxlY3ROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gbm9kZS5pZDtcblxuICAgICAgICB2YXIgZm91bmRUZW1wbGF0ZSA9IGtub3duT3BlcmF0aW9ucy5nZXRPcGVyYXRpb24obm9kZS5vcGVyYXRpb25UeXBlKTtcbiAgICAgICAgaWYgKGZvdW5kVGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IGFuZ3VsYXIuY29weShmb3VuZFRlbXBsYXRlLmRldGFpbEJsYWRlKTtcbiAgICAgICAgICAgIGlmIChibGFkZS5wcmVsb2FkZWRPcmRlcnMgfHwgYW5ndWxhci5pc0Z1bmN0aW9uKGJsYWRlLnJlZnJlc2hDYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICBuZXdCbGFkZS5pZCA9ICdwcmVsb2FkZWRPcmRlckRldGFpbHMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QmxhZGUuY3VzdG9tZXJPcmRlciA9IG5vZGU7XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5kZWxldGVMaXN0ID0gZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgICAgdmFyIGRpYWxvZyA9IHtcbiAgICAgICAgICAgIGlkOiBcImNvbmZpcm1EZWxldGVJdGVtXCIsXG4gICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuZGlhbG9ncy5vcmRlcnMtZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBcIm9yZGVycy5kaWFsb2dzLm9yZGVycy1kZWxldGUubWVzc2FnZVwiLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZW1vdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjbG9zZUNoaWxkcmVuQmxhZGVzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1JZHMgPSBfLnBsdWNrKGxpc3QsICdpZCcpO1xuICAgICAgICAgICAgICAgICAgICBjdXN0b21lck9yZGVycy5yZW1vdmUoeyBpZHM6IGl0ZW1JZHMgfSwgZnVuY3Rpb24gKGRhdGEsIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGRpYWxvZ1NlcnZpY2Uuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhkaWFsb2cpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjbG9zZUNoaWxkcmVuQmxhZGVzKCkge1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goYmxhZGUuY2hpbGRyZW5CbGFkZXMuc2xpY2UoKSwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLmNsb3NlQmxhZGUoY2hpbGQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBibGFkZS5oZWFkSWNvbiA9ICdmYSBmYS1maWxlLXRleHQnO1xuXG4gICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVmcmVzaFwiLCBpY29uOiAnZmEgZmEtcmVmcmVzaCcsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogYmxhZGUucmVmcmVzaCxcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICBdO1xuICAgIGlmICghYmxhZGUuaGlkZURlbGV0ZSkge1xuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMucHVzaCh7XG4gICAgICAgICAgICBuYW1lOiBcInBsYXRmb3JtLmNvbW1hbmRzLmRlbGV0ZVwiLCBpY29uOiAnZmFzIGZhLXRyYXNoLWFsdCcsXG4gICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUxpc3QoJHNjb3BlLmdyaWRBcGkuc2VsZWN0aW9uLmdldFNlbGVjdGVkUm93cygpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5ncmlkQXBpICYmIF8uYW55KCRzY29wZS5ncmlkQXBpLnNlbGVjdGlvbi5nZXRTZWxlY3RlZFJvd3MoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbjogJ29yZGVyOmRlbGV0ZSdcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gc2ltcGxlIGFuZCBhZHZhbmNlZCBmaWx0ZXJpbmdcbiAgICB2YXIgZmlsdGVyID0gYmxhZGUuZmlsdGVyID0gJHNjb3BlLmZpbHRlciA9IHt9O1xuICAgICRzY29wZS4kbG9jYWxTdG9yYWdlID0gJGxvY2FsU3RvcmFnZTtcbiAgICBpZiAoISRsb2NhbFN0b3JhZ2Uub3JkZXJTZWFyY2hGaWx0ZXJzKSB7XG4gICAgICAgICRsb2NhbFN0b3JhZ2Uub3JkZXJTZWFyY2hGaWx0ZXJzID0gW3sgbmFtZTogJ29yZGVycy5ibGFkZXMuY3VzdG9tZXJPcmRlci1saXN0LmxhYmVscy5uZXctZmlsdGVyJyB9XTtcbiAgICB9XG4gICAgaWYgKCRsb2NhbFN0b3JhZ2Uub3JkZXJTZWFyY2hGaWx0ZXJJZCkge1xuICAgICAgICBmaWx0ZXIuY3VycmVudCA9IF8uZmluZFdoZXJlKCRsb2NhbFN0b3JhZ2Uub3JkZXJTZWFyY2hGaWx0ZXJzLCB7IGlkOiAkbG9jYWxTdG9yYWdlLm9yZGVyU2VhcmNoRmlsdGVySWQgfSk7XG4gICAgfVxuXG4gICAgZmlsdGVyLmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJGxvY2FsU3RvcmFnZS5vcmRlclNlYXJjaEZpbHRlcklkID0gZmlsdGVyLmN1cnJlbnQgPyBmaWx0ZXIuY3VycmVudC5pZCA6IG51bGw7XG4gICAgICAgIGlmIChmaWx0ZXIuY3VycmVudCAmJiAhZmlsdGVyLmN1cnJlbnQuaWQpIHtcbiAgICAgICAgICAgIGZpbHRlci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHNob3dGaWx0ZXJEZXRhaWxCbGFkZSh7IGlzTmV3OiB0cnVlIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKHsgaWQ6ICdmaWx0ZXJEZXRhaWwnIH0pO1xuICAgICAgICAgICAgZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZpbHRlci5lZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZmlsdGVyLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHNob3dGaWx0ZXJEZXRhaWxCbGFkZSh7IGRhdGE6IGZpbHRlci5jdXJyZW50IH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNob3dGaWx0ZXJEZXRhaWxCbGFkZShibGFkZURhdGEpIHtcbiAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgaWQ6ICdmaWx0ZXJEZXRhaWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuZmlsdGVyRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy9ibGFkZXMvZmlsdGVyLWRldGFpbC50cGwuaHRtbCdcbiAgICAgICAgfTtcbiAgICAgICAgYW5ndWxhci5leHRlbmQobmV3QmxhZGUsIGJsYWRlRGF0YSk7XG4gICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgfVxuXG4gICAgZmlsdGVyLmNyaXRlcmlhQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCRzY29wZS5wYWdlU2V0dGluZ3MuY3VycmVudFBhZ2UgPiAxKSB7XG4gICAgICAgICAgICAkc2NvcGUucGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBibGFkZS5vbkV4cGFuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLmdyaWRPcHRpb25zLm9uRXhwYW5kKCk7XG4gICAgfTtcbiAgICBibGFkZS5vbkNvbGxhcHNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkc2NvcGUuZ3JpZE9wdGlvbnMub25Db2xsYXBzZSgpO1xuICAgIH07XG5cbiAgICAvLyB1aS1ncmlkXG4gICAgJHNjb3BlLnNldEdyaWRPcHRpb25zID0gZnVuY3Rpb24gKGdyaWRJZCwgZ3JpZE9wdGlvbnMpIHtcbiAgICAgICAgLy8gYWRkIGN1cnJlbmN5IGZpbHRlciBmb3IgcHJvcGVydGllcyB0aGF0IG5lZWQgaXRcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZ3JpZE9wdGlvbnMuY29sdW1uRGVmcywgXy5tYXAoW1xuICAgICAgICAgICAgXCJkaXNjb3VudEFtb3VudFwiLCBcInN1YlRvdGFsXCIsIFwic3ViVG90YWxXaXRoVGF4XCIsIFwic3ViVG90YWxEaXNjb3VudFwiLCBcInN1YlRvdGFsRGlzY291bnRXaXRoVGF4XCIsIFwic3ViVG90YWxUYXhUb3RhbFwiLFxuICAgICAgICAgICAgXCJzaGlwcGluZ1RvdGFsXCIsIFwic2hpcHBpbmdUb3RhbFdpdGhUYXhcIiwgXCJzaGlwcGluZ1N1YlRvdGFsXCIsIFwic2hpcHBpbmdTdWJUb3RhbFdpdGhUYXhcIiwgXCJzaGlwcGluZ0Rpc2NvdW50VG90YWxcIiwgXCJzaGlwcGluZ0Rpc2NvdW50VG90YWxXaXRoVGF4XCIsIFwic2hpcHBpbmdUYXhUb3RhbFwiLFxuICAgICAgICAgICAgXCJwYXltZW50VG90YWxcIiwgXCJwYXltZW50VG90YWxXaXRoVGF4XCIsIFwicGF5bWVudFN1YlRvdGFsXCIsIFwicGF5bWVudFN1YlRvdGFsV2l0aFRheFwiLCBcInBheW1lbnREaXNjb3VudFRvdGFsXCIsIFwicGF5bWVudERpc2NvdW50VG90YWxXaXRoVGF4XCIsIFwicGF5bWVudFRheFRvdGFsXCIsXG4gICAgICAgICAgICBcImRpc2NvdW50VG90YWxcIiwgXCJkaXNjb3VudFRvdGFsV2l0aFRheFwiLCBcImZlZVwiLCBcImZlZVdpdGhUYXhcIiwgXCJmZWVUb3RhbFwiLCBcImZlZVRvdGFsV2l0aFRheFwiLCBcInRheFRvdGFsXCIsIFwic3VtXCJcbiAgICAgICAgXSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgbmFtZTogbmFtZSwgY2VsbEZpbHRlcjogXCJjdXJyZW5jeSB8IHNob3dQcmljZTpcIiArICRzY29wZS5nZXRQcmljZXNWaXNpYmlsaXR5KCksIHZpc2libGU6IGZhbHNlIH07XG4gICAgICAgIH0pKTtcblxuICAgICAgICAkc2NvcGUuZ3JpZE9wdGlvbnMgPSBncmlkT3B0aW9ucztcbiAgICAgICAgZ3JpZE9wdGlvbkV4dGVuc2lvbi50cnlFeHRlbmRHcmlkT3B0aW9ucyhncmlkSWQsIGdyaWRPcHRpb25zKTtcblxuICAgICAgICB1aUdyaWRIZWxwZXIuaW5pdGlhbGl6ZSgkc2NvcGUsIGdyaWRPcHRpb25zLCBmdW5jdGlvbiAoZ3JpZEFwaSkge1xuICAgICAgICAgICAgaWYgKGJsYWRlLnByZWxvYWRlZE9yZGVycykge1xuICAgICAgICAgICAgICAgICRzY29wZS5ncmlkT3B0aW9ucy5lbmFibGVTb3J0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ3JpZE9wdGlvbnMudXNlRXh0ZXJuYWxTb3J0aW5nID0gZmFsc2U7ICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVpR3JpZEhlbHBlci5iaW5kUmVmcmVzaE9uU29ydENoYW5nZWQoJHNjb3BlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYmxhZGVVdGlscy5pbml0aWFsaXplUGFnaW5hdGlvbigkc2NvcGUpO1xuXG4gICAgICAgIHJldHVybiBncmlkT3B0aW9ucztcbiAgICB9O1xuXG5cbiAgICAvLyBhY3Rpb25zIG9uIGxvYWRcbiAgICAvL05vIG5lZWQgdG8gY2FsbCB0aGlzIGJlY2F1c2UgcGFnZSAncGFnZVNldHRpbmdzLmN1cnJlbnRQYWdlJyBpcyB3YXRjaGVkISEhIEl0IHdvdWxkIHRyaWdnZXIgc3Vic2VxdWVudCBkdXBsaWNhdGVkIHJlcS4uLlxuICAgIC8vYmxhZGUucmVmcmVzaCgpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLmZpbHRlckRldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYWxTdG9yYWdlJywgJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdzJywgJ3ZpcnRvQ29tbWVyY2UuY3VzdG9tZXJNb2R1bGUubWVtYmVycycsICckdHJhbnNsYXRlJywgJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuc3RhdHVzVHJhbnNsYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLm1ldGFGb3Jtc1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYWNjb3VudHMnLFxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkbG9jYWxTdG9yYWdlLCBzZXR0aW5ncywgbWVtYmVycywgJHRyYW5zbGF0ZSwgc3RhdHVzVHJhbnNsYXRpb25TZXJ2aWNlLCBtZXRhRm9ybXNTZXJ2aWNlLCBzZWN1cml0eUFjY291bnRzKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcblxuICAgICAgICBibGFkZS5tZXRhRmllbGRzID0gYmxhZGUubWV0YUZpZWxkcyA/IGJsYWRlLm1ldGFGaWVsZHMgOiBtZXRhRm9ybXNTZXJ2aWNlLmdldE1ldGFGaWVsZHMoJ29yZGVyRmlsdGVyRGV0YWlsJyk7XG4gICAgICAgIFxuICAgICAgICBmdW5jdGlvbiB0cmFuc2xhdGVCbGFkZVN0YXR1c2VzKGRhdGEpIHtcbiAgICAgICAgICAgIGJsYWRlLnN0YXR1c2VzID0gc3RhdHVzVHJhbnNsYXRpb25TZXJ2aWNlLnRyYW5zbGF0ZVN0YXR1c2VzKGRhdGEsICdjdXN0b21lck9yZGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0dGluZ3MuZ2V0VmFsdWVzKHsgaWQ6ICdPcmRlci5TdGF0dXMnIH0sIHRyYW5zbGF0ZUJsYWRlU3RhdHVzZXMpO1xuXG4gICAgICAgIC8vIGxvYWQgZW1wbG95ZWVzXG4gICAgICAgIG1lbWJlcnMuc2VhcmNoKFxuICAgICAgICAgICB7XG4gICAgICAgICAgICAgICBtZW1iZXJUeXBlOiAnRW1wbG95ZWUnLFxuICAgICAgICAgICAgICAgc29ydDogJ2Z1bGxOYW1lOmFzYycsXG4gICAgICAgICAgICAgICB0YWtlOiAxMDAwXG4gICAgICAgICAgIH0sXG4gICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICBibGFkZS5lbXBsb3llZXMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgIH0pO1xuICAgICAgICBtZW1iZXJzLnNlYXJjaChcbiAgICAgICAgICAge1xuICAgICAgICAgICAgICAgbWVtYmVyVHlwZTogJ0NvbnRhY3QnLFxuICAgICAgICAgICAgICAgc29ydDogJ2Z1bGxOYW1lOmFzYycsXG4gICAgICAgICAgICAgICB0YWtlOiAxMDAwXG4gICAgICAgICAgIH0sXG4gICAgICAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICBibGFkZS5jb250YWN0cyA9IGRhdGEucmVzdWx0cztcbiAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJHNjb3BlLmFwcGx5Q3JpdGVyaWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICBpZiAoYmxhZGUuaXNOZXcpIHtcbiAgICAgICAgICAgICAgICAkbG9jYWxTdG9yYWdlLm9yZGVyU2VhcmNoRmlsdGVycy5wdXNoKGJsYWRlLm9yaWdFbnRpdHkpO1xuICAgICAgICAgICAgICAgICRsb2NhbFN0b3JhZ2Uub3JkZXJTZWFyY2hGaWx0ZXJJZCA9IGJsYWRlLm9yaWdFbnRpdHkuaWQ7XG4gICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUuZmlsdGVyLmN1cnJlbnQgPSBibGFkZS5vcmlnRW50aXR5O1xuICAgICAgICAgICAgICAgIGJsYWRlLmlzTmV3ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZShibGFkZS5vcmlnRW50aXR5KTtcbiAgICAgICAgICAgIGJsYWRlLnBhcmVudEJsYWRlLmZpbHRlci5jcml0ZXJpYUNoYW5nZWQoKTtcbiAgICAgICAgICAgIC8vICRzY29wZS5ibGFkZUNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoYmxhZGUuY3VycmVudEVudGl0eS5jdXN0b21lcklkKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VhcmNoIGZvciBhY2NvdW50cyBieSBtZW1iZXJJZCAoYmVjYXVzZSBjdXN0b21lcklEIGluIG9yZGVyIGlzIGFuIGFjY291bnQpXG4gICAgICAgICAgICAgICAgc2VjdXJpdHlBY2NvdW50cy5zZWFyY2goeyBNZW1iZXJJZHM6IFtibGFkZS5jdXJyZW50RW50aXR5LmN1c3RvbWVySWRdIH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkuY3VzdG9tZXJJZHMgPSBfLnBsdWNrKGRhdGEudXNlcnMsICdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwbHlDcml0ZXJpYSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmFwcGx5Q3JpdGVyaWEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplQmxhZGUoZGF0YSkge1xuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGFuZ3VsYXIuY29weShkYXRhKTtcbiAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBkYXRhO1xuICAgICAgICAgICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gYmxhZGUuaXNOZXcgPyAnb3JkZXJzLmJsYWRlcy5maWx0ZXItZGV0YWlsLm5ldy10aXRsZScgOiBkYXRhLm5hbWU7XG4gICAgICAgICAgICBibGFkZS5zdWJ0aXRsZSA9IGJsYWRlLmlzTmV3ID8gJ29yZGVycy5ibGFkZXMuZmlsdGVyLWRldGFpbC5uZXctc3VidGl0bGUnIDogJ29yZGVycy5ibGFkZXMuZmlsdGVyLWRldGFpbC5zdWJ0aXRsZSc7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGZvcm1TY29wZTtcbiAgICAgICAgJHNjb3BlLnNldEZvcm0gPSBmdW5jdGlvbiAoZm9ybSkgeyBmb3JtU2NvcGUgPSBmb3JtOyB9XG5cbiAgICAgICAgZnVuY3Rpb24gaXNEaXJ0eSgpIHtcbiAgICAgICAgICAgIHJldHVybiAhYW5ndWxhci5lcXVhbHMoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUuaGVhZEljb24gPSAnZmEgZmEtZmlsdGVyJztcblxuICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBcImNvcmUuY29tbWFuZHMuYXBwbHktZmlsdGVyXCIsIGljb246ICdmYSBmYS1maWx0ZXInLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUNoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1TY29wZSAmJiBmb3JtU2NvcGUuJHZhbGlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVzZXRcIiwgaWNvbjogJ2ZhIGZhLXVuZG8nLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUub3JpZ0VudGl0eSwgYmxhZGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzRGlydHlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5kZWxldGVcIiwgaWNvbjogJ2ZhcyBmYS10cmFzaC1hbHQnLFxuICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBkZWxldGVFbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFibGFkZS5pc05ldztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dO1xuXG5cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlRW50cnkoKSB7XG4gICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5maWx0ZXIuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAkbG9jYWxTdG9yYWdlLm9yZGVyU2VhcmNoRmlsdGVycy5zcGxpY2UoJGxvY2FsU3RvcmFnZS5vcmRlclNlYXJjaEZpbHRlcnMuaW5kZXhPZihibGFkZS5vcmlnRW50aXR5KSwgMSk7XG4gICAgICAgICAgICBkZWxldGUgJGxvY2FsU3RvcmFnZS5vcmRlclNlYXJjaEZpbHRlcklkO1xuICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFjdGlvbnMgb24gbG9hZFxuICAgICAgICBpZiAoYmxhZGUuaXNOZXcpIHtcbiAgICAgICAgICAgICR0cmFuc2xhdGUoJ29yZGVycy5ibGFkZXMuY3VzdG9tZXJPcmRlci1saXN0LmxhYmVscy51bm5hbWVkLWZpbHRlcicpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVCbGFkZSh7IGlkOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgbmFtZTogcmVzdWx0IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbml0aWFsaXplQmxhZGUoYmxhZGUuZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5vcmRlck9wZXJhdGlvbkNvbW1lbnREZXRhaWwnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplQmxhZGUoKSB7XG4gICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBibGFkZS5jdXJyZW50RW50aXR5O1xuICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHkuY29tbWVudCk7XG4gICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgICRzY29wZS5jYW5jZWxDaGFuZ2VzID0gZnVuY3Rpb24gKCkgeyAkc2NvcGUuYmxhZGVDbG9zZSgpOyB9O1xuXG4gICAgJHNjb3BlLmlzVmFsaWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuXG4gICAgJHNjb3BlLnNhdmVDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBibGFkZS5vcmlnRW50aXR5LmNvbW1lbnQgPSBibGFkZS5jdXJyZW50RW50aXR5O1xuICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgIH07XG5cbiAgICBpbml0aWFsaXplQmxhZGUoKTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5vcGVyYXRpb25EZXRhaWxDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUub3JkZXJfcmVzX2N1c3RvbWVyT3JkZXJzJywgJ3BsYXRmb3JtV2ViQXBwLm9iakNvbXBhcmVTZXJ2aWNlJywgJyR0aW1lb3V0JywgJ2ZvY3VzJyxcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBkaWFsb2dTZXJ2aWNlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBjdXN0b21lck9yZGVycywgb2JqQ29tcGFyZVNlcnZpY2UsICR0aW1lb3V0LCBmb2N1cykge1xuICAgICAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgICAgIGJsYWRlLnVwZGF0ZVBlcm1pc3Npb24gPSAnb3JkZXI6dXBkYXRlJztcblxuICAgICAgICBibGFkZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGJsYWRlLmlkID09PSAnb3BlcmF0aW9uRGV0YWlsJykge1xuICAgICAgICAgICAgICAgIGlmICghYmxhZGUuaXNOZXcpXG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmluaXRpYWxpemUoYmxhZGUuY3VycmVudEVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGN1c3RvbWVyT3JkZXJzLmdldCh7IGlkOiBibGFkZS5jdXN0b21lck9yZGVyLmlkIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaW5pdGlhbGl6ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXN0b21lck9yZGVyID0gYmxhZGUuY3VycmVudEVudGl0eTtcbiAgICAgICAgICAgICAgICAgICAgLy9uZWNlc3NhcnkgZm9yIHNjb3BlIGJvdW5kZWQgQUNMIGNoZWNrcyBcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuc2VjdXJpdHlTY29wZXMgPSByZXN1bHQuc2NvcGVzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChvcGVyYXRpb24pIHtcbiAgICAgICAgICAgIGJsYWRlLm9yaWdFbnRpdHkgPSBvcGVyYXRpb247XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5ID0gYW5ndWxhci5jb3B5KG9wZXJhdGlvbik7XG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VzdG9tSW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGJhc2UgZnVuY3Rpb25zIHRvIG92ZXJyaWRlIGFzIG5lZWRlZFxuICAgICAgICBibGFkZS5jdXN0b21Jbml0aWFsaXplID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICBibGFkZS5zZXRFbnRpdHlTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZS5yZWNhbGN1bGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICBjdXN0b21lck9yZGVycy5yZWNhbGN1bGF0ZShibGFkZS5jdXN0b21lck9yZGVyLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KHJlc3VsdCwgYmxhZGUuY3VzdG9tZXJPcmRlcik7XG5cbiAgICAgICAgICAgICAgICB2YXIgaWRUb0ZvY3VzID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pZDtcbiAgICAgICAgICAgICAgICBpZiAoaWRUb0ZvY3VzKVxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1cyhpZFRvRm9jdXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRUb0ZvY3VzKS5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIGlzRGlydHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gYmxhZGUub3JpZ0VudGl0eSAmJiAhb2JqQ29tcGFyZVNlcnZpY2UuZXF1YWwoYmxhZGUub3JpZ0VudGl0eSwgYmxhZGUuY3VycmVudEVudGl0eSkgJiYgIWJsYWRlLmlzTmV3ICYmIGJsYWRlLmhhc1VwZGF0ZVBlcm1pc3Npb24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNhblNhdmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNEaXJ0eSgpICYmICghJHNjb3BlLmZvcm1TY29wZSB8fCAkc2NvcGUuZm9ybVNjb3BlLiR2YWxpZCk7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuc2V0Rm9ybSA9IGZ1bmN0aW9uIChmb3JtKSB7ICRzY29wZS5mb3JtU2NvcGUgPSBmb3JtOyB9O1xuXG4gICAgICAgICRzY29wZS5jYW5jZWxDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eSA9IGJsYWRlLm9yaWdFbnRpdHk7XG4gICAgICAgICAgICAkc2NvcGUuYmxhZGVDbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChibGFkZS5pZCA9PT0gJ29wZXJhdGlvbkRldGFpbCcpIHtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmNvcHkoYmxhZGUuY3VycmVudEVudGl0eSwgYmxhZGUub3JpZ0VudGl0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGJsYWRlLmlzTmV3KSB7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLnJlYWxPcGVyYXRpb25zQ29sbGVjdGlvbi5wdXNoKGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXN0b21lck9yZGVyLmNoaWxkcmVuT3BlcmF0aW9ucy5wdXNoKGFuZ3VsYXIuY29weShibGFkZS5jdXJyZW50RW50aXR5KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kT3AgPSBfLmZpbmRXaGVyZShibGFkZS5yZWFsT3BlcmF0aW9uc0NvbGxlY3Rpb24sIHsgaWQ6IGJsYWRlLm9yaWdFbnRpdHkuaWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuY29weShibGFkZS5vcmlnRW50aXR5LCBmb3VuZE9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHNjb3BlLmJsYWRlQ2xvc2UoKTtcblxuICAgICAgICAgICAgICAgIGlmIChibGFkZS5pc1RvdGFsc1JlY2FsY3VsYXRpb25OZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVjYWxjdWxhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJsYWRlLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY3VzdG9tZXJPcmRlcnMudXBkYXRlKGJsYWRlLmN1c3RvbWVyT3JkZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUuaXNOZXcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICBibGFkZS5wYXJlbnRCbGFkZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VDaGlsZHJlbkJsYWRlcyhibGFkZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIm9yZGVycy5jb21tYW5kcy5uZXctZG9jdW1lbnRcIiwgaWNvbjogJ2ZhcyBmYS1wbHVzJyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcIm5ld09wZXJhdGlvbldpemFyZFwiLFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lck9yZGVyOiBibGFkZS5jdXN0b21lck9yZGVyLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RW50aXR5OiBibGFkZS5jdXJyZW50RW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVUeXBlczogYmxhZGUua25vd25DaGlsZHJlbk9wZXJhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIm9yZGVycy5ibGFkZXMubmV3T3BlcmF0aW9uLXdpemFyZC50aXRsZVwiLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ29yZGVycy5ibGFkZXMubmV3T3BlcmF0aW9uLXdpemFyZC5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLm5ld09wZXJhdGlvbldpemFyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy93aXphcmRzL25ld09wZXJhdGlvbi9uZXdPcGVyYXRpb24td2l6YXJkLnRwbC5odG1sJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8uYW55KGJsYWRlLmtub3duQ2hpbGRyZW5PcGVyYXRpb25zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuc2F2ZVwiLCBpY29uOiAnZmFzIGZhLXNhdmUnLFxuICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogJHNjb3BlLnNhdmVDaGFuZ2VzLFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogY2FuU2F2ZSxcbiAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJwbGF0Zm9ybS5jb21tYW5kcy5yZXNldFwiLCBpY29uOiAnZmEgZmEtdW5kbycsXG4gICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KGJsYWRlLm9yaWdFbnRpdHksIGJsYWRlLmN1cnJlbnRFbnRpdHkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGlzRGlydHksXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMuZGVsZXRlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgIGV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbG9nID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJjb25maXJtRGVsZXRlSXRlbVwiLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuZGlhbG9ncy5vcGVyYXRpb24tZGVsZXRlLnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwib3JkZXJzLmRpYWxvZ3Mub3BlcmF0aW9uLWRlbGV0ZS5tZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsYWRlLmlkID09PSAnb3BlcmF0aW9uRGV0YWlsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWR4ID0gXy5maW5kSW5kZXgoYmxhZGUuY3VzdG9tZXJPcmRlci5jaGlsZHJlbk9wZXJhdGlvbnMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09PSBibGFkZS5vcmlnRW50aXR5LmlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VzdG9tZXJPcmRlci5jaGlsZHJlbk9wZXJhdGlvbnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZHggPSBfLmZpbmRJbmRleChibGFkZS5yZWFsT3BlcmF0aW9uc0NvbGxlY3Rpb24sIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09PSBibGFkZS5vcmlnRW50aXR5LmlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucmVhbE9wZXJhdGlvbnNDb2xsZWN0aW9uLnNwbGljZShpZHgsIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UuY2xvc2VCbGFkZShibGFkZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lck9yZGVycy5kZWxldGUoeyBpZHM6IGJsYWRlLmN1c3RvbWVyT3JkZXIuaWQgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUucGFyZW50QmxhZGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dDb25maXJtYXRpb25EaWFsb2coZGlhbG9nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbjogJ29yZGVyOmRlbGV0ZSdcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJvcmRlcnMuY29tbWFuZHMuY2FuY2VsLWRvY3VtZW50XCIsIGljb246ICdmYSBmYS1yZW1vdmUnLFxuICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBkaWFsb2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcImNvbmZpcm1DYW5jZWxPcGVyYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYmxhZGUuY3VycmVudEVudGl0eS5vcGVyYXRpb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnUGF5bWVudEluJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5jYW5jZWxsZWRTdGF0ZSA9ICdSZXF1ZXN0ZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdDdXN0b21lck9yZGVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGJsYWRlLmN1cnJlbnRFbnRpdHkuaW5QYXltZW50cywgZnVuY3Rpb24gKHBheW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnQuY2FuY2VsbGVkU3RhdGUgPSAnUmVxdWVzdGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5pc0NhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLnNldEVudGl0eVN0YXR1cygnQ2FuY2VsbGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkuaXNDYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5zZXRFbnRpdHlTdGF0dXMoJ0NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LmNhbmNlbFJlYXNvbiA9IHJlYXNvbiA9PSBudWxsIHx8IHJlYXNvbi5yZXBsYWNlKC9cXHMvZywgJycpLmxlbmd0aCA8IDEgPyBudWxsIDogcmVhc29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5jYW5jZWxsZWREYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zYXZlQ2hhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkaWFsb2dTZXJ2aWNlLnNob3dEaWFsb2coZGlhbG9nLCAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuT3JkZXJzKS9TY3JpcHRzL2RpYWxvZ3MvY2FuY2VsT3BlcmF0aW9uLWRpYWxvZy50cGwuaHRtbCcsICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLmNvbmZpcm1DYW5jZWxEaWFsb2dDb250cm9sbGVyJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuRXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibGFkZS5jdXJyZW50RW50aXR5ICYmICghYmxhZGUuY3VycmVudEVudGl0eS5pc0NhbmNlbGxlZCB8fCBibGFkZS5jdXJyZW50RW50aXR5LmNhbmNlbGxlZFN0YXRlID09PSAnVW5kZWZpbmVkJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVybWlzc2lvbjogYmxhZGUudXBkYXRlUGVybWlzc2lvblxuICAgICAgICB9XG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gbm8gc2F2ZSBmb3IgY2hpbGRyZW4gb3BlcmF0aW9uc1xuICAgICAgICBpZiAoYmxhZGUuaWQgPT09ICdvcGVyYXRpb25EZXRhaWwnKSB7XG4gICAgICAgICAgICBibGFkZS50b29sYmFyQ29tbWFuZHMuc3BsaWNlKDEsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmxhZGUub25DbG9zZSA9IGZ1bmN0aW9uIChjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dDb25maXJtYXRpb25JZk5lZWRlZChpc0RpcnR5KCksIGNhblNhdmUoKSwgYmxhZGUsICRzY29wZS5zYXZlQ2hhbmdlcywgY2xvc2VDYWxsYmFjaywgXCJvcmRlcnMuZGlhbG9ncy5vcGVyYXRpb24tc2F2ZS50aXRsZVwiLCBcIm9yZGVycy5kaWFsb2dzLm9wZXJhdGlvbi1zYXZlLm1lc3NhZ2VcIik7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmNhbmNlbE9wZXJhdGlvblJlc29sdXRpb24gPSBmdW5jdGlvbiAocmVzb2x1dGlvbikge1xuICAgICAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UocmVzb2x1dGlvbik7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gYWN0aW9ucyBvbiBsb2FkXG4gICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICB9XG5dKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuY29uZmlybUNhbmNlbERpYWxvZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICRtb2RhbEluc3RhbmNlLCBkaWFsb2cpIHtcblxuICAgICRzY29wZS5jYW5jZWxSZWFzb24gPSB1bmRlZmluZWQ7XG4gICAgJHNjb3BlLnllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJG1vZGFsSW5zdGFuY2UuY2xvc2UoJHNjb3BlLmNhbmNlbFJlYXNvbik7XG4gICAgfTtcblxuICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRtb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICAgIH07XG59XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4gICAgLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUucGF5bWVudERldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuc2V0dGluZ3MnLCAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5vcmRlcl9yZXNfY3VzdG9tZXJPcmRlcnMnLCAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5zdGF0dXNUcmFuc2xhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYXV0aFNlcnZpY2UnLCAndmlydG9Db21tZXJjZS5wYXltZW50TW9kdWxlLnBheW1lbnRNZXRob2RzJyxcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBkaWFsb2dTZXJ2aWNlLCBzZXR0aW5ncywgY3VzdG9tZXJPcmRlcnMsIHN0YXR1c1RyYW5zbGF0aW9uU2VydmljZSwgYXV0aFNlcnZpY2UsIHBheW1lbnRNZXRob2RzKSB7XG4gICAgICAgIHZhciBibGFkZSA9ICRzY29wZS5ibGFkZTtcbiAgICAgICAgYmxhZGUuaXNWaXNpYmxlUHJpY2VzID0gYXV0aFNlcnZpY2UuY2hlY2tQZXJtaXNzaW9uKCdvcmRlcjpyZWFkX3ByaWNlcycpO1xuICAgICAgICBibGFkZS5wYXltZW50TWV0aG9kcyA9IFtdO1xuXG4gICAgICAgIGlmIChibGFkZS5pc05ldykge1xuICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAnb3JkZXJzLmJsYWRlcy5wYXltZW50LWRldGFpbC50aXRsZS1uZXcnO1xuXG4gICAgICAgICAgICB2YXIgZm91bmRGaWVsZCA9IF8uZmluZFdoZXJlKGJsYWRlLm1ldGFGaWVsZHMsIHsgbmFtZTogJ2NyZWF0ZWREYXRlJyB9KTtcbiAgICAgICAgICAgIGlmIChmb3VuZEZpZWxkKSB7XG4gICAgICAgICAgICAgICAgZm91bmRGaWVsZC5pc1JlYWRPbmx5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1c3RvbWVyT3JkZXJzLmdldE5ld1BheW1lbnQoeyBpZDogYmxhZGUuY3VzdG9tZXJPcmRlci5pZCB9LCBibGFkZS5pbml0aWFsaXplKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJsYWRlLnRpdGxlID0gJ29yZGVycy5ibGFkZXMucGF5bWVudC1kZXRhaWwudGl0bGUnO1xuICAgICAgICAgICAgYmxhZGUudGl0bGVWYWx1ZXMgPSB7IG51bWJlcjogYmxhZGUuY3VycmVudEVudGl0eS5udW1iZXIgfTtcbiAgICAgICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ29yZGVycy5ibGFkZXMucGF5bWVudC1kZXRhaWwuc3VidGl0bGUnO1xuICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGJsYWRlLnJlYWxPcGVyYXRpb25zQ29sbGVjdGlvbiA9IGJsYWRlLmN1c3RvbWVyT3JkZXIuaW5QYXltZW50cztcblxuICAgICAgICBwYXltZW50TWV0aG9kcy5zZWFyY2goe3N0b3JlSWQ6IGJsYWRlLmN1c3RvbWVyT3JkZXIuc3RvcmVJZH0sIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUucGF5bWVudE1ldGhvZHMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldHRpbmdzLmdldFZhbHVlcyh7IGlkOiAnUGF5bWVudEluLlN0YXR1cycgfSwgdHJhbnNsYXRlQmxhZGVTdGF0dXNlcyk7XG4gICAgICAgIGJsYWRlLm9wZW5TdGF0dXNTZXR0aW5nTWFuYWdlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogJ3NldHRpbmdEZXRhaWxDaGlsZCcsXG4gICAgICAgICAgICAgICAgaXNBcGlTYXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHlJZDogJ1BheW1lbnRJbi5TdGF0dXMnLFxuICAgICAgICAgICAgICAgIHBhcmVudFJlZnJlc2g6IHRyYW5zbGF0ZUJsYWRlU3RhdHVzZXMsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BsYXRmb3JtV2ViQXBwLnNldHRpbmdEaWN0aW9uYXJ5Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICckKFBsYXRmb3JtKS9TY3JpcHRzL2FwcC9zZXR0aW5ncy9ibGFkZXMvc2V0dGluZy1kaWN0aW9uYXJ5LnRwbC5odG1sJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gdHJhbnNsYXRlQmxhZGVTdGF0dXNlcyhkYXRhKSB7XG4gICAgICAgICAgICBibGFkZS5zdGF0dXNlcyA9IHN0YXR1c1RyYW5zbGF0aW9uU2VydmljZS50cmFuc2xhdGVTdGF0dXNlcyhkYXRhLCAnUGF5bWVudEluJyk7XG4gICAgICAgIH1cblxuICAgICAgICBibGFkZS5jdXN0b21Jbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYmxhZGUuaXNMb2NrZWQgPSBibGFkZS5jdXJyZW50RW50aXR5LnN0YXR1cyA9PSAnUGFpZCcgfHwgYmxhZGUuY3VycmVudEVudGl0eS5jYW5jZWxsZWRTdGF0ZSA9PT0gJ0NvbXBsZXRlZCcgfHwgYmxhZGUuY3VycmVudEVudGl0eS5pc0NhbmNlbGxlZDtcbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZS5zZXRFbnRpdHlTdGF0dXMgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5LnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkucGF5bWVudFN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgfTtcblxuICAgICAgICBibGFkZS51cGRhdGVSZWNhbGN1bGF0aW9uRmxhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJsYWRlLmlzVG90YWxzUmVjYWxjdWxhdGlvbk5lZWRlZCA9IGJsYWRlLm9yaWdFbnRpdHkucHJpY2UgIT0gYmxhZGUuY3VycmVudEVudGl0eS5wcmljZSB8fCBibGFkZS5vcmlnRW50aXR5LnByaWNlV2l0aFRheCAhPSBibGFkZS5jdXJyZW50RW50aXR5LnByaWNlV2l0aFRheDtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS4kd2F0Y2goXCJibGFkZS5jdXJyZW50RW50aXR5LnBheW1lbnRNZXRob2RcIiwgZnVuY3Rpb24gKHBheW1lbnRNZXRob2QpIHtcbiAgICAgICAgICAgIGlmIChibGFkZS5pc05ldyAmJiBwYXltZW50TWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5nYXRld2F5Q29kZSA9IHBheW1lbnRNZXRob2QuY29kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUucGF5bWVudFRyYW5zYWN0aW9uc0RldGFpbENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVVdGlscycsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGRpYWxvZ1NlcnZpY2UpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG4gICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgYmxhZGUudGl0bGUgPSAnb3JkZXJzLmJsYWRlcy50cmFuc2FjdGlvbi1kZXRhaWwudGl0bGUnO1xuICAgIGJsYWRlLnN1YnRpdGxlID0gJ29yZGVycy5ibGFkZXMudHJhbnNhY3Rpb24tZGV0YWlsLnN1YnRpdGxlJztcbn1dKTsiLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5wYXltZW50VHJhbnNhY3Rpb25zTGlzdENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmRpYWxvZ1NlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVVdGlscycsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGRpYWxvZ1NlcnZpY2UpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcblxuXHRibGFkZS50aXRsZSA9ICdvcmRlcnMuYmxhZGVzLnRyYW5zYWN0aW9ucy1saXN0LnRpdGxlJztcbiAgICBibGFkZS5zdWJ0aXRsZSA9ICdvcmRlcnMuYmxhZGVzLnRyYW5zYWN0aW9ucy1saXN0LnN1YnRpdGxlJyxcbiAgICAvLyB1aS1ncmlkXG5cdCRzY29wZS5zZXRHcmlkT3B0aW9ucyA9IGZ1bmN0aW9uIChncmlkT3B0aW9ucykge1xuXHQgICAgLy8gYWRkIGN1cnJlbmN5IGZpbHRlciBmb3IgcHJvcGVydGllcyB0aGF0IG5lZWQgaXRcblx0ICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGdyaWRPcHRpb25zLmNvbHVtbkRlZnMsIF8ubWFwKFtcImFtb3VudFwiXSwgZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgICAgICByZXR1cm4geyBuYW1lOiBuYW1lLCBjZWxsRmlsdGVyOiBcImN1cnJlbmN5XCIsIHZpc2libGU6IGZhbHNlIH07XG5cdCAgICB9KSk7XG5cblx0ICAgICRzY29wZS5ncmlkT3B0aW9ucyA9IGdyaWRPcHRpb25zO1xuXHR9O1xuXG5cdCRzY29wZS5zZWxlY3ROb2RlID0gZnVuY3Rpb24gKHRyYW5zYWN0aW9uKSB7XG5cdFxuXHQgICAgdmFyIG5ld0JsYWRlID0ge1xuXHQgICAgICAgIGlkOiAndHJhbnNhY3Rpb25EZXRhaWwnLFxuXHQgICAgICAgIGN1cnJlbnRFbnRpdHk6IHRyYW5zYWN0aW9uLFx0ICAgICBcblx0ICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5wYXltZW50VHJhbnNhY3Rpb25zRGV0YWlsQ29udHJvbGxlcicsXG5cdCAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvYmxhZGVzL3BheW1lbnQtdHJhbnNhY3Rpb25zLWRldGFpbC50cGwuaHRtbCdcblx0ICAgIH07XG5cdCAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuXHR9O1x0XG59XSk7IiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKS5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLnNoaXBtZW50RGV0YWlsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuZGlhbG9nU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5ncycsICd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLm9yZGVyX3Jlc19jdXN0b21lck9yZGVycycsICd2aXJ0b0NvbW1lcmNlLmludmVudG9yeU1vZHVsZS5mdWxmaWxsbWVudHMnLCAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5zdGF0dXNUcmFuc2xhdGlvblNlcnZpY2UnLCAncGxhdGZvcm1XZWJBcHAuYXV0aFNlcnZpY2UnLCAndmlydG9Db21tZXJjZS5zaGlwcGluZ01vZHVsZS5zaGlwcGluZ01ldGhvZHMnLFxuICAgIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UsIGRpYWxvZ1NlcnZpY2UsIHNldHRpbmdzLCBjdXN0b21lck9yZGVycywgZnVsZmlsbG1lbnRzLCBzdGF0dXNUcmFuc2xhdGlvblNlcnZpY2UsIGF1dGhTZXJ2aWNlLCBzaGlwcGluZ01ldGhvZHMpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICBibGFkZS5pc1Zpc2libGVQcmljZXMgPSBhdXRoU2VydmljZS5jaGVja1Blcm1pc3Npb24oJ29yZGVyOnJlYWRfcHJpY2VzJyk7XG4gICAgICAgIGJsYWRlLnNoaXBwaW5nTWV0aG9kcyA9IFtdO1xuXG4gICAgICAgIGlmIChibGFkZS5pc05ldykge1xuICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAnb3JkZXJzLmJsYWRlcy5zaGlwbWVudC1kZXRhaWwudGl0bGUtbmV3JztcblxuICAgICAgICAgICAgdmFyIGZvdW5kRmllbGQgPSBfLmZpbmRXaGVyZShibGFkZS5tZXRhRmllbGRzLCB7IG5hbWU6ICdjcmVhdGVkRGF0ZScgfSk7XG4gICAgICAgICAgICBpZiAoZm91bmRGaWVsZCkge1xuICAgICAgICAgICAgICAgIGZvdW5kRmllbGQuaXNSZWFkT25seSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdXN0b21lck9yZGVycy5nZXROZXdTaGlwbWVudCh7IGlkOiBibGFkZS5jdXN0b21lck9yZGVyLmlkIH0sIGJsYWRlLmluaXRpYWxpemUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmxhZGUudGl0bGUgPSAnb3JkZXJzLmJsYWRlcy5zaGlwbWVudC1kZXRhaWwudGl0bGUnO1xuICAgICAgICAgICAgYmxhZGUudGl0bGVWYWx1ZXMgPSB7IG51bWJlcjogYmxhZGUuY3VycmVudEVudGl0eS5udW1iZXIgfTtcbiAgICAgICAgICAgIGJsYWRlLnN1YnRpdGxlID0gJ29yZGVycy5ibGFkZXMuc2hpcG1lbnQtZGV0YWlsLnN1YnRpdGxlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGJsYWRlLnJlYWxPcGVyYXRpb25zQ29sbGVjdGlvbiA9IGJsYWRlLmN1c3RvbWVyT3JkZXIuc2hpcG1lbnRzO1xuXG4gICAgICAgIHNoaXBwaW5nTWV0aG9kcy5zZWFyY2goeyBzdG9yZUlkOiBibGFkZS5jdXN0b21lck9yZGVyLnN0b3JlSWQgfSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBibGFkZS5zaGlwcGluZ01ldGhvZHMgPSBkYXRhLnJlc3VsdHM7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNldEVycm9yKCdFcnJvciAnICsgZXJyb3Iuc3RhdHVzLCBibGFkZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldHRpbmdzLmdldFZhbHVlcyh7IGlkOiAnU2hpcG1lbnQuU3RhdHVzJyB9LCB0cmFuc2xhdGVCbGFkZVN0YXR1c2VzKTtcbiAgICAgICAgYmxhZGUub3BlblN0YXR1c1NldHRpbmdNYW5hZ2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiAnc2V0dGluZ0RldGFpbENoaWxkJyxcbiAgICAgICAgICAgICAgICBpc0FwaVNhdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgY3VycmVudEVudGl0eUlkOiAnU2hpcG1lbnQuU3RhdHVzJyxcbiAgICAgICAgICAgICAgICBwYXJlbnRSZWZyZXNoOiB0cmFuc2xhdGVCbGFkZVN0YXR1c2VzLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwbGF0Zm9ybVdlYkFwcC5zZXR0aW5nRGljdGlvbmFyeUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnJChQbGF0Zm9ybSkvU2NyaXB0cy9hcHAvc2V0dGluZ3MvYmxhZGVzL3NldHRpbmctZGljdGlvbmFyeS50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZUJsYWRlU3RhdHVzZXMoZGF0YSkge1xuICAgICAgICAgICAgYmxhZGUuc3RhdHVzZXMgPSBzdGF0dXNUcmFuc2xhdGlvblNlcnZpY2UudHJhbnNsYXRlU3RhdHVzZXMoZGF0YSwgJ3NoaXBtZW50Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsb2FkIGVtcGxveWVlc1xuICAgICAgICBibGFkZS5lbXBsb3llZXMgPSBibGFkZS5wYXJlbnRCbGFkZS5lbXBsb3llZXM7XG5cbiAgICAgICAgZ2V0RnVsZmlsbG1lbnRDZW50ZXJzKCk7XG4gICAgICAgIGJsYWRlLm9wZW5GdWxmaWxsbWVudENlbnRlcnNMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiAnZnVsZmlsbG1lbnRDZW50ZXJMaXN0JyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5pbnZlbnRvcnlNb2R1bGUuZnVsZmlsbG1lbnRMaXN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5JbnZlbnRvcnkpL1NjcmlwdHMvYmxhZGVzL2Z1bGZpbGxtZW50LWNlbnRlci1saXN0LnRwbC5odG1sJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUuY3VzdG9tSW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGJsYWRlLmlzTG9ja2VkID0gYmxhZGUuY3VycmVudEVudGl0eS5zdGF0dXMgPT0gJ1NlbmQnIHx8IGJsYWRlLmN1cnJlbnRFbnRpdHkuY2FuY2VsbGVkU3RhdGUgPT09ICdDb21wbGV0ZWQnIHx8IGJsYWRlLmN1cnJlbnRFbnRpdHkuaXNDYW5jZWxsZWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUudXBkYXRlUmVjYWxjdWxhdGlvbkZsYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBibGFkZS5pc1RvdGFsc1JlY2FsY3VsYXRpb25OZWVkZWQgPSBibGFkZS5vcmlnRW50aXR5LnByaWNlICE9IGJsYWRlLmN1cnJlbnRFbnRpdHkucHJpY2UgfHwgYmxhZGUub3JpZ0VudGl0eS5wcmljZVdpdGhUYXggIT0gYmxhZGUuY3VycmVudEVudGl0eS5wcmljZVdpdGhUYXg7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRGdWxmaWxsbWVudENlbnRlcnMoKSB7XG4gICAgICAgICAgICBmdWxmaWxsbWVudHMuc2VhcmNoKHsgdGFrZTogMTAwIH0sIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGJsYWRlLmZ1bGZpbGxtZW50Q2VudGVycyA9IHJlc3BvbnNlLnJlc3VsdHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICRzY29wZS4kd2F0Y2goXCJibGFkZS5jdXJyZW50RW50aXR5LnNoaXBwaW5nTWV0aG9kXCIsIGZ1bmN0aW9uIChzaGlwcGluZ01ldGhvZCkge1xuICAgICAgICAgICAgaWYgKGJsYWRlLmlzTmV3ICYmIHNoaXBwaW5nTWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgYmxhZGUuY3VycmVudEVudGl0eS5zaGlwbWVudE1ldGhvZENvZGUgPSBzaGlwcGluZ01ldGhvZC5jb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHRydWUpO1xuXG4gICAgfV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLnNoaXBtZW50SXRlbXNDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsICdwbGF0Zm9ybVdlYkFwcC5kaWFsb2dTZXJ2aWNlJywgJ3BsYXRmb3JtV2ViQXBwLmF1dGhTZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwgZGlhbG9nU2VydmljZSwgYXV0aFNlcnZpY2UpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuICAgICAgICBibGFkZS51cGRhdGVQZXJtaXNzaW9uID0gJ29yZGVyOnVwZGF0ZSc7XG4gICAgICAgIGJsYWRlLmlzVmlzaWJsZVByaWNlcyA9IGF1dGhTZXJ2aWNlLmNoZWNrUGVybWlzc2lvbignb3JkZXI6cmVhZF9wcmljZXMnKTtcblxuICAgICAgICBibGFkZS5jdXJyZW50RW50aXR5Lml0ZW1zID0gYmxhZGUuY3VycmVudEVudGl0eS5pdGVtcyB8fCBbXTtcblxuICAgICAgICB2YXIgc2VsZWN0ZWROb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIHNlbGVjdGVkUHJvZHVjdHMgPSBbXTtcblxuXG4gICAgICAgIGJsYWRlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBibGFkZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGJsYWRlLnNlbGVjdGVkQWxsID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgYmxhZGUudG9vbGJhckNvbW1hbmRzID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3JkZXJzLmNvbW1hbmRzLmFkZC1pdGVtXCIsIGljb246ICdmYXMgZmEtcGx1cycsXG4gICAgICAgICAgICAgICAgZXhlY3V0ZU1ldGhvZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvcGVuQWRkRW50aXR5V2l6YXJkKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBibGFkZS5jdXJyZW50RW50aXR5Lm9wZXJhdGlvblR5cGUgPT09ICdTaGlwbWVudCc7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uOiBibGFkZS51cGRhdGVQZXJtaXNzaW9uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGxhdGZvcm0uY29tbWFuZHMucmVtb3ZlXCIsIGljb246ICdmYXMgZmEtdHJhc2gtYWx0JyxcbiAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtcyA9IGJsYWRlLmN1cnJlbnRFbnRpdHkuaXRlbXM7XG4gICAgICAgICAgICAgICAgICAgIGJsYWRlLmN1cnJlbnRFbnRpdHkuaXRlbXMgPSBfLmRpZmZlcmVuY2UoaXRlbXMsIF8uZmlsdGVyKGl0ZW1zLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5zZWxlY3RlZCB9KSk7XG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNhbkV4ZWN1dGVNZXRob2Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF8uYW55KGJsYWRlLmN1cnJlbnRFbnRpdHkuaXRlbXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnNlbGVjdGVkOyB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb246IGJsYWRlLnVwZGF0ZVBlcm1pc3Npb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICAkc2NvcGUuc2VsZWN0SXRlbSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBzZWxlY3RlZE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTm9kZUlkID0gc2VsZWN0ZWROb2RlLmlkO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5jaGVja0FsbCA9IGZ1bmN0aW9uIChzZWxlY3RlZCkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGJsYWRlLmN1cnJlbnRFbnRpdHkuaXRlbXMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gb3BlbkFkZEVudGl0eVdpemFyZCgpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGNoZWNrSXRlbUZuOiBmdW5jdGlvbiAobGlzdEl0ZW0sIGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfLmFsbChzZWxlY3RlZFByb2R1Y3RzLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZCAhPSBsaXN0SXRlbS5pZDsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFByb2R1Y3RzLnB1c2gobGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9kdWN0cyA9IF8ucmVqZWN0KHNlbGVjdGVkUHJvZHVjdHMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkID09IGxpc3RJdGVtLmlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IFwiT3JkZXJJdGVtc1NlbGVjdFwiLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6IGJsYWRlLmN1cnJlbnRFbnRpdHksXG4gICAgICAgICAgICAgICAgb3JkZXJJdGVtczogYmxhZGUucGFyZW50QmxhZGUucGFyZW50QmxhZGUuY3VycmVudEVudGl0eS5pdGVtcyxcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJvcmRlcnMuYmxhZGVzLmNhdGFsb2ctaXRlbXMtc2VsZWN0LnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUub3JkZXJJdGVtU2VsZWN0Q29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvYmxhZGVzL2N1c3RvbWVyT3JkZXItaXRlbXMtc2VsZWN0LnRwbC5odG1sJyxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBbXSxcbiAgICAgICAgICAgICAgICB0b29sYmFyQ29tbWFuZHM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJvcmRlcnMuY29tbWFuZHMuYWRkLXNlbGVjdGVkXCIsIGljb246ICdmYXMgZmEtcGx1cycsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoYmxhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZFByb2R1Y3RzVG9PcmRlcihzZWxlY3RlZFByb2R1Y3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFByb2R1Y3RzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUJsYWRlKGJsYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5FeGVjdXRlTWV0aG9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkUHJvZHVjdHMubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgJHNjb3BlLmJsYWRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsYWRlLnJlZnJlc2goKTtcbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4gICAgLy8gZGlyZWN0aXZlIG1hc2sgdGhlIHByaWNlIGlmIHZhbHVlIHBhc3NlZCB0byBkaXJlY3RpdmUgaXMgdHJ1ZVxuICAgIC5kaXJlY3RpdmUoJ21hc2tNb25leScsIFsnc2hvd1ByaWNlRmlsdGVyJywgZnVuY3Rpb24gKHNob3dQcmljZUZpbHRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbWFza01vbmV5OiAnPScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMsIG5nTW9kZWxDdHJsKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hc2sgPSBzY29wZS5tYXNrTW9uZXk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgICAgICAgICBlbC5hdHRyKCdyZWFkb25seScsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXNrID8gc2hvd1ByaWNlRmlsdGVyKHZhbHVlLCBmYWxzZSkgOiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4uZmFjdG9yeSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jYXRhbG9nSXRlbXMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcbiAgICByZXR1cm4gJHJlc291cmNlKCdhcGkvY2F0YWxvZy9wcm9kdWN0cy86aWQnLCBudWxsLCB7ICAgIFxuICAgIH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUub3JkZXJfcmVzX2N1c3RvbWVyT3JkZXJzJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG4gICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL29yZGVyL2N1c3RvbWVyT3JkZXJzLzppZCcsIHsgaWQ6ICdASWQnIH0sIHtcbiAgICAgICAgc2VhcmNoOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvb3JkZXIvY3VzdG9tZXJPcmRlcnMvc2VhcmNoJyB9LFxuICAgICAgICBnZXROZXdTaGlwbWVudDogeyB1cmw6ICdhcGkvb3JkZXIvY3VzdG9tZXJPcmRlcnMvOmlkL3NoaXBtZW50cy9uZXcnIH0sXG4gICAgICAgIGdldE5ld1BheW1lbnQ6IHsgdXJsOiAnYXBpL29yZGVyL2N1c3RvbWVyT3JkZXJzLzppZC9wYXltZW50cy9uZXcnIH0sXG4gICAgICAgIHJlY2FsY3VsYXRlOiB7IG1ldGhvZDogJ1BVVCcsIHVybDogJ2FwaS9vcmRlci9jdXN0b21lck9yZGVycy9yZWNhbGN1bGF0ZScgfSxcbiAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIHVybDogJ2FwaS9vcmRlci9jdXN0b21lck9yZGVycycgfSxcbiAgICAgICAgZ2V0RGFzaGJvYXJkU3RhdGlzdGljczogeyB1cmw6ICdhcGkvb3JkZXIvZGFzaGJvYXJkU3RhdGlzdGljcycgfSxcbiAgICAgICAgZ2V0T3JkZXJDaGFuZ2VzOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogJ2FwaS9vcmRlci9jdXN0b21lck9yZGVycy86aWQvY2hhbmdlcycsIGlzQXJyYXk6IHRydWUgfSxcbiAgICAgICAgc2VhcmNoT3JkZXJDaGFuZ2VzOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6ICdhcGkvb3JkZXIvY3VzdG9tZXJPcmRlcnMvc2VhcmNoQ2hhbmdlcycgfSxcbiAgICAgICAgaW5kZXhlZFNlYXJjaDogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiAnYXBpL29yZGVyL2N1c3RvbWVyT3JkZXJzL2luZGV4ZWQvc2VhcmNoJyB9LFxuICAgICAgICBpbmRleGVkU2VhcmNoRW5hYmxlZDogeyBtZXRob2Q6ICdHRVQnLCB1cmw6ICcvYXBpL29yZGVyL2N1c3RvbWVyT3JkZXJzL2luZGV4ZWQvc2VhcmNoRW5hYmxlZCcgfVxuICAgIH0pO1xufV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUub3JkZXJfcmVzX2Z1bGZpbG1lbnRDZW50ZXJzJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XG5cdHJldHVybiAkcmVzb3VyY2UoJ2FwaS9mdWxmaWxsbWVudC9jZW50ZXJzJyk7XG59XSk7Iiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmZhY3RvcnkoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuc2VjdXJpdHlBY2NvdW50cycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24oJHJlc291cmNlKSB7XG4gICAgcmV0dXJuICRyZXNvdXJjZSgnYXBpL3BsYXRmb3JtL3NlY3VyaXR5L3VzZXJzL2lkLzppZCcsIHsgaWQ6ICdASWQnIH0sIHt9KTtcbn1dKTsiLCJhbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4gICAgLy8gZmlsdGVyIHRvIG1hc2sgdGhlIHByaWNlIGlmIGFyZ3VtZW50IGlzIGZhbHNlXG4gICAgLmZpbHRlcignc2hvd1ByaWNlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBzaG93KSB7XG4gICAgICAgICAgICB2YXIgcmVnZXhwID0gL1xcZC9nO1xuXG4gICAgICAgICAgICBpZiAocmVnZXhwLnRlc3QodmFsdWUpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAxICYmICFzaG93KSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpLnJlcGxhY2UocmVnZXhwLCAnIycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgfSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4uZmFjdG9yeSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5zdGF0dXNUcmFuc2xhdGlvblNlcnZpY2UnLCBbJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRyYW5zbGF0ZVN0YXR1c2VzOiBmdW5jdGlvbiAocmF3U3RhdHVzZXMsIG9wZXJhdGlvblR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfLm1hcChyYXdTdGF0dXNlcywgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHgsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cmFuc2xhdGVPcmRlclN0YXR1cyh4LCBvcGVyYXRpb25UeXBlLCAkdHJhbnNsYXRlKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XSlcbi8vIG9wZXJhdGlvbiBzdGF0dXNlcyBsb2NhbGl6YXRpb24gZmlsdGVyXG4uZmlsdGVyKCdzdGF0dXNUcmFuc2xhdGUnLCBbJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3RhdHVzT3JPcGVyYXRpb24sIG9wZXJhdGlvbikge1xuICAgICAgICBvcGVyYXRpb24gPSBvcGVyYXRpb24gfHwgc3RhdHVzT3JPcGVyYXRpb247XG4gICAgICAgIHJldHVybiBvcGVyYXRpb24uc3RhdHVzID8gdHJhbnNsYXRlT3JkZXJTdGF0dXMob3BlcmF0aW9uLnN0YXR1cywgb3BlcmF0aW9uLm9wZXJhdGlvblR5cGUsICR0cmFuc2xhdGUpIDogJyc7XG4gICAgfTtcbn1dKVxuO1xuXG5mdW5jdGlvbiB0cmFuc2xhdGVPcmRlclN0YXR1cyhyYXdTdGF0dXMsIG9wZXJhdGlvblR5cGUsICR0cmFuc2xhdGUpIHtcbiAgICB2YXIgdHJhbnNsYXRlS2V5ID0gJ29yZGVycy5zZXR0aW5ncy4nICsgb3BlcmF0aW9uVHlwZS50b0xvd2VyQ2FzZSgpICsgJy1zdGF0dXMuJyArIHJhd1N0YXR1cy50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciByZXN1bHQgPSAkdHJhbnNsYXRlLmluc3RhbnQodHJhbnNsYXRlS2V5KTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSB0cmFuc2xhdGVLZXkgPyByYXdTdGF0dXMgOiByZXN1bHQ7XG59Iiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuY3VzdG9tZXJPcmRlckFkZHJlc3NXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcblx0JHNjb3BlLm9wZXJhdGlvbiA9IHt9O1xuXHQkc2NvcGUub3BlbkFkZHJlc3Nlc0JsYWRlID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBuZXdCbGFkZSA9IHtcblx0XHRcdGlkOiAnb3JkZXJPcGVyYXRpb25BZGRyZXNzZXMnLFxuXHRcdFx0dGl0bGU6ICdvcmRlcnMud2lkZ2V0cy5jdXN0b21lck9yZGVyLWFkZHJlc3MuYmxhZGUtdGl0bGUnLFxuXHRcdFx0Y3VycmVudEVudGl0aWVzOiAkc2NvcGUub3BlcmF0aW9uLmFkZHJlc3Nlcyxcblx0XHRcdGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNvcmVNb2R1bGUuY29tbW9uLmNvcmVBZGRyZXNzTGlzdENvbnRyb2xsZXInLFxuXHRcdFx0dGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5Db3JlKS9TY3JpcHRzL2NvbW1vbi9ibGFkZXMvYWRkcmVzcy1saXN0LnRwbC5odG1sJ1xuXHRcdH07XG5cdFx0YmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsICRzY29wZS5ibGFkZSk7XG5cdH07XG5cdCRzY29wZS4kd2F0Y2goJ3dpZGdldC5ibGFkZS5jdXN0b21lck9yZGVyJywgZnVuY3Rpb24gKG9wZXJhdGlvbikge1xuXHRcdCRzY29wZS5vcGVyYXRpb24gPSBvcGVyYXRpb247XG5cdH0pO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLmN1c3RvbWVyT3JkZXJDaGFuZ2VMb2dXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcblxuICAgICAgICBibGFkZS5zaG93T3JkZXJDaGFuZ2VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiAnY3VzdG9tZXJPcmRlckNoYW5nZUxvZycsXG4gICAgICAgICAgICAgICAgb3JkZXJJZDogYmxhZGUuY3VzdG9tZXJPcmRlci5pZCxcbiAgICAgICAgICAgICAgICBoZWFkSWNvbjogYmxhZGUuaGVhZEljb24sXG4gICAgICAgICAgICAgICAgdGl0bGU6IGJsYWRlLnRpdGxlLFxuICAgICAgICAgICAgICAgIHRpdGxlVmFsdWVzOiB7IGN1c3RvbWVyOiBibGFkZS5jdXN0b21lck9yZGVyLmN1c3RvbWVyTmFtZSB9LFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAncGxhdGZvcm0ud2lkZ2V0cy5vcGVyYXRpb25zLmJsYWRlLXN1YnRpdGxlJyxcbiAgICAgICAgICAgICAgICBpc0V4cGFuZGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuY3VzdG9tZXJPcmRlckNoYW5nZUxvZ0NvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuT3JkZXJzKS9TY3JpcHRzL2JsYWRlcy9jdXN0b21lck9yZGVyLWNoYW5nZS1sb2cudHBsLmh0bWwnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlKTtcbiAgICAgICAgfTtcbiAgICB9XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jdXN0b21lck9yZGVySXRlbXNXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHRyYW5zbGF0ZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJyxcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCAkdHJhbnNsYXRlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcbiAgICBcbiAgICAkc2NvcGUuJHdhdGNoKCd3aWRnZXQuYmxhZGUuY3VzdG9tZXJPcmRlcicsIGZ1bmN0aW9uIChvcGVyYXRpb24pIHtcbiAgICAgICAgJHNjb3BlLm9wZXJhdGlvbiA9IG9wZXJhdGlvbjtcbiAgICB9KTtcblxuICAgICRzY29wZS5vcGVuSXRlbXNCbGFkZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgbmV3QmxhZGUgPSB7XG4gICAgICAgICAgICBpZDogJ2N1c3RvbWVyT3JkZXJJdGVtcycsXG4gICAgICAgICAgICBjdXJyZW50RW50aXR5OiAkc2NvcGUub3BlcmF0aW9uLFxuICAgICAgICAgICAgcmVjYWxjdWxhdGVGbjogYmxhZGUucmVjYWxjdWxhdGUsXG4gICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5jdXN0b21lck9yZGVySXRlbXNDb250cm9sbGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuT3JkZXJzKS9TY3JpcHRzL2JsYWRlcy9jdXN0b21lck9yZGVyLWl0ZW1zLnRwbC5odG1sJ1xuICAgICAgICB9O1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgIH07XG5cbn1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLmN1c3RvbWVyT3JkZXJUb3RhbHNXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcblxufV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuICAgIC5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLm5vdGlmaWNhdGlvbnNMb2dXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgdmFyIGJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcblxuICAgICAgICBibGFkZS5zaG93Tm90aWZpY2F0aW9uc0xvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3RJZCA9IGJsYWRlLmN1cnJlbnRFbnRpdHkuaWQ7XG4gICAgICAgICAgICB2YXIgb2JqZWN0VHlwZUlkID0gJ0N1c3RvbWVyT3JkZXInO1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiAnbm90aWZpY2F0aW9uTG9nV2lkZ2V0Q2hpbGQnLFxuICAgICAgICAgICAgICAgIG9iamVjdElkOiBvYmplY3RJZCxcbiAgICAgICAgICAgICAgICBvYmplY3RUeXBlOiBvYmplY3RUeXBlSWQsXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdvcmRlcnMud2lkZ2V0cy5ub3RpZmljYXRpb25zLnRpdGxlJyxcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZTogJ29yZGVycy53aWRnZXRzLm5vdGlmaWNhdGlvbnMuc3VidGl0bGUnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLm5vdGlmaWNhdGlvbnNNb2R1bGUubm90aWZpY2F0aW9uc0pvdXJuYWxDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk5vdGlmaWNhdGlvbnMpL1NjcmlwdHMvYmxhZGVzL25vdGlmaWNhdGlvbnMtam91cm5hbC50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9O1xuICAgIH1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLm9wZXJhdGlvbkNvbW1lbnRXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcblx0JHNjb3BlLm9wZXJhdGlvbiA9IHt9O1xuXG5cdCRzY29wZS5vcGVuQ29tbWVudEJsYWRlID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBuZXdCbGFkZSA9IHtcblx0XHRcdGlkOiAnb3BlcmF0aW9uQ29tbWVudCcsXG5cdFx0XHR0aXRsZTogJ29yZGVycy53aWRnZXRzLm9wZXJhdGlvbi1jb21tZW50LmJsYWRlLXRpdGxlJyxcblx0XHRcdGN1cnJlbnRFbnRpdHk6ICRzY29wZS5vcGVyYXRpb24sXG5cdFx0XHRjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5vcmRlck9wZXJhdGlvbkNvbW1lbnREZXRhaWwnLFxuXHRcdFx0dGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvYmxhZGVzL29wZXJhdGlvbi1jb21tZW50LnRwbC5odG1sJ1xuXHRcdH07XG5cdFx0YmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsICRzY29wZS5ibGFkZSk7XG5cdH07XG5cblx0JHNjb3BlLiR3YXRjaCgnd2lkZ2V0LmJsYWRlLmN1cnJlbnRFbnRpdHknLCBmdW5jdGlvbiAob3BlcmF0aW9uKSB7XG5cdFx0JHNjb3BlLm9wZXJhdGlvbiA9IG9wZXJhdGlvbjtcblx0fSk7XG59XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5vcGVyYXRpb25UcmVlV2lkZ2V0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5rbm93bk9wZXJhdGlvbnMnLCBmdW5jdGlvbiAoJHNjb3BlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLCBrbm93bk9wZXJhdGlvbnMpIHtcbiAgICB2YXIgYmxhZGUgPSAkc2NvcGUuYmxhZGU7XG5cbiAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignYmxhZGUuY3VzdG9tZXJPcmRlci5jaGlsZHJlbk9wZXJhdGlvbnMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICRzY29wZS5jdXJyZW50T3BlcmF0aW9uSWQgPSBibGFkZS5jdXN0b21lck9yZGVyLmlkO1xuXG4gICAgICAgIGlmICghYmxhZGUuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICB2YXIgdHJlZVJvb3QgPSB7fTtcbiAgICAgICAgICAgIGJ1aWxkT3BlcmF0aW9uc1RyZWUoYmxhZGUuY3VzdG9tZXJPcmRlciwgdHJlZVJvb3QpXG4gICAgICAgICAgICAkc2NvcGUubm9kZSA9IHRyZWVSb290LmNoaWxkcmVuTm9kZXNbMF07XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGJ1aWxkT3BlcmF0aW9uc1RyZWUob3AsIHRyZWUpIHtcbiAgICAgICAgdmFyIGZvdW5kVGVtcGxhdGUgPSBrbm93bk9wZXJhdGlvbnMuZ2V0T3BlcmF0aW9uKG9wLm9wZXJhdGlvblR5cGUpO1xuICAgICAgICBpZighZm91bmRUZW1wbGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgZmluZCB0ZW1wbGF0ZSBmb3I6XCIgKyBvcC5vcGVyYXRpb25UeXBlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlVGVtcGxhdGUgPSBhbmd1bGFyLmNvcHkoZm91bmRUZW1wbGF0ZSk7XG4gICAgICAgIG5vZGVUZW1wbGF0ZS5vcGVyYXRpb24gPSBvcDtcbiAgICAgICAgdHJlZS5jaGlsZHJlbk5vZGVzID0gdHJlZS5jaGlsZHJlbk5vZGVzIHx8IFtdO1xuICAgICAgICB0cmVlLmNoaWxkcmVuTm9kZXMucHVzaChub2RlVGVtcGxhdGUpO1xuICAgICAgICBfLmVhY2gob3AuY2hpbGRyZW5PcGVyYXRpb25zLCBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgYnVpbGRPcGVyYXRpb25zVHJlZShvLCBub2RlVGVtcGxhdGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VsZWN0T3BlcmF0aW9uID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgJHNjb3BlLmN1cnJlbnRPcGVyYXRpb25JZCA9IG5vZGUub3BlcmF0aW9uLmlkO1xuXG4gICAgICAgIGlmIChub2RlLm9wZXJhdGlvbi5pZCA9PT0gYmxhZGUuY3VzdG9tZXJPcmRlci5pZCkge1xuICAgICAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5jbG9zZUNoaWxkcmVuQmxhZGVzKGJsYWRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IG5vZGUuZGV0YWlsQmxhZGU7XG4gICAgICAgICAgICBhbmd1bGFyLmV4dGVuZChuZXdCbGFkZSwge1xuICAgICAgICAgICAgICAgIGN1c3RvbWVyT3JkZXI6IGJsYWRlLmN1c3RvbWVyT3JkZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogbm9kZS5vcGVyYXRpb25cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpO1xuICAgICAgICB9XG4gICAgfTtcblxufV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUucGF5bWVudEFkZHJlc3NXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAncGxhdGZvcm1XZWJBcHAuYmxhZGVOYXZpZ2F0aW9uU2VydmljZScsIGZ1bmN0aW9uICgkc2NvcGUsIGJsYWRlTmF2aWdhdGlvblNlcnZpY2UpIHtcbiAgICAkc2NvcGUub3BlcmF0aW9uID0ge307XG5cbiAgICAkc2NvcGUub3BlbkJsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWRkcmVzcyA9ICRzY29wZS5vcGVyYXRpb24uYmlsbGluZ0FkZHJlc3M7XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgICAgYWRkcmVzcyA9IHsgaXNOZXc6IHRydWUsIGFkZHJlc3NUeXBlOiAnYmlsbGluZycgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgIGlkOiAnb3JkZXJPcGVyYXRpb25BZGRyZXNzZXMnLFxuICAgICAgICAgICAgdGl0bGU6ICdvcmRlcnMud2lkZ2V0cy5wYXltZW50LWFkZHJlc3MuYmxhZGUtdGl0bGUnLFxuICAgICAgICAgICAgY3VycmVudEVudGl0eTogYWRkcmVzcyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd2aXJ0b0NvbW1lcmNlLmNvcmVNb2R1bGUuY29tbW9uLmNvcmVBZGRyZXNzRGV0YWlsQ29udHJvbGxlcicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLkNvcmUpL1NjcmlwdHMvY29tbW9uL2JsYWRlcy9hZGRyZXNzLWRldGFpbC50cGwuaHRtbCcsXG4gICAgICAgICAgICBkZWxldGVGbjogZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlcmF0aW9uLmJpbGxpbmdBZGRyZXNzID0gbnVsbFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpcm1DaGFuZ2VzRm46IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZXJhdGlvbi5iaWxsaW5nQWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgICAgICAgICAgYWRkcmVzcy5pc05ldyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgJHNjb3BlLmJsYWRlKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmdldEFkZHJlc3NOYW1lID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgICAgICAgdmFyIHJldFZhbCA9IG51bGw7XG4gICAgICAgIGlmIChhZGRyZXNzKSB7XG4gICAgICAgICAgICByZXRWYWwgPSBbYWRkcmVzcy5jb3VudHJ5Q29kZSwgYWRkcmVzcy5yZWdpb25OYW1lLCBhZGRyZXNzLmNpdHksIGFkZHJlc3MubGluZTFdLmpvaW4oXCIsXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXRWYWw7XG4gICAgfTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3dpZGdldC5ibGFkZS5jdXJyZW50RW50aXR5JywgZnVuY3Rpb24gKG9wZXJhdGlvbikge1xuICAgICAgICAkc2NvcGUub3BlcmF0aW9uID0gb3BlcmF0aW9uO1xuICAgIH0pO1xufV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUucGF5bWVudFRvdGFsc1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuXHQkc2NvcGUuYmxhZGUgPSAkc2NvcGUud2lkZ2V0LmJsYWRlO1xuXG5cdCRzY29wZS4kd2F0Y2goJ3dpZGdldC5ibGFkZS5jdXJyZW50RW50aXR5JywgZnVuY3Rpb24gKHBheW1lbnQpIHtcblx0ICAgIGlmIChwYXltZW50KSB7XG5cdFx0ICAgICRzY29wZS5wYXltZW50ID0gcGF5bWVudDtcblx0XHR9XG5cdH0sIHRydWUpO1xufV0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUucGF5bWVudFRyYW5zYWN0aW9uc1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICckdHJhbnNsYXRlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdHJhbnNsYXRlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3dpZGdldC5ibGFkZS5jdXJyZW50RW50aXR5JywgZnVuY3Rpb24gKG9wZXJhdGlvbikge1xuICAgICAgICAkc2NvcGUub3BlcmF0aW9uID0gb3BlcmF0aW9uO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLm9wZW5JdGVtc0JsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5ld0JsYWRlID0ge1xuICAgICAgICAgICAgICAgIGlkOiAndHJhbnNhY3Rpb25zJywgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRpdHk6ICRzY29wZS5vcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUucGF5bWVudFRyYW5zYWN0aW9uc0xpc3RDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ01vZHVsZXMvJChWaXJ0b0NvbW1lcmNlLk9yZGVycykvU2NyaXB0cy9ibGFkZXMvcGF5bWVudC10cmFuc2FjdGlvbnMtbGlzdC50cGwuaHRtbCdcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBibGFkZU5hdmlnYXRpb25TZXJ2aWNlLnNob3dCbGFkZShuZXdCbGFkZSwgYmxhZGUpOyAgICAgICAgXG4gICAgfTtcbn1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLnNoaXBtZW50QWRkcmVzc1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuXHQkc2NvcGUub3BlcmF0aW9uID0ge307XG5cdCRzY29wZS5vcGVuQWRkcmVzc2VzQmxhZGUgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHRcdHZhciBkZWxpdmVyeUFkZHJlc3MgPSAkc2NvcGUub3BlcmF0aW9uLmRlbGl2ZXJ5QWRkcmVzcztcblx0XHRpZiAoIWRlbGl2ZXJ5QWRkcmVzcykge1xuXHRcdFx0ZGVsaXZlcnlBZGRyZXNzID0geyBpc05ldzogdHJ1ZSB9O1xuXHRcdH07XG5cdFx0dmFyIG5ld0JsYWRlID0ge1xuXHRcdFx0aWQ6ICdvcmRlck9wZXJhdGlvbkFkZHJlc3NlcycsXG5cdFx0XHR0aXRsZTogJ29yZGVycy53aWRnZXRzLnNoaXBtZW50LWFkZHJlc3MuYmxhZGUtdGl0bGUnLFxuXHRcdFx0Y3VycmVudEVudGl0eTogZGVsaXZlcnlBZGRyZXNzLFxuXHRcdFx0Y29udHJvbGxlcjogJ3ZpcnRvQ29tbWVyY2UuY29yZU1vZHVsZS5jb21tb24uY29yZUFkZHJlc3NEZXRhaWxDb250cm9sbGVyJyxcblx0XHRcdHRlbXBsYXRlOiAnTW9kdWxlcy8kKFZpcnRvQ29tbWVyY2UuQ29yZSkvU2NyaXB0cy9jb21tb24vYmxhZGVzL2FkZHJlc3MtZGV0YWlsLnRwbC5odG1sJyxcblx0XHRcdGRlbGV0ZUZuIDogZnVuY3Rpb24oYWRkcmVzcylcblx0XHRcdHtcblx0XHRcdFx0JHNjb3BlLm9wZXJhdGlvbi5kZWxpdmVyeUFkZHJlc3MgPSBudWxsXG5cdFx0XHR9LFxuXHRcdFx0Y29uZmlybUNoYW5nZXNGbiA6IGZ1bmN0aW9uKGFkZHJlc3MpXG5cdFx0XHR7XG5cdFx0XHRcdCRzY29wZS5vcGVyYXRpb24uZGVsaXZlcnlBZGRyZXNzID0gYWRkcmVzcztcblx0XHRcdFx0YWRkcmVzcy5pc05ldyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0YmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsICRzY29wZS5ibGFkZSk7XG5cdH07XG5cblx0JHNjb3BlLmdldEFkZHJlc3NOYW1lID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcblx0ICAgIHZhciByZXRWYWwgPSBudWxsO1xuXHRcdGlmIChhZGRyZXNzKSB7XG5cdFx0XHRyZXRWYWwgPSBbYWRkcmVzcy5jb3VudHJ5Q29kZSwgYWRkcmVzcy5yZWdpb25OYW1lLCBhZGRyZXNzLmNpdHksIGFkZHJlc3MubGluZTFdLmpvaW4oXCIsXCIpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0VmFsO1xuXHR9O1xuXG5cdCRzY29wZS4kd2F0Y2goJ3dpZGdldC5ibGFkZS5jdXJyZW50RW50aXR5JywgZnVuY3Rpb24gKG9wZXJhdGlvbikge1xuXHRcdCRzY29wZS5vcGVyYXRpb24gPSBvcGVyYXRpb247XG5cdH0pO1xufV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuc2hpcG1lbnRJdGVtc1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICckdHJhbnNsYXRlJywgJ3BsYXRmb3JtV2ViQXBwLmJsYWRlTmF2aWdhdGlvblNlcnZpY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdHJhbnNsYXRlLCBibGFkZU5hdmlnYXRpb25TZXJ2aWNlKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLndpZGdldC5ibGFkZTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3dpZGdldC5ibGFkZS5jdXJyZW50RW50aXR5JywgZnVuY3Rpb24gKG9wZXJhdGlvbikge1xuICAgICAgICAkc2NvcGUub3BlcmF0aW9uID0gb3BlcmF0aW9uO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLm9wZW5JdGVtc0JsYWRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkdHJhbnNsYXRlKCdvcmRlcnMuYmxhZGVzLnNoaXBtZW50LWRldGFpbC50aXRsZScsIHsgbnVtYmVyOiAkc2NvcGUub3BlcmF0aW9uLm51bWJlciB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHZhciBuZXdCbGFkZSA9IHtcbiAgICAgICAgICAgICAgICBpZDogJ3NoaXBtZW50SXRlbXMnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAnb3JkZXJzLmJsYWRlcy5zaGlwbWVudC1pdGVtcy50aXRsZScsXG4gICAgICAgICAgICAgICAgdGl0bGVWYWx1ZXM6IHsgdGl0bGU6IHJlc3VsdCB9LFxuICAgICAgICAgICAgICAgIHN1YnRpdGxlOiAnb3JkZXJzLmJsYWRlcy5zaGlwbWVudC1pdGVtcy5zdWJ0aXRsZScsXG4gICAgICAgICAgICAgICAgY3VycmVudEVudGl0eTogYmxhZGUuY3VycmVudEVudGl0eSxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5zaGlwbWVudEl0ZW1zQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdNb2R1bGVzLyQoVmlydG9Db21tZXJjZS5PcmRlcnMpL1NjcmlwdHMvYmxhZGVzL3NoaXBtZW50LWl0ZW1zLnRwbC5odG1sJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJsYWRlTmF2aWdhdGlvblNlcnZpY2Uuc2hvd0JsYWRlKG5ld0JsYWRlLCBibGFkZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XSk7XG4iLCLvu79hbmd1bGFyLm1vZHVsZSgndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZScpXG4uY29udHJvbGxlcigndmlydG9Db21tZXJjZS5vcmRlck1vZHVsZS5zaGlwbWVudFRvdGFsc1dpZGdldENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSkge1xuXHQkc2NvcGUuYmxhZGUgPSAkc2NvcGUud2lkZ2V0LmJsYWRlO1xuXG5cdCRzY29wZS4kd2F0Y2goJ3dpZGdldC5ibGFkZS5jdXJyZW50RW50aXR5JywgZnVuY3Rpb24gKHNoaXBtZW50KSB7XG5cdFx0aWYgKHNoaXBtZW50KSB7XG5cdFx0XHQkc2NvcGUuc2hpcG1lbnQgPSBzaGlwbWVudDtcblx0XHR9XG5cdH0sIHRydWUpO1xufV0pO1xuIiwi77u/YW5ndWxhci5tb2R1bGUoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUnKVxuLmNvbnRyb2xsZXIoJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUuZGFzaGJvYXJkLnN0YXRpc3RpY3NXaWRnZXRDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGxvY2FsU3RvcmFnZScsICckc3RhdGUnLFxuICAgIGZ1bmN0aW9uICgkc2NvcGUsICRsb2NhbFN0b3JhZ2UsICRzdGF0ZSkge1xuICAgICAgICAkc2NvcGUuJHN0b3JhZ2UgPSAkbG9jYWxTdG9yYWdlO1xuXG4gICAgICAgICRzY29wZS5vcGVuQmxhZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkc3RhdGUuZ28oJ3dvcmtzcGFjZS5vcmRlck1vZHVsZScpO1xuICAgICAgICB9O1xuICAgIH1dKTtcbiIsIu+7v2FuZ3VsYXIubW9kdWxlKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlJylcbi5jb250cm9sbGVyKCd2aXJ0b0NvbW1lcmNlLm9yZGVyTW9kdWxlLm5ld09wZXJhdGlvbldpemFyZENvbnRyb2xsZXInLCBbJyRzY29wZScsICdwbGF0Zm9ybVdlYkFwcC5ibGFkZU5hdmlnYXRpb25TZXJ2aWNlJywgJ3ZpcnRvQ29tbWVyY2Uub3JkZXJNb2R1bGUua25vd25PcGVyYXRpb25zJywgZnVuY3Rpb24gKCRzY29wZSwgYmxhZGVOYXZpZ2F0aW9uU2VydmljZSwga25vd25PcGVyYXRpb25zKSB7XG4gICAgdmFyIGJsYWRlID0gJHNjb3BlLmJsYWRlO1xuXG4gICAgJHNjb3BlLmF2YWlsYWJsZU9wZXJhdGlvbnMgPSBfLm1hcChibGFkZS5hdmFpbGFibGVUeXBlcywgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIGtub3duT3BlcmF0aW9ucy5nZXRPcGVyYXRpb24odHlwZSk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUub3BlbkRldGFpbHNCbGFkZSA9IGZ1bmN0aW9uIChvcCkge1xuICAgICAgICB2YXIgbmV3QmxhZGUgPSBhbmd1bGFyLmNvcHkob3AuZGV0YWlsQmxhZGUpOyAgICAgICAgXG4gICAgICAgIG5ld0JsYWRlLmN1c3RvbWVyT3JkZXIgPSBibGFkZS5jdXN0b21lck9yZGVyO1xuICAgICAgICBuZXdCbGFkZS5pc05ldyA9IHRydWU7XG5cbiAgICAgICAgYmxhZGVOYXZpZ2F0aW9uU2VydmljZS5zaG93QmxhZGUobmV3QmxhZGUsIGJsYWRlLnBhcmVudEJsYWRlKTtcbiAgICB9O1xuXG4gICAgYmxhZGUuaXNMb2FkaW5nID0gZmFsc2U7XG59XSk7XG4iXSwic291cmNlUm9vdCI6IiJ9